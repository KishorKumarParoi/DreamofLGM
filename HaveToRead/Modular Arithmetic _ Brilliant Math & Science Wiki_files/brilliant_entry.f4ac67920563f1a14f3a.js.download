(function(e){function t(t){var a=t[0];var r=t[1];var s=t[2];var l,u,c=0,d=[];for(;c<a.length;c++){u=a[c];if(i[u]){d.push(i[u][0])}i[u]=0}for(l in r){if(Object.prototype.hasOwnProperty.call(r,l)){e[l]=r[l]}}if(f)f(t);while(d.length){d.shift()()}o.push.apply(o,s||[]);return n()}function n(){var e;for(var t=0;t<o.length;t++){var n=o[t];var a=true;for(var r=1;r<n.length;r++){var s=n[r];if(i[s]!==0)a=false}if(a){o.splice(t--,1);e=l(l.s=n[0])}}return e}var a={};var r={63:0,5:0,15:0,69:0};var i={63:0,5:0,15:0,69:0};var o=[];function s(e){return l.p+""+({0:"viz-02-calcdoku-viz-02-crypto-one-offs-viz-02-drone-game-viz-02-grid-fill-viz-02-hot-cold-viz-02-log-f628d37f",1:"vendors-viz-02-calcdoku-viz-02-crypto-one-offs-viz-02-grid-fill-viz-02-hot-cold-viz-02-neural-networ-1f0cb24b",2:"vendors-viz-02-canvas-viz-02-cs-one-offs-viz-02-drone-game-viz-02-escher-viz-02-graph-viz-02-greedy--699476ac",3:"vendors-viz-02-canvas-viz-02-coinflip-viz-02-drone-game-viz-02-escher-viz-02-graph-viz-02-huygens-cl-377bd783",7:"vendors-viz-02-escher-viz-02-graph-viz-02-greedy-scheduler-viz-02-operator-search-viz-02-quantum-circuit",8:"vendors-viz-02-escher-viz-02-graph-viz-02-javascript-viz-02-operator-search-viz-02-quantum-circuit",10:"vendors-d3-nux-d3-stats-viz-02-escher-viz-02-graph",11:"vendors-viz-02-canvas-viz-02-escher-viz-02-graph-viz-02-huygens-clock",13:"vendors-d3-stats-viz-02-escher-viz-02-graph",24:"viz-02-escher-viz-02-graph",60:"admin",69:"codemirror",89:"logic-circuit-css",114:"vendors-codemirror",115:"vendors-d3-nux",117:"vendors-viz-02-coinflip",118:"vendors-viz-02-escher",119:"vendors-viz-02-quantum-circuit",122:"viz-02-calcdoku",123:"viz-02-canvas",124:"viz-02-coinflip",125:"viz-02-crypto-one-offs",126:"viz-02-cs-one-offs",127:"viz-02-drone-game",128:"viz-02-escher",129:"viz-02-graph",130:"viz-02-greedy-scheduler",131:"viz-02-grid-fill",132:"viz-02-hot-cold",133:"viz-02-huygens-clock",134:"viz-02-javascript",135:"viz-02-logic-circuit",136:"viz-02-neural-networks",137:"viz-02-number-bunchers",138:"viz-02-operator-search",139:"viz-02-order-logic",140:"viz-02-parsons-problem",141:"viz-02-quantum-circuit",142:"viz-02-sherlock-search",143:"viz-02-toggle-tags",144:"viz-02-world-map-probability"}[e]||e)+"."+{0:"427a742806f3675f161a",1:"7e2c2cc06b657ee8d6f3",2:"b1216ae546d45ab2c662",3:"ef33552ef23fb41b0ec0",4:"67dee6f7e4644bc31aa4",5:"29b521b6d94e616de20b",6:"c5285d3a8f7e291e9868",7:"f68b78acafa58860bd7f",8:"2b216e668c9aa3927534",9:"fb93a118f4ff63cb7a04",10:"996703e77ed42f181b9b",11:"e29218f47b852c547eef",12:"d734b485df3e3d84093c",13:"70f56d9b5e348218469d",17:"daccec21805210b870b9",24:"6d38c3b969b540b41813",60:"7e17b48e041a9b51ba3c",69:"464202f65314f018bec5",89:"6daf365d496a6a1ddded",114:"73d371650d05c798c797",115:"0de0a19917365a32dd1b",117:"85b52ad6692fb699945c",118:"34768587c1d6d353fc2d",119:"39be974abac872bf9f7b",122:"a7e8b999ba56d1d1b283",123:"52d1e45bcbfbdab9a544",124:"7ea229f7301185a43073",125:"f1ff60b99a47649b4283",126:"d3bff7573243f82abde7",127:"d9bb706731b951b1aab6",128:"ed4c2db611867b69f51f",129:"05f1a37a72f74439a8d4",130:"067633fb0b6bb4b244fb",131:"55ac3268a6d6ab680b8c",132:"563f6ebee1f06fd39e9e",133:"100254151ff42f4f0915",134:"21a0a97d396dab46bf13",135:"f275275cf5799783344e",136:"7fc62b7e9d748564d321",137:"4acf7a66573b48fed9d7",138:"d10fa96bb4d398afe459",139:"e55398ba178565041e47",140:"1a5f4aa71d03d08197c7",141:"90f135c1d34bf0353778",142:"3db25730e08a6fa2b437",143:"94ecda56d4585b56176c",144:"9b207868e4a59bc7a47c",155:"13899a72aa46cfcda591",156:"97c56f8cf05f597a27af",157:"9df5a649584437c3fd64",158:"68a66c4c60623e283d03",159:"4488b173c60abfb37679",160:"c90a513953977fb84f32",169:"c76e1b8004285b2f634b",170:"0e1213ec2cd802dfe4e5",171:"21f0c5913a203f40a7d8",172:"c0f1963913610608bb55",173:"b2d2055ea82d15edda79",174:"d97450b973dd1391df12",175:"9c9c01caa305c3413e1a",180:"8a8916c1179d013b174b",181:"8cfea41efb92585b50ce"}[e]+".js"}function l(t){if(a[t]){return a[t].exports}var n=a[t]={i:t,l:false,exports:{}};e[t].call(n.exports,n,n.exports,l);n.l=true;return n.exports}l.e=function e(t){var n=[];var a={89:1,160:1,169:1,170:1,171:1,172:1,173:1,174:1,175:1};if(r[t])n.push(r[t]);else if(r[t]!==0&&a[t]){n.push(r[t]=new Promise((function(e,n){var a=""+({0:"viz-02-calcdoku-viz-02-crypto-one-offs-viz-02-drone-game-viz-02-grid-fill-viz-02-hot-cold-viz-02-log-f628d37f",1:"vendors-viz-02-calcdoku-viz-02-crypto-one-offs-viz-02-grid-fill-viz-02-hot-cold-viz-02-neural-networ-1f0cb24b",2:"vendors-viz-02-canvas-viz-02-cs-one-offs-viz-02-drone-game-viz-02-escher-viz-02-graph-viz-02-greedy--699476ac",3:"vendors-viz-02-canvas-viz-02-coinflip-viz-02-drone-game-viz-02-escher-viz-02-graph-viz-02-huygens-cl-377bd783",7:"vendors-viz-02-escher-viz-02-graph-viz-02-greedy-scheduler-viz-02-operator-search-viz-02-quantum-circuit",8:"vendors-viz-02-escher-viz-02-graph-viz-02-javascript-viz-02-operator-search-viz-02-quantum-circuit",10:"vendors-d3-nux-d3-stats-viz-02-escher-viz-02-graph",11:"vendors-viz-02-canvas-viz-02-escher-viz-02-graph-viz-02-huygens-clock",13:"vendors-d3-stats-viz-02-escher-viz-02-graph",24:"viz-02-escher-viz-02-graph",60:"admin",69:"codemirror",89:"logic-circuit-css",114:"vendors-codemirror",115:"vendors-d3-nux",117:"vendors-viz-02-coinflip",118:"vendors-viz-02-escher",119:"vendors-viz-02-quantum-circuit",122:"viz-02-calcdoku",123:"viz-02-canvas",124:"viz-02-coinflip",125:"viz-02-crypto-one-offs",126:"viz-02-cs-one-offs",127:"viz-02-drone-game",128:"viz-02-escher",129:"viz-02-graph",130:"viz-02-greedy-scheduler",131:"viz-02-grid-fill",132:"viz-02-hot-cold",133:"viz-02-huygens-clock",134:"viz-02-javascript",135:"viz-02-logic-circuit",136:"viz-02-neural-networks",137:"viz-02-number-bunchers",138:"viz-02-operator-search",139:"viz-02-order-logic",140:"viz-02-parsons-problem",141:"viz-02-quantum-circuit",142:"viz-02-sherlock-search",143:"viz-02-toggle-tags",144:"viz-02-world-map-probability"}[t]||t)+"."+{0:"427a742806f3675f161a",1:"7e2c2cc06b657ee8d6f3",2:"b1216ae546d45ab2c662",3:"ef33552ef23fb41b0ec0",4:"67dee6f7e4644bc31aa4",5:"29b521b6d94e616de20b",6:"c5285d3a8f7e291e9868",7:"f68b78acafa58860bd7f",8:"2b216e668c9aa3927534",9:"fb93a118f4ff63cb7a04",10:"996703e77ed42f181b9b",11:"e29218f47b852c547eef",12:"d734b485df3e3d84093c",13:"70f56d9b5e348218469d",17:"daccec21805210b870b9",24:"6d38c3b969b540b41813",60:"7e17b48e041a9b51ba3c",69:"464202f65314f018bec5",89:"6daf365d496a6a1ddded",114:"73d371650d05c798c797",115:"0de0a19917365a32dd1b",117:"85b52ad6692fb699945c",118:"34768587c1d6d353fc2d",119:"39be974abac872bf9f7b",122:"a7e8b999ba56d1d1b283",123:"52d1e45bcbfbdab9a544",124:"7ea229f7301185a43073",125:"f1ff60b99a47649b4283",126:"d3bff7573243f82abde7",127:"d9bb706731b951b1aab6",128:"ed4c2db611867b69f51f",129:"05f1a37a72f74439a8d4",130:"067633fb0b6bb4b244fb",131:"55ac3268a6d6ab680b8c",132:"563f6ebee1f06fd39e9e",133:"100254151ff42f4f0915",134:"21a0a97d396dab46bf13",135:"f275275cf5799783344e",136:"7fc62b7e9d748564d321",137:"4acf7a66573b48fed9d7",138:"d10fa96bb4d398afe459",139:"e55398ba178565041e47",140:"1a5f4aa71d03d08197c7",141:"90f135c1d34bf0353778",142:"3db25730e08a6fa2b437",143:"94ecda56d4585b56176c",144:"9b207868e4a59bc7a47c",155:"13899a72aa46cfcda591",156:"97c56f8cf05f597a27af",157:"9df5a649584437c3fd64",158:"68a66c4c60623e283d03",159:"4488b173c60abfb37679",160:"c90a513953977fb84f32",169:"c76e1b8004285b2f634b",170:"0e1213ec2cd802dfe4e5",171:"21f0c5913a203f40a7d8",172:"c0f1963913610608bb55",173:"b2d2055ea82d15edda79",174:"d97450b973dd1391df12",175:"9c9c01caa305c3413e1a",180:"8a8916c1179d013b174b",181:"8cfea41efb92585b50ce"}[t]+".css";var i=l.p+a;var o=document.getElementsByTagName("link");for(var s=0;s<o.length;s++){var u=o[s];var c=u.getAttribute("data-href")||u.getAttribute("href");if(u.rel==="stylesheet"&&(c===a||c===i))return e()}var d=document.getElementsByTagName("style");for(var s=0;s<d.length;s++){var u=d[s];var c=u.getAttribute("data-href");if(c===a||c===i)return e()}var f=document.createElement("link");f.rel="stylesheet";f.type="text/css";f.onload=e;f.onerror=function(e){var a=e&&e.target&&e.target.src||i;var o=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED";o.request=a;delete r[t];f.parentNode.removeChild(f);n(o)};f.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){r[t]=0})))}var o=i[t];if(o!==0){if(o){n.push(o[2])}else{var u=new Promise((function(e,n){o=i[t]=[e,n]}));n.push(o[2]=u);var c=document.createElement("script");var d;c.charset="utf-8";c.timeout=120;if(l.nc){c.setAttribute("nonce",l.nc)}c.src=s(t);var f=new Error;d=function(e){c.onerror=c.onload=null;clearTimeout(p);var n=i[t];if(n!==0){if(n){var a=e&&(e.type==="load"?"missing":e.type);var r=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+a+": "+r+")";f.name="ChunkLoadError";f.type=a;f.request=r;n[1](f)}i[t]=undefined}};var p=setTimeout((function(){d({type:"timeout",target:c})}),12e4);c.onerror=c.onload=d;document.head.appendChild(c)}}return Promise.all(n)};l.m=e;l.c=a;l.d=function(e,t,n){if(!l.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};l.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};l.t=function(e,t){if(t&1)e=l(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);l.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n};l.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};l.d(t,"a",t);return t};l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};l.p="/site_media/build/dist/";l.oe=function(e){console.error(e);throw e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[];var c=u.push.bind(u);u.push=t;u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=c;o.push([475,67]);return n()})({1:function(e,t,n){"use strict";var a=l(n(0));var r=l(n(2));var i=n(8);var o=l(n(50));var s=n(16);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){u=function e(t){return typeof t}}else{u=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return u(e)}function c(e){return p(e)||f(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function p(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++){n[t]=e[t]}return n}}var v={};v.$document=(0,a.default)(document);v.$html=(0,a.default)(document.documentElement);v.$body=(0,a.default)(document.body);v.$window=(0,a.default)(window);v.jqCreateElem=function(e){return(0,a.default)(document.createElement(e))};v.jqGetElemById=function(){var e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}n.forEach((function(t){var n=document.getElementById(t);if(n){e.push(n)}}));return(0,a.default)(e)};v.jqGetElemByCmpName=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}var a=t.map((function(e){return"cmp_".concat(e,"_id")}));return v.jqGetElemById.apply(v,c(a))};var h=v.$body.data();function m(){if(h.appVersion){return new o.default(h.appVersion)}var e=window.navigator.userAgent.match(/brilliant-(android|ios)-(.*?)$/);var t=e!==null&&e.length?e[2]:null;return new o.default(t)}v.isIos=h.isIos===true||navigator.userAgent.indexOf("brilliant-ios-")>=0;v.isIosWeb=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;v.iosVersion={};v.isAndroid=h.isAndroid===true||navigator.userAgent.indexOf("brilliant-android-")>=0;v.isAndroidWeb=navigator.userAgent.toLowerCase().indexOf("android")!==-1;v.isNative=v.isIos||v.isAndroid;v.isMobile=h.isMobile===true||v.isNative;v.appVersion=m();v.isTouchDevice="ontouchstart"in document.documentElement;v.userIsAuthenticated=v.$body.hasClass("active");v.isBrilliantPremium=v.$body.hasClass("b2");v.media_host=h.mediaHost;v.thirdPartyCookiesEnabled=h.thirdPartyCookiesEnabled===true;v.instantTryItYourself=v.$body.hasClass("instant-try-it-yourself");v.smallPadding=8;v.mediumPadding=v.smallPadding*2;v.largePadding=v.smallPadding*3;if(v.isIosWeb){var g=/OS (\d+_\d+(_\d+)?)/.exec(navigator.appVersion);if(g){var y=g[1];if(!g[2]){y+="_0"}y=y.replace(/_/g,".");v.iosVersion=new o.default(y)}}v.supportsAnimation=function(){var e=null;return function(){if(e!==null){return e}e=false;var t="animation",n="",a=["Webkit","Moz","O","ms","Khtml"],r="",i=document.createElement("div");if(i.style.animationName!==undefined){e=true}if(e===false){for(var o=0;o<a.length;o++){if(i.style[a[o]+"AnimationName"]!==undefined){r=a[o];t=r+"Animation";n="-"+r.toLowerCase()+"-";e=true;break}}}return e}}();window.get_valid_file_extensions=function(){return["gif","jpg","jpeg","png"]};window.history.pushState=window.history.pushState||a.default.noop;v.commaFormat=function(e){e=""+e;var t="";if(e.indexOf(".")>-1){e=e.split(".")[0]}if(e.length>3){return v.commaFormat(e.substring(0,e.length-3))+","+e.substring(e.length-3)}if(t.length){return e+"."+t}return e};v.getRelativeUrl=function(){return location.pathname+location.search};v.jqOffOn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++){n[r-1]=arguments[r]}return e.each((function(e,t){var r;(r=(0,a.default)(t).off(n[0])).on.apply(r,n)}))};v.setScrollPosition=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.$container,a=n===void 0?v.$html.add(v.$body):n,o=t.animate,s=o===void 0?false:o,l=t.delay,u=l===void 0?0:l,c=t.duration,d=c===void 0?i.TRANSITION_SPEED_MEDIUM:c,f=t.callback,p=f===void 0?r.default.noop:f;if(s){if(u){a.delay(u)}a.animate({scrollTop:e},{duration:d,complete:r.default.once(p)})}else{a.scrollTop(e);p()}};v.toggleComponentDebug=function(e){e.on("click",(function(e){e.preventDefault();(0,a.default)("div.debug_component_info").toggle()}))};var _=window.ie_version||false;(0,s.onDOMReady)((function(){var e=[];var t=[];var n=/Edge/.test(navigator.userAgent);e.push("no-js");t.push("js");t.push(n?"msedge":"not-msedge");if(_!==false||/msie/i.test(navigator.userAgent)||/rv:1./.test(navigator.userAgent)){t.push("ie");if(!_){try{_=parseInt(navigator.userAgent.match(/msie (\d{1,2})/i)[1],10)}catch(e){_=10}}if(_===-1){t.push("ie-noncompatible")}if(_>=9){t.push("ie-modern")}if(_>=6){t.push("ie-".concat(_))}}else{var a=navigator.userAgent.toLowerCase();if(a.indexOf("applewebkit")!==-1){t.push("webkit");if(u(window.chrome)==="object"){t.push("chrome")}}else if(a.indexOf("gecko")!==-1){t.push("mozilla")}else if(a.indexOf("presto")!==-1){t.push("opera");if(a.indexOf("opera mini")!==-1){t.push("opera-mini")}}else if(a.indexOf("series40")!==-1){t.push("s40")}var r=a.match(/android\s([0-9.]*)/);if(r!==null){var i=parseFloat(r[1]);if(i>=4.4){t.push("android-newer")}else{t.push("android-older")}}var o=window._cio||null;if(a.indexOf("android")!==-1&&o!==null){o.track("logged_in_with_android_browser")}}if(!v.isTouchDevice){t.push("no-touch")}v.$body.removeClass(e.join(" ")).addClass(t.join(" "))}));window._fb_status=window._fb_status||[];window.fb_auth_status=function(e){_fb_status.push(e||function(){})};if(window.location.search.indexOf("breakme")>=0){breakMe()}e.exports=v},100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getOrientation=r;t.repositionTooltip=i;var a=n(1);function r(e,t){var n=[];var r=e.offset();var i=a.$window;var o=i.width()/2;var s=r.top-i.scrollTop();if(t){s-=t.height()+50}else{s-=300}n.push(r.left>o?"right":"left");n.push(s>0?"top":"bottom");return n.join(" ")}function i(e){var t=e.$target,n=e.$tooltip,a=e.topOffset,r=e.leftOffset,i=e.zOffset,o=e.offsetMethod;var s={};var l=o==="position"?t.position():t.offset();var u=n.attr("class").split(" ");var c=300;var d=700;var f=i;if(f===undefined){f=t.parents(".modal,.nf-feeditem-modal").length?d:c}if(u.indexOf("top")!==-1){s.top=l.top-(n.outerHeight()+a)}else{s.top=l.top+t.height()+a}if(u.indexOf("left")!==-1){s.left=l.left+t.width()/2+r}else{s.left=l.left-n.outerWidth()-r+t.width()/2}return{zIndex:f,top:s.top,left:s.left}}},108:function(e,t,n){"use strict";var a=m(n(0));var r=m(n(2));var i=m(n(28));var o=n(7);var s=m(n(30));var l=n(1);var u=h(n(41));var c=n(6);var d=n(8);var f=n(9);var p=n(23);var v=n(11);n(353);function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function m(e){return e&&e.__esModule?e:{default:e}}function g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};var a=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))}a.forEach((function(t){y(e,t,n[t])}))}return e}function y(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function _(e){return k(e)||w(e)||b()}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function w(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function k(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++){n[t]=e[t]}return n}}var C=false;var x=false;var E="";var I={};var T=null;var O=function e(t){(0,o.track)("payment timeout error",{step:t})};I.SellPage=new function(){var e=this;e.controller=function(e){var t=(0,l.jqGetElemById)("subscription-info-modal").detach();if(t.length){e.find(".learn-more").on("click",(function(e){e.preventDefault();t.clone().modal()}))}};return e};I.bulkPricing=function(e){e.find(".bulk-pricing-trigger").on("click",(function(){e.toggleClass("expanded")}))};I.giftPersonalizationForm=function(e){var t=e.find(".plan-type-field input");var n=(0,a.default)("#auto-renew-note");var r=e.find(".gift-tooltip");var i=_(t).map((function(e){return e.value})).join(" ");t.on("change",(function(e){var t=e.target.value;n.removeClass(i).addClass(t)}));r.find(".trigger").on("click",(function(e){e.preventDefault();if(!r.hasClass("active")){r.addClass("active");setTimeout((function(){return l.$body.one("click",(function(){return r.removeClass("active")}))}),1)}}));e.find("input").on("keydown",(function(t){if(t.keyCode===13){t.preventDefault();e.find('[type="submit"]').trigger("click")}}))};I.giftPayment=function(e){T=e.data("gift-message-id")};I.giftDatepicker=function(e){var t=0;var n={maxViewMode:t,minViewMode:"days",startView:t,clearBtn:false,templates:{leftArrow:'<span class="arrow left"></span>',rightArrow:'<span class="arrow right"></span>'}};e.datepicker(r.default.extend({},n,e.data()));e.on("changeDate",(function(e){var t=e.date.getFullYear();var n=e.date.getMonth()+1;var a=e.date.getDate();(0,l.jqGetElemById)("gift-date-text").text("".concat(t,"/").concat(n,"/").concat(a));(0,l.jqGetElemById)("id_delivery_date_year").val(t);(0,l.jqGetElemById)("id_delivery_date_month").val(n);(0,l.jqGetElemById)("id_delivery_date_day").val(a);(0,l.jqGetElemById)("gift-date-dropdown").find(".dropdown-toggle").dropdown("toggle")}))};I.giftSubscriptionHandler=function(e){if(e.success){window.location.href=e.gift_purchase.show_url}else{(0,p.showStandardErrorModal)()}};I.giftSubscribeOptIn=function(e){e.on("change",(function(e){var t=e.target;if(t.disabled){return}var n=(0,a.default)(t);var r=n.data("url");t.disabled=true;a.default.post(r).done((function(e){if(e.success===true){n.data("url",e.new_url)}else{(0,p.showStandardErrorModal)()}})).fail((function(){n.prop("checked",!n.prop("checked"));(0,p.showStandardErrorModal)()})).always((function(){t.disabled=false}))}))};I.paywallCourses=function(e){var t=e.find(".btn-group .btn");var n="active";t.on("click",(function(){var r=(0,a.default)(this);if(!r.hasClass(n)){t.toggleClass(n);e.toggleClass("practice");(0,o.track)("ui",{element_id:"clicked_paywall_courses_tab",tab_name:r.data("ax-tab"),action:"click"})}}))};I.setFeaturesScroll=function(e){e.scrollLeft(e[0].scrollWidth)};I.Checkout={};var S;var q=null;var j=function e(t,n,r){var o=(0,l.jqGetElemById)("paid-subscribe").data();var s=o.url;var u={plan:S.plan,stripeToken:t.id};var c={url:s,data:u,type:"POST",timeout:6e4};if(T){u.gift_message_id=T}if(P()&&!T){c.url=(0,l.jqGetElemById)("stripe-one-time-payment").data("url");c.data.payment_plan_id=S.paymentPlanId||S.plan;c.data.amount=S.amount}var d=a.default.ajax(c);if(r===true){return d}d.then((function(e){if(o.callback){I[o.callback](e)}else{var t=(0,a.default)(document.createElement("div")).append(e);l.$body.append(t);(0,v.initGenericControllers)(t)}})).fail((function(e){if(e.statusText==="timeout"){i.default.captureMessage("stripeTokenHandler: timeout error");O("Sending token to backend")}(0,p.errorModalHandler)(e)}));if(q!==null){q.modal("show")}};var P=function e(){return typeof S.paymentPlanId!=="undefined"||S.planType==="lifetime"||S.planType==="stripe_onetime_year"};var A=function e(t){var n=r.default.extend({},t);var a=["controller","controllerInited","loadedAxId","axId","axType","majorAmount","ax_active"];a.forEach((function(e){delete n[e]}));n.name=n.name.replace("^2"," Premium").replace("[USD]","").trim();return n};var D=false;var N=false;var M=null;I.Checkout.trigger=function(){var e=function e(t){var n=t.data();t.removeClass("disabled").removeAttr("disabled").data("ax-id",n.loadedAxId).attr("data-ax-id",n.loadedAxId);(0,l.jqOffOn)(t,"click.checkout",(function(e){e.preventDefault();L(M,n)}))};var t=function e(t){};var n;return function(a){if(D){if(N){t(a)}else{e(a)}}else{l.$body.on("checkout.preloadDone",(function(){e(a)}));l.$body.on("checkout.preloadFailed",(function(){t(a)}))}a.filter(".disabled").on("click.checkout",(function(e){e.preventDefault();if(!n){n=(0,l.jqGetElemById)("checkout-loading-modal")}n.modal();n.parent(".modal-bg").css("z-index",1042)}))}}();var z=function(){var e=false,t=false;return function(){if(t){return}t=true;var n=(0,l.jqGetElemById)("stripe-checkout-data").data();if(!n){return}else if(!n.giftSubscription&&n.useCustomForm){return}C=n.enableNewStripeCheckout===true;x=n.enableCustomStripeCheckout===true;E=n.customStripeCheckoutUrl;var r=0,s=200,u=75;var c=setInterval((function(){r++;if("StripeCheckout"in window){clearInterval(c);if(M===null){var t={key:n.key,image:n.image,email:n.email||null,token:j,opened:function e(){(0,o.track)("ui",{element_id:"stripe_checkout_modal_opened"})},closed:function e(){(0,o.track)("ui",{element_id:"stripe_checkout_modal_closed"})}};if(n.panelLabel){t.panelLabel=n.panelLabel}M=StripeCheckout.configure(t)}D=true;l.$body.trigger(a.default.Event("checkout.preloadDone"))}else if(r===u){clearInterval(c);D=true;N=true;l.$body.trigger(a.default.Event("checkout.preloadFailed"));if(!e){e=true;if((0,l.jqGetElemById)("sellpage-wrapper").length){i.default.captureMessage("Paid.Checkout.trigger: "+"poll timeout waiting for StripeCheckout.");O("Loading checkout.js")}}}}),s)}}();var L=function e(t,n){var i=A(n);S=r.default.extend({},i);var o=(i.planType==="annual"||i.planType==="monthly")&&(i.currency==="EUR"||i.currency==="GBP"||C)&&window.location.href.indexOf("/give-premium/")===-1;if(x&&!P()){window.location.href=(0,f.appendGetParams)(E,g({plan:i.plan},T?{gift_message_id:T}:null))}else if(o){var s={plan_id:i.plan};a.default.get("/premium/stripe/create-checkout-session/",s).fail(p.showStandardErrorModal).then((function(e){var t=e.results.checkout_session;if(!t){(0,p.showStandardErrorModal)()}var n=Stripe(t.public_key);n.redirectToCheckout({sessionId:t.session_id}).then((function(){return(0,p.showStandardErrorModal)()}))}))}else{delete i.plan;delete i.planType;t.open(i)}};I.Checkout.preload=function(){z()};I.Checkout.response=function(e){var t=e.data();var n=60;var r=window.location.href;var o=0;var s;var u=(0,l.jqGetElemById)("paid-status-success-btn");var c=function n(){if(t.showAppleWarning){(0,l.jqGetElemById)("existing-apple-subscription-warning").modal()}e.addClass("loaded success");r=u.prop("href")};if(t.success&&t.displaySuccess){c()}else if(t.success){s=setInterval((function(){a.default.get(t.url,{s:t.subscription}).then((function(e){if(e==="active"){c();clearInterval(s)}})).fail((function(e){clearInterval(s);(0,p.errorModalHandler)(e)}));o++;if(o>=n){e.addClass("loaded error");clearInterval(s);i.default.captureMessage("Paid.Checkout.response: timeout error");O("Checkout subscription status")}}),1e3)}else{e.addClass("loaded error")}if(q!==null){q.modal("hide")}e.modal();e.on("hide",(function(){l.$body.addClass("disabled");window.location.href=r}))};I.Checkout.prestatus=function(e){e.modal({show:false});e.on("show",(function(){(0,a.default)(".sell-page.visible").removeClass("visible")}));q=e};var $=function(){var e=null;var t=false;var n=r.default.template('<ul class="errorlist"><%= list %></ul>');var i=r.default.template("<li><%- message %></li>");var o=function e(t,n){return l.$window.trigger(a.default.Event("survey.".concat(n)))};return function(s){s.preventDefault();var u=(0,a.default)(this);if(t){o(u,"complete");return}if(e===null){e=(0,l.jqGetElemById)("paid-cancel-survey");if(!e.length){(0,p.showStandardErrorModal)();return}e.on("submit",(function(s){s.preventDefault();a.default.post(e.attr("action"),e.serialize()).fail(p.errorModalHandler).then((function(a){if(a.success){t=true;e.modal("hide");o(u,"complete")}else{(0,l.setScrollPosition)(0,{$container:e.parent()});var s=[];for(var c in a.errors){s.push(a.errors[c][0])}var d=s.map((function(e){return i({message:e})})).join("");r.default.defer((function(){e.find(".errorlist").remove();e.find(".modal-body").prepend(n({list:d}))}))}}))}))}o(u,"beforeshown");e.modal()}}();I.Payment={};var B=null,U=null;var F=function e(t){a.default.get(t.url,t).then((function(){l.$body.addClass("disabled");window.location.reload()})).fail(p.errorModalHandler)};I.Payment.cancellationModalTrigger=function(e){e.on("click",(function(t){t.preventDefault();if(e.hasClass("disabled")){return}U=e.data();if(U.force){F(U)}else{if(B!==null){B.modal("show")}}}))};I.Payment.cancelModal=function(e){B=e.clone(true);B.modal({show:false});B.find("#paid-cancel").on("click",(function(e){var t=(0,l.jqGetElemById)("payment-switch-plan-modal").clone(true);var n=e.currentTarget;if(t.length){B.modal("hide");t.find(".cancel-link").on("click",(function(){$.call(n,e)}));t.addClass("canceling");t.modal()}else{B.modal("hide");$.call(n,e)}}));l.$window.on("survey.complete",(function(){(0,l.jqGetElemById)("acct-settings-subscription").find(".cancel a").addClass("disabled");if(U.isPaytm){var e=(0,l.jqGetElemById)("cancel-confirm-".concat(U.id));e.modal("show");e.find("#confirm-btn").on("click",(function(){F(U)}))}else if(U!==null){F(U)}}))};I.Payment.Renew=function(e){e.on("click",(function(t){t.preventDefault();e.addClass(d.CLASS_NAME_DISABLED);l.$body.addClass(d.CLASS_NAME_DISABLED);a.default.get((0,a.default)(t.currentTarget).attr("href")).then((function(){return window.location.reload()})).fail(p.errorModalHandler).fail((function(){return l.$body.removeClass(d.CLASS_NAME_DISABLED)}))}))};I.Payment.UpdateCard=function(e){e.on("click",(function(t){if(!e.hasClass(d.CLASS_NAME_DISABLED)){var n=(0,l.jqGetElemById)("card-info");var r=n.find(".spinner");var i=(0,a.default)(t.target).data(),o=i.key,s=i.image,u=i.email,c=i.name,f=i.url,v=i.buttonLabel;var h={key:o,image:s,name:c,url:f,email:u||null,allowRememberMe:false};var m=Object.assign({panelLabel:v,token:function t(i){var o="visible";e.addClass(d.CLASS_NAME_DISABLED);r.addClass(o);a.default.post(f,{stripeToken:i.id}).then((function(){["last4","exp_month","exp_year"].forEach((function(e){n.find(".".concat(e)).text(i.card[e])}));e.removeClass(d.CLASS_NAME_DISABLED);r.removeClass(o)})).fail(p.errorModalHandler)},closed:function t(){e.removeClass(d.CLASS_NAME_DISABLED)}},h);e.addClass(d.CLASS_NAME_DISABLED);StripeCheckout.configure(m).open(h)}}))};I.switchPlanModal=function(e){e.on("click",(function(){(0,l.jqGetElemById)("payment-switch-plan-modal").clone(true).modal()}))};I.redeemPremiumPerk=function(e){e.on("submit",(function(t){t.preventDefault();e.find("button").prop("disabled",true);var n=e.data();var r={perk_type:n.perkType};a.default.post(e.prop("action"),r).fail(p.showStandardErrorModal).then((function(t){if(t.success===true){if(n.nextUrl){window.location.href=n.nextUrl}else{e.parents(".modal").modal("hide");(0,l.jqGetElemById)("perk-modal-trigger").addClass(d.CLASS_NAME_ACTIVE)}}else{(0,p.showStandardErrorModal)()}}))}))};I.couponCountdown=function(){var e=null,t=null,n=null;var a=function e(t){t=t.toString();return t<10?"0"+t:t};var i=function t(r,i,o,s){var l=Math.round((new Date).getTime()/1e3)-r,u=i-l;if(l>0||s){if(u<0){u=0}var c=~~(u/86400);var d=~~(u%86400/3600);var f=~~(u%3600/60);var p=u%60;var v={days:c,hours:c>0?a(d):d,minutes:a(f),seconds:a(p)};var h=o(v);if(h!==n){e.text(h);n=h}}return u};return function(n){var a=r.default.template(n.data("template"));var o=n.data("seconds");var s=Math.round((new Date).getTime()/1e3);e=e===null?n:e.add(n);r.default.defer((function(){i(s,o,a,true);e.removeClass("hide")}));if(t===null){t=setInterval((function(){if(i(s,o,a)<=0){clearInterval(t);e.parents(".hdr-coupon").remove()}}),250)}}}();function G(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=null;var i=null;if(n===null){n=(0,l.jqGetElemById)("paypal-modal");i=n.find(".sell-page");n.removeClass("hide").appendTo(l.$body);n.find(".close").on("click",(function(){i.removeClass("visible");(0,c.crop)(false);var e=(0,a.default)("#payment-request-button-mobile-button");if(e.length>0){J(e)}}));var o=n.find(".".concat(e," .payment-request-button"));if(o.length>0){J(o)}}r.default.defer((function(){var r=(0,a.default)(".modal-bg .modal:visible");if(r.length){r.modal("hide")}n.removeClass("annual monthly lifetime").addClass(e);n.toggleClass("single-option",t);i.addClass("visible");(0,c.crop)();if(T){n.find("[name=gift_message_id]").val(T)}}))}I.paypalModalTrigger=function(e){e.on("click",(function(){var t=e.data(),n=t.plan,a=t.singlePaymentOption;G(n,a)}))};I.paypalCheckoutButtons=function(e){e.find(".paypal a,.paypal button").on("click",(function(e){(0,a.default)(this).parents(".paypal").addClass("loading")}))};I.salesCardTrigger=function(e){n.e(174).then(n.t.bind(null,717,7));if(l.isMobile){n.e(172).then(n.t.bind(null,718,7))}};I.switchPaywallPosition=function(e){var t=e.find("#prac-markers .prac-marker");var n=e.find("#prev-marker-btn");var r=e.find("#next-marker-btn");var i=e.find(".spm-feature");var o=t.length;var s=1;var l=s;var u="current";var c="disabled";var d=function e(a){i.removeClass(u);i.filter('[data-position="'+l+'"]').addClass(u);t.removeClass(u);if(a){a.addClass(u)}else{t.filter('[data-position="'+l+'"]').addClass(u)}n.removeClass(c);r.removeClass(c);if(l==s){n.addClass(c)}else if(l==o){r.addClass(c)}};t.on("click",(function(e){e.preventDefault();var t=(0,a.default)(this);var n=t.data("position");if(n!=l){l=n;d(t)}}));n.on("click",(function(e){e.preventDefault();if(!(0,a.default)(this).hasClass(c)){l--;d()}}));r.on("click",(function(e){e.preventDefault();if(!(0,a.default)(this).hasClass(c)){l++;d()}}))};I.premiumSurvey=function(){(0,l.setScrollPosition)(0,{animate:true,duration:d.TRANSITION_SPEED_FAST})};I.twinklingStars=function(e){e.find(".premium-stars").remove();var t=e.data();if(!t){return}var n=e.offset();var i=e.outerWidth();var o=e.outerHeight();var s=[];var l=t["starCount"];var u=10;var c=4e3;var d=5e3;var f=[];e.find(".no-stars").each((function(){var e=(0,a.default)(this);var t=e.offset();f.push({left:t.left-n.left-u,right:t.left+e.outerWidth()-n.left+u,top:t.top-n.top-u,bottom:t.top+e.outerHeight()-n.top+u})}));var p=function e(t){var n=t.left/100*i+1.5;var a=t.top/100*o+1.5;for(var r=0;r<f.length;r++){var s=f[r];if(n<s.left||n>s.right||a<s.top||a>s.bottom){continue}return true}return false};var v=document.createElement("span");v.className="premium-stars";for(var h=0;h<l;h++){var m=0;do{var g={left:.5+Math.random()*99,top:2+Math.random()*96};m++}while(p(g)&&m<50);s[h]=document.createElement("span");s[h].className="type-"+~~(Math.random()*3+1);s[h].style.left=g.left+"%";s[h].style.top=g.top+"%";v.appendChild(s[h])}e.append(v);if(!t.static||t.static!==true){r.default.defer((function(){for(var e=0;e<l;e++){var t=~~(Math.random()*c)+d;s[e].style.webkitAnimationDuration=s[e].style.animationDuration=c+"ms";s[e].style.webkitAnimationDelay=s[e].style.animationDelay=t+"ms"}}))}};function R(e){e=e||null;return function(t,n){n=n||{};if(e){t+="_"+e}(0,o.track)("ui",r.default.extend({},{element_type:"button",element_id:t,path:window.location.pathname,full_path:window.location.pathname+window.location.search},n))}}I.freeTrialModal=function(e){var t=e.find(".paywall-free-trial-options button");var n=e.find("#step-0-continue");var i=e.find("#free-trial-continue");var o=e.data();var s="active";var u="paywall-free-trial-modal-active";var c;var d=null;var f=function t(){if(c){c.toggleClass("centered",e.outerHeight()<l.$window.height())}};var p=n.length?R("chapter"):R();t.on("click",(function(){if(d===null){i.removeClass("disabled").removeAttr("disabled")}var e=(0,a.default)(this);if(!e.hasClass(s)){t.removeClass(s);e.addClass(s);d=e.data("option")}}));n.on("click",(function(){if(o.introOnly){if(o.nextChapterUrl){p("clicked_chapter_completion_next_chapter");window.location=o.nextChapterUrl}else{p("clicked_chapter_completion_premium_close");e.modal("hide")}}else{p("clicked_free_trial_intro_continue");e.addClass("step-1")}}));i.on("click",(function(){if(!d){return}p("clicked_free_trial_continue",{free_trial_selected_option:d});if(d==="limited"){if(e.find(".step-2").length){e.removeClass("step-1").addClass("step-2");e.find("#free-trial-close").on("click",(function(){p("clicked_free_trial_limited_close");e.modal("hide")}))}else{e.modal("hide")}}else{e.modal("hide");r.default.defer((function(){p(o.premiumAxId)}));window.open(o.premiumUrl)}}));e.on("show",(function(){l.$body.addClass(u);p("viewed_free_trial_modal");r.default.defer((function(){c=e.parent();f()}));l.$window.on("resize.freeTrialModal",r.default.throttle(f,16))}));e.on("hide",(function(){l.$body.removeClass(u);l.$window.off("resize.freeTrialModal")}));e.modal({backdrop:"static"})};I.cancellationStep=function(e){var t=e.data("step");var n={action:"viewed_autorenew_cancel_slide",step_position:t,is_first_step:t===1,is_last_step:t===4};if(t>1&&e.find(".errorlist").length===0){(0,l.setScrollPosition)(0)}if(t>1){n.triggered_by=d.INTERACTION_TYPES.CONTINUE_BUTTON}r.default.defer((function(){return(0,o.track)("ui",n)}))};I.giftPurchaseList=function(e){var t={giftSummaryModal:r.default.template((0,l.jqGetElemById)("gift-summary-modal-template").text()),turnOffRecurringGiftModal:r.default.template((0,l.jqGetElemById)("turn-off-recurring-gift-modal-template").text())};e.find(".recurring-gift").each((function(e,n){var i=(0,a.default)(n);var o=i.data();var s=function e(t){var n="subscription-state";i.attr("data-".concat(n),t);i.data(n,t)};i.find(".show-gift-summary-modal").on("click",(function(){var e=(0,a.default)(t.giftSummaryModal(o));var n=e.find(".auto-renew-note");(0,a.default)(".gift-summary-modal").remove();l.$body.append(e);e.modal();e.find(".turn-on-auto-renew").on("click",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget);if(t.hasClass(d.CLASS_NAME_DISABLED)){return}var r=t.attr("href");t.addClass(d.CLASS_NAME_DISABLED);a.default.post(r).fail(p.showStandardErrorModal).then((function(e){if(e.state==="active"){n.removeClass("onetime").addClass("recurring");t.removeClass(d.CLASS_NAME_DISABLED);s(e.state)}else{(0,p.showStandardErrorModal)()}}))}));e.find(".turn-off-auto-renew").on("click",(function(i){i.preventDefault();var u=(0,a.default)(i.currentTarget);if(u.hasClass(d.CLASS_NAME_DISABLED)){return}var f=u.attr("href");var v=(0,a.default)(t.turnOffRecurringGiftModal(o));e.modal("hide");(0,a.default)(".turn-off-recurring-gift-modal").remove();l.$body.append(e);v.modal();v.on("hide",(function(){e.modal("show");r.default.defer(c.crop)}));v.find(".turn-off").on("click",(function(){v.find("button").addClass(d.CLASS_NAME_DISABLED);a.default.post(f).fail(p.showStandardErrorModal).then((function(e){if(e.state==="recurring_stopped"){n.removeClass("recurring").addClass("onetime");v.modal("hide");s(e.state)}else{(0,p.showStandardErrorModal)()}}))}))}))}))}))};I.refundForm=function(e){var t="expanded";var n=e.data(),a=n.minChars,r=n.maxChars;var i=e.find('[name="refund_request_choice"]');var o=e.find("textarea");var s=e.find("button");var l=function n(){var l=false;if(i.val().length===0){l=true}var u=o.filter("[name=explanation]").val();if(u.length<a||u.length>r){l=true}if(e.hasClass(t)){var c=["why_subscription","where_lacking","who_would_benefit"];o.each((function(e,t){var n=t.value.length;var i=c.indexOf(t.name)>=0&&(n<a||n>r);if(i){l=true}}))}s.prop("disabled",l)};var u=function n(){var a=i.val();var r=a==="2"||a==="5";e.toggleClass(t,r)};o.on("change keyup",l);i.on("change",(function(){u();l()}))};var H=undefined;var V=undefined;var W=undefined;var K=undefined;var J=function e(t){var n=t.find(".payment-request-button-inner")[0];if(!W){var r=Stripe(t.data("stripe-public-key"));W=r.paymentRequest({country:"US",currency:t.data("currency").toLowerCase(),total:{label:t.data("label"),amount:t.data("amount")},requestPayerName:true,requestPayerEmail:true});var i=r.elements();K=i.create("paymentRequestButton",{paymentRequest:W,style:{paymentRequestButton:{theme:"light-outline",height:"43px"}}});W.canMakePayment().then((function(e){if(e){K.mount(n);H=t.data("subscribe-url");V=t.data("plan-id")}else{(0,a.default)(".paymentrequest").hide()}}));W.on("token",(function(e){a.default.post({url:H,headers:{"X-CSRFToken":t.data("csrf-token")},data:{plan:V,stripeToken:e.token.id,payment_request_method:e.methodName}}).done((function(){e.complete("success");window.location.href=t.data("success-url")})).fail((function(){e.complete("fail")}))}))}else if(t!==undefined&&H!==undefined){K.unmount();W.update({currency:t.data("currency").toLowerCase(),total:{label:t.data("label"),amount:t.data("amount")}});H=t.data("subscribe-url");V=t.data("plan-id");K.mount(n)}};I.PaymentRequest=function(e){if(e.data("mobile-button")!==undefined){J(e)}};I.giftPromoBannerLoggedIn=function(e){var t=e.find(".close-btn");var n=e.data();t.on("click",(function(t){t.preventDefault();e.remove();s.default.update(n.flagName,true)}))};e.exports=I},109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.wistiaController=h;t.videoController=m;t.popoverController=g;t.videoPlaceholder=y;var a=s(n(0));var r=s(n(2));var i=n(1);var o=n(8);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return d(e)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(e,t){var n=[];var a=true;var r=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(r)throw i}}return n}function d(e){if(Array.isArray(e))return e}var f={};function p(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(window.Wistia&&!n){var a=window.Wistia.api(e);if(a){t(a)}else{p(e,t,true)}}else{window._wq=window._wq||[];window._wq.push({id:e,onHasData:function e(n){t(n)}})}}function v(e,t){var n=t.find("template");var r=f[e];if(r){t.find(".embed-wrapper").remove();t.append(r.find(".embed-wrapper").clone())}else if(n.length){var i=(0,a.default)("<div>").html(n.html());t.append(i.find(".embed-wrapper").clone());f[e]=i}}function h(e){var t=e.data("video");v(t,e);p(t,(function(t){var n=function n(){if(e.is(":visible")){var a=e.data("width");var r=t.height();var i={};if(!a){a=e.width()}var o=Math.min(a,e.width());r=o/t.aspect();i.width=o;setTimeout((function(){return t.height(r,{constrain:true})}),1);i.height=r;e.children().css(i)}};n();t.bind("heightchange",n)}))}function m(e){var t=e.data("video");var n=e.data("assets");var s=e.data("caption-url");var u=e.find("video");var c=u.find("track");var d=+u.attr("width");var f=+u.attr("height");var p="hide";var v="width";var h="paused";var m="started";var g="play";var y="video-toggle";if(u[0].hasAttribute("autoplay")&&!u[0].hasAttribute("muted")&&!e.is(":visible")&&!i.isNative){u[0].removeAttribute("autoplay")}if(n!==undefined&&!u[0].src){var _=e.width();e.parents().each((function(e,t){var n=(0,a.default)(t);var r=n.width();if(r!==0&&r<=window.innerWidth){if(r<_||_===0){_=r}return false}return true}));if(e.data(v)<_){_=e.data(v)}_*=window.devicePixelRatio;var b=n.filter((function(e){return e.width>=_}));if(b.length===0){b=n[n.length-1]}else{var w=b;var k=l(w,1);b=k[0]}u[0].src=b.url}if(s&&c.length>0){c[0].src=s}if(e.find("button.".concat(y)).length===0){var C="".concat(y," ").concat(u[0].paused?h:"");if(!u[0].hasAttribute("muted")){C+=" has-controls"}e.append('<button aria-label="play" type="button" class="'.concat(C,'"></button>'))}e.find(".".concat(y)).on("click",(function(e){e.preventDefault();if(u[0].paused===true){u[0].play()}else{u[0].pause()}}));u.on("play pause",(function(t){var n=e.find(".".concat(y));if(t.type===g&&!n.hasClass(m)){n.addClass(m)}if(u[0].paused===true){n.removeClass(g);n.addClass(h)}else{n.removeClass(h);n.addClass(g)}}));var x="".concat(o.EVT_QUIZ_POSITION_WILL_CHANGE,".video").concat(t);var E="".concat(o.EVT_QUIZ_POSITION_DID_CHANGE,".video").concat(t);i.$window.on(x,(function(){if(document.body.contains(e[0])){if(u[0].paused===false){u[0].setAttribute("data-was-playing",true)}else{u[0].removeAttribute("data-was-playing")}u[0].pause();i.$window.off(x);i.$window.on(E,(function(){if(document.body.contains(e[0])){var t=u.data();if(t.wasPlaying||t.couldSetHeight===false){u[0].play()}i.$window.off(E)}}))}}));setTimeout((function(){return u.removeClass(p)}),1);var I=function t(){var n=u.width();var a=f;if(n!==d){a=Math.round(n/d*f)}if(a){u.attr("height",a);u.attr("data-could-set-height",true);e[0].style.minHeight="".concat(a,"px")}else{u.attr("data-could-set-height",false)}};i.$window.on("resize ".concat(o.EVT_DAILYPROBLEM_MAINBODY_EXPANDED," "),r.default.throttle(I,16));r.default.defer(I)}function g(e){var t=e.find(".popover-video.modal");var n=t.find(".video-container");e.on("click",(function(){t.modal();m(n)}))}function y(e){var t=e.find("button");t.on("click",(function(){var t=e.find("template");if(t.hasClass("wistia-video")){e.css("height",e.height());p(e.data("video"),(function(t){setTimeout((function(){return t.play()}));e.css("height","auto")}));e.html(e.find("template").html());e.find('[data-controller*="app/videos:wistiaController"]').each((function(e,t){h((0,a.default)(t))}))}else if(t.hasClass("video-container")){e.html(e.find("template").html());e.find('[data-controller*="app/videos:videoController"]').each((function(t,n){m((0,a.default)(n));var r=e.find("video");r[0].play()}))}}))}},11:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.executeFunctionByName=h;t.initGenericControllers=m;var a=s(n(0));var r=n(8);var i=n(1);var o=s(n(28));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return d(e)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(e,t){var n=[];var a=true;var r=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(r)throw i}}return n}function d(e){if(Array.isArray(e))return e}function f(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){f=function e(t){return typeof t}}else{f=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return f(e)}function p(e,t,n){var a=function e(n){var a="Invalid controller: ".concat(t.context?"".concat(t.context,":"):""," ").concat(t.name,": ").concat(n);o.default.captureMessage(a);console.error(a)};var r=t.name.split(".");var i=r.pop();var s=e;for(var l=0;l<r.length;l++){s=s[r[l]];if(f(s)!=="object"){a("".concat(r[l]," is not an object"));return}}if(typeof s[i]!=="function"){a("".concat(i," is not a function"));return}s[i].apply(e,n)}function v(e){var t=e.split(":"),n=l(t,2),a=n[0],r=n[1];if(r===undefined){o.default.captureMessage("Controller name is undefined for: ".concat(e))}return{context:a,name:r}}function h(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++){a[r-1]=arguments[r]}var i=v(e);return new Promise((function(t,r){var s=function e(n){p(n,i,a);t()};var l=function(){var t={};return function(n){if(!t[i.context]){t[i.context]=i.context;o.default.captureMessage("[module error] ".concat(e," (").concat(window.location.pathname,")"));r(n)}}}();var u;try{var c=i.context.split(/\//g)[0];switch(c){case"app":u=n(571)("./".concat(i.context.replace("app/","")));break;case"util":u=n(658)("./".concat(i.context.replace("util/",""),".js"));break;default:r(new Error("Subdirectory ".concat(c," is not setup for generic controllers.")))}}catch(e){l(e)}if(u){s(u)}}))}function m(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:i.$body;var t=arguments.length>1?arguments[1]:undefined;var n=Object.assign({callback:r.FUNC_NOOP,force:false,ignoreHidden:false},t);var o=e.find("[data-controller]").add(e.filter("[data-controller]"));if(!n.force){o=o.not("[data-controller-inited]")}if(n.ignoreHidden){o=o.filter(":visible")}var s=[];o.each((function(e,t){var n=(0,a.default)(t);var r=n.data("controller");n.attr("data-controller-inited",true);if(r){r.split(",").forEach((function(e){var t=e.trim();if(t.length){s.push(h(t,n))}}))}}));Promise.all(s).then(n.callback)}},111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=l;t.renderExpressionIntoElement=u;var a=s(n(40));n(158);n(159);n(160);var r=s(n(161));var i=s(n(162));var o=s(n(163));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=i.default.inline;Object.assign(t,{delimiters:[{left:"\\(",right:"\\)",display:false},{left:"\\[",right:"\\]",display:true}],ignoredTags:["script","noscript","style","textarea","pre","code"],ignoredClasses:[],preProcess:r.default.replace,errorCallback:console.error});(0,o.default)(e,t)}function u(e,t){a.default.render(r.default.replace(e),t,i.default.inline)}},114:function(module,exports,__webpack_require__){"use strict";var _jquery=_interopRequireDefault(__webpack_require__(0));var _underscore=_interopRequireDefault(__webpack_require__(2));var _cursor=_interopRequireDefault(__webpack_require__(76));var _global=__webpack_require__(1);var _ui=__webpack_require__(6);var _error_modal=__webpack_require__(23);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function e(t){return typeof t}}else{_typeof=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return _typeof(e)}var qq={};qq.extend=function(e,t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}};qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var a=e.length;if(n<0)n+=a;for(;n<a;n++){if(n in e&&e[n]===t){return n}}return-1};qq.getUniqueId=function(){var e=0;return function(){return e++}}();qq.attach=function(e,t,n){if(e.addEventListener){e.addEventListener(t,n,false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}};qq.detach=function(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,false)}else if(e.attachEvent){e.detachEvent("on"+t,n)}};qq.preventDefault=function(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}};qq.insertBefore=function(e,t){t.parentNode.insertBefore(e,t)};qq.remove=function(e){e.parentNode.removeChild(e)};qq.contains=function(e,t){if(e==t)return true;if(e.contains){return e.contains(t)}else{return!!(t.compareDocumentPosition(e)&8)}};qq.toElement=function(){var e=document.createElement("div");return function(t){e.innerHTML=t;var n=e.firstChild;e.removeChild(n);return n}}();qq.css=function(e,t){(0,_jquery.default)(e).css(t)};qq.hasClass=function(e,t){(0,_jquery.default)(e).hasClass(t)};qq.addClass=function(e,t){(0,_jquery.default)(e).addClass(t)};qq.removeClass=function(e,t){(0,_jquery.default)(e).removeClass(t)};qq.setText=function(e,t){e.innerText=t;e.textContent=t};qq.children=function(e){var t=[],n=e.firstChild;while(n){if(n.nodeType==1){t.push(n)}n=n.nextSibling}return t};qq.getByClass=function(e,t){if(e.querySelectorAll){return e.querySelectorAll("."+t)}var n=[];var a=e.getElementsByTagName("*");var r=a.length;for(var i=0;i<r;i++){if(qq.hasClass(a[i],t)){n.push(a[i])}}return n};qq.obj2url=function(e,t,n){var a=[],r="&",i=function e(n,r){var i=t?/\[]$/.test(t)?t:t+"["+r+"]":r;if(i!="undefined"&&r!="undefined"){a.push(_typeof(n)==="object"?qq.obj2url(n,i,true):Object.prototype.toString.call(n)==="[object Function]"?encodeURIComponent(i)+"="+encodeURIComponent(n()):encodeURIComponent(i)+"="+encodeURIComponent(n))}};if(!n&&t){r=/\?/.test(t)?/\?$/.test(t)?"":"&":"?";a.push(t);a.push(qq.obj2url(e))}else if(Object.prototype.toString.call(e)==="[object Array]"&&typeof e!="undefined"){for(var o=0,s=e.length;o<s;++o){i(e[o],o)}}else if(typeof e!="undefined"&&e!==null&&_typeof(e)==="object"){for(var l in e){if(e.hasOwnProperty(l)){i(e[l],l)}}}else{a.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}return a.join(r).replace(/^&/,"").replace(/%20/g,"+")};qq.FileUploaderBasic=function(e){this._options={debug:false,action:"/server/upload",params:{},button:null,multiple:true,maxConnections:3,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,filesLimit:0,onSubmit:function e(t,n){},onProgress:function e(t,n,a,r){},onComplete:function e(t,n,a){},onAllComplete:function e(t){},onCancel:function e(t,n){},messages:{typeError:"{file} has an invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",filesLimitError:"No more than {filesLimit} files are allowed to be uploaded.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function e(t){alert(t)}};qq.extend(this._options,e);this._filesInProgress=0;this._handler=this._createUploadHandler();if(this._options.button){this._button=this._createUploadButton(this._options.button)}this._preventLeaveInProgress()};qq.FileUploaderBasic.prototype={setParams:function e(t){this._options.params=t},getInProgress:function e(){return this._filesInProgress},_createUploadButton:function e(t){var n=this;return new qq.UploadButton({element:t,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function e(t){n._onInputChange(t)}})},_createUploadHandler:function e(){var t=this,n;if(qq.UploadHandlerXhr.isSupported()){n="UploadHandlerXhr"}else{n="UploadHandlerForm"}return new qq[n]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function e(n,a,r,i){t._onProgress(n,a,r,i);t._options.onProgress(n,a,r,i)},onComplete:function e(n,a,r){t._onComplete(n,a,r);t._options.onComplete(n,a,r)},onAllComplete:function e(n){t._options.onAllComplete(n)},onCancel:function e(n,a){t._onCancel(n,a);t._options.onCancel(n,a)}})},_preventLeaveInProgress:function e(){var t=this;qq.attach(window,"beforeunload",(function(e){if(!t._filesInProgress){return}e=e||window.event;e.returnValue=t._options.messages.onLeave;return t._options.messages.onLeave}))},_onSubmit:function e(){this._filesInProgress++},_onProgress:function e(t,n,a,r){},_onComplete:function e(t,n,a){this._filesInProgress--;if(a.error){this._options.showMessage(a.error)}},_onCancel:function e(){this._filesInProgress--},_onInputChange:function e(t){if(this._handler instanceof qq.UploadHandlerXhr){this._uploadFileList(t.files)}else{if(this._validateFile(t)){this._uploadFile(t)}}this._button.reset()},_uploadFileList:function e(t){var n;var a=0;for(n=0;n<t.length;n++){if(!this._validateFile(t[n],a)){return}a++}for(n=0;n<t.length;n++){this._uploadFile(t[n])}},_uploadFile:function e(t){var n=this._handler.add(t);var a=this._handler.getName(n);if(this._options.onSubmit(n,a)!==false){this._onSubmit(n,a);this._handler.upload(n,this._options.params)}},_validateFile:function e(t,n){var a,r,i,o;if(t.value){a=t.value.replace(/.*(\/|\\)/,"")}else{a=t["fileName"]!=null?t["fileName"]:t["name"];r=t["fileSize"]!=null?t["fileSize"]:t["size"]}if(!this._isAllowedExtension(a)){this._error("typeError",a);return false}else if(r===0){this._error("emptyError",a);return false}else if(r&&this._options.sizeLimit&&r>this._options.sizeLimit){this._error("sizeError",a);return false}else if(r&&r<this._options.minSizeLimit){this._error("minSizeError",a);return false}else if(this._options.filesLimit){if(n==undefined){n=0}if(this._handler._completed_files==undefined){i=0}else{i=this._handler._completed_files.length}if(this._handler._queue==undefined){o=0}else{o=this._handler._queue.length}if(this._options.filesLimit<=i+o+n){this._error("filesLimitError",a);return false}}return true},_error:function e(t,n){var a=this._options.messages[t];function r(e,t){a=a.replace(e,t)}var i=this._options.allowedExtensions;if(i[i.length-1].indexOf("and ")!==0){i[i.length-1]="and "+i[i.length-1]}r("{file}",this._formatFileName(n));r("{extensions}",i.join(", "));r("{sizeLimit}",this._formatSize(this._options.sizeLimit));r("{minSizeLimit}",this._formatSize(this._options.minSizeLimit));r("{filesLimit}",this._options.filesLimit);this._options.showMessage(a)},_formatFileName:function e(t){if(t.length>33){t=t.slice(0,19)+"..."+t.slice(-13)}return t},_isAllowedExtension:function e(t){var n=-1!==t.indexOf(".")?t.replace(/.*[.]/,"").toLowerCase():"";var a=this._options.allowedExtensions;if(!a.length){return true}for(var r=0;r<a.length;r++){if(a[r].toLowerCase()==n){return true}}return false},_formatSize:function e(t){var n=-1;do{t=t/1024;n++}while(t>99);return Math.max(t,.1).toFixed(1)+["kB","MB","GB","TB","PB","EB"][n]}};qq.FileUploader=function(e){qq.FileUploaderBasic.apply(this,arguments);qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader">'+'<div class="qq-upload-drop-area"><span>Drop files here to upload</span></div>'+'<div class="qq-upload-button">'+e["btnTitle"]+"</div>"+'<span class="spinner hide"></span>'+'<ul class="qq-upload-list"></ul>'+"</div>",fileTemplate:"<li>"+'<span class="qq-upload-file"></span>'+'<span class="qq-upload-spinner"></span>'+'<span class="qq-upload-size"></span>'+'<a class="qq-upload-cancel" href="#">Cancel</a>'+'<span class="qq-upload-failed-text">Failed</span>'+"</li>",classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",success:"qq-upload-success",fail:"qq-upload-fail"}});qq.extend(this._options,e);this._element=this._options.element;this._element.innerHTML=this._options.template;this._listElement=this._options.listElement||this._find(this._element,"list");this._classes=this._options.classes;this._button=this._createUploadButton(this._find(this._element,"button"));this._bindCancelEvent();this._setupDragDrop()};qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype);qq.extend(qq.FileUploader.prototype,{_find:function e(t,n){var a=qq.getByClass(t,this._options.classes[n])[0];if(!a){throw new Error("element not found "+n)}return a},_setupDragDrop:function e(){var t=this,n=this._find(this._element,"drop");var a=new qq.UploadDropZone({element:n,onEnter:function e(a){qq.addClass(n,t._classes.dropActive);a.stopPropagation()},onLeave:function e(t){t.stopPropagation()},onLeaveNotDescendants:function e(){qq.removeClass(n,t._classes.dropActive)},onDrop:function e(a){var r=qq.getByClass(document,t._classes.drop);for(var i=0;i<r.length;i++){r[i].style.display="none"}qq.removeClass(n,t._classes.dropActive);if(!t._options.multiple&&a["dataTransfer"].files.length>1)alert("Multiple file uploads are disabled.");else t._uploadFileList(a["dataTransfer"].files)}});n.style.display="none";var r;qq.attach(document,"dragenter",(function(e){if(!a._isValidFileDrag(e))return;n.style.display="block";clearTimeout(r)}));qq.attach(document,"dragover",(function(e){if(!a._isValidFileDrag(e))return;clearTimeout(r)}));qq.attach(document,"dragleave",(function(e){if(!a._isValidFileDrag(e))return;var t=document.elementFromPoint(e.clientX,e.clientY);if(!t||t.nodeName=="HTML"){n.style.display="none"}clearTimeout(r);if(e.target===document.body){r=setTimeout((function(){n.style.display="none"}),200)}}))},_onSubmit:function e(t,n){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments);this._addToList(t,n)},_onProgress:function e(t,n,a,r){qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);var i=this._getItemByFileId(t);var o=this._find(i,"size");o.style.display="inline";var s;if(a!=r){s=Math.round(a/r*100)+"% from "+this._formatSize(r)}else{s=this._formatSize(r)}qq.setText(o,s)},_onComplete:function e(t,n,a){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var r=this._getItemByFileId(t);qq.remove(this._find(r,"cancel"));qq.remove(this._find(r,"spinner"));if(a.success){qq.addClass(r,this._classes.success)}else{qq.addClass(r,this._classes.fail)}},_addToList:function e(t,n){var a=qq.toElement(this._options.fileTemplate);a.qqFileId=t;var r=this._find(a,"file");qq.setText(r,this._formatFileName(n));this._find(a,"size").style.display="none";this._listElement.appendChild(a)},_getItemByFileId:function e(t){var n=this._listElement.firstChild;while(n){if(n.qqFileId==t)return n;n=n.nextSibling}},_bindCancelEvent:function e(){var t=this,n=this._listElement;qq.attach(n,"click",(function(e){e=e||window.event;var n=e.target||e.srcElement;if(qq.hasClass(n,t._classes.cancel)){qq.preventDefault(e);var a=n.parentNode;t._handler.cancel(a.qqFileId);qq.remove(a)}}))}});qq.UploadDropZone=function(e){this._options={element:null,onEnter:function e(t){},onLeave:function e(t){},onLeaveNotDescendants:function e(t){},onDrop:function e(t){}};qq.extend(this._options,e);this._element=this._options.element;this._disableDropOutside();this._attachEvents()};qq.UploadDropZone.prototype={_disableDropOutside:function e(){if(!qq.UploadDropZone.dropOutsideDisabled){qq.attach(document,"dragover",(function(e){if(e["dataTransfer"]){e["dataTransfer"].dropEffect="none";e.preventDefault()}}));qq.UploadDropZone.dropOutsideDisabled=true}},_attachEvents:function e(){var t=this;qq.attach(t._element,"dragover",(function(e){if(!t._isValidFileDrag(e))return;var n=e["dataTransfer"].effectAllowed;if(n=="move"||n=="linkMove"){e["dataTransfer"].dropEffect="move"}else{e["dataTransfer"].dropEffect="copy"}e.stopPropagation();e.preventDefault()}));qq.attach(t._element,"dragenter",(function(e){if(!t._isValidFileDrag(e))return;t._options.onEnter(e)}));qq.attach(t._element,"dragleave",(function(e){if(!t._isValidFileDrag(e))return;t._options.onLeave(e);var n=document.elementFromPoint(e.clientX,e.clientY);if(qq.contains(this,n))return;t._options.onLeaveNotDescendants(e)}));qq.attach(t._element,"drop",(function(e){if(!t._isValidFileDrag(e))return;e.preventDefault();t._options.onDrop(e)}))},_isValidFileDrag:function e(t){var n=t["dataTransfer"],a=navigator.userAgent.indexOf("AppleWebKit")>-1;return n&&n.effectAllowed!="none"&&(n.files||!a&&n.types.contains&&n.types.contains("Files"))}};qq.UploadButton=function(e){this._options={element:null,multiple:false,name:"file",onChange:function e(t){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};qq.extend(this._options,e);this._element=this._options.element;qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"});this._input=this._createInput()};qq.UploadButton.prototype={getInput:function e(){return this._input},reset:function e(){if(this._input.parentNode){qq.remove(this._input)}qq.removeClass(this._element,this._options.focusClass);this._input=this._createInput()},_createInput:function e(){var t=document.createElement("input");if(this._options.multiple){t.setAttribute("multiple","multiple")}t.setAttribute("type","file");t.setAttribute("name",this._options.name);qq.css(t,{position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0});this._element.appendChild(t);var n=this;qq.attach(t,"change",(function(){n._options.onChange(t)}));qq.attach(t,"mouseover",(function(){qq.addClass(n._element,n._options.hoverClass)}));qq.attach(t,"mouseout",(function(){qq.removeClass(n._element,n._options.hoverClass)}));qq.attach(t,"focus",(function(){qq.addClass(n._element,n._options.focusClass)}));qq.attach(t,"blur",(function(){qq.removeClass(n._element,n._options.focusClass)}));if(window.attachEvent){t.setAttribute("tabIndex","-1")}return t}};qq.UploadHandlerAbstract=function(e){this._options={debug:false,action:"/upload.php",maxConnections:999,onProgress:function e(t,n,a,r){},onComplete:function e(t,n,a){},onAllComplete:function e(t){},onCancel:function e(t,n){}};qq.extend(this._options,e);this._queue=[];this._params=[];this._completed_files=[]};qq.UploadHandlerAbstract.prototype={log:function e(t){if(this._options.debug&&window.console)console.log("[uploader] "+t)},add:function e(t){},upload:function e(t,n){var a=this._queue.push(t);var r={};qq.extend(r,n);this._params[t]=r;if(a<=this._options.maxConnections){this._upload(t,this._params[t])}},cancel:function e(t){this._cancel(t);this._dequeue(t)},cancelAll:function e(){for(var t=0;t<this._queue.length;t++){this._cancel(this._queue[t])}this._queue=[]},getName:function e(t){},getSize:function e(t){},getQueue:function e(){return this._queue},_upload:function e(t){},_cancel:function e(t){},_dequeue:function e(t){var n=qq.indexOf(this._queue,t);this._queue.splice(n,1);var a=this._options.maxConnections;if(this._queue.length>=a){var r=this._queue[a-1];this._upload(r,this._params[r])}if(this._queue.length==0){this._onAllComplete()}},_onAllComplete:function e(){this._options.onAllComplete(this._completed_files)}};qq.UploadHandlerForm=function(e){qq.UploadHandlerAbstract.apply(this,arguments);this._inputs={}};qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerForm.prototype,{add:function e(t){t.setAttribute("name","qqfile");var n="qq-upload-handler-iframe"+qq.getUniqueId();this._inputs[n]=t;if(t.parentNode){qq.remove(t)}return n},getName:function e(t){return this._inputs[t].value.replace(/.*(\/|\\)/,"")},_cancel:function e(t){this._options.onCancel(t,this.getName(t));delete this._inputs[t];var n=document.getElementById(t);if(n){n.setAttribute("src","javascript:false;");qq.remove(n)}},_upload:function e(t,n){var a=this._inputs[t];if(!a){throw new Error("file with passed id was not added, or already uploaded or cancelled")}var r=this.getName(t);var i=this._createIframe(t);var o=this._createForm(i,n);o.appendChild(a);var s=this;this._attachLoadEvent(i,(function(){s.log("iframe loaded");var e=s._getIframeContentJSON(i);s._options.onComplete(t,r,e);s._dequeue(t);delete s._inputs[t];setTimeout((function(){qq.remove(i)}),1)}));o.submit();qq.remove(o);return t},_attachLoadEvent:function e(t,n){qq.attach(t,"load",(function(){if(!t.parentNode){return}if(t.contentDocument&&t.contentDocument.body&&t.contentDocument.body.innerHTML=="false"){return}n()}))},_getIframeContentJSON:function _getIframeContentJSON(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;this.log("converting iframe's innerHTML to JSON");this.log("innerHTML = "+doc.body.innerHTML);try{response=eval("("+doc.body.innerHTML+")")}catch(e){response={}}return response},_createIframe:function e(t){var n=qq.toElement('<iframe src="javascript:false;" name="'+t+'" />');n.setAttribute("id",t);n.style.display="none";document.body.appendChild(n);return n},_createForm:function e(t,n){var a=null;if(n.csrf_token&&n.csrf_name){var r='<input type="hidden" name="'+n.csrf_name+'" value="'+n.csrf_token+'" />';a=qq.toElement('<form method="post" enctype="multipart/form-data">'+r+"</form>")}else a=qq.toElement('<form method="post" enctype="multipart/form-data"></form>');delete n.csrf_token;delete n.csrf_name;delete n.csrf_xname;var i=qq.obj2url(n,this._options.action);a.setAttribute("action",i);a.setAttribute("target",t.name);a.style.display="none";document.body.appendChild(a);return a}});qq.UploadHandlerXhr=function(e){qq.UploadHandlerAbstract.apply(this,arguments);this._files=[];this._xhrs=[];this._loaded=[]};qq.UploadHandlerXhr.isSupported=function(){var e=document.createElement("input");e.type="file";return"multiple"in e&&typeof File!="undefined"&&typeof(new XMLHttpRequest).upload!="undefined"};qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerXhr.prototype,{add:function e(t){if(!(t instanceof File)){throw new Error("Passed obj is not a File (in qq.UploadHandlerXhr)")}return this._files.push(t)-1},getName:function e(t){var n=this._files[t];return n.fileName!=null?n.fileName:n.name},getSize:function e(t){var n=this._files[t];return n["fileSize"]!=null?n["fileSize"]:n.size},getLoaded:function e(t){return this._loaded[t]||0},_upload:function e(t,n){var a=this._files[t],r=this.getName(t);this._loaded[t]=0;var i=this._xhrs[t]=new XMLHttpRequest;var o=this;i.upload.onprogress=function(e){if(e["lengthComputable"]){o._loaded[t]=e.loaded;o._options.onProgress(t,r,e.loaded,e.total)}};i.onreadystatechange=function(){if(i.readyState==4){o._onComplete(t,i)}};n=n||{};var s=null;var l=null;if(n.csrf_token&&n.csrf_xname){s=n.csrf_token;l=n.csrf_xname;delete n.csrf_token;delete n.csrf_xname;delete n.csrf_name}n["qqfile"]=r;var u=qq.obj2url(n,this._options.action);i.open("POST",u,true);i.setRequestHeader("X-Requested-With","XMLHttpRequest");i.setRequestHeader("X-File-Name",encodeURIComponent(r));i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");if(s)i.setRequestHeader(l,s);i.send(a)},_onComplete:function _onComplete(id,xhr){if(!this._files[id])return;var name=this.getName(id);var size=this.getSize(id);this._options.onProgress(id,name,size,size);if(xhr.status==200||xhr.status==201){this.log("xhr - server response received");this.log("responseText = "+xhr.responseText);var response;try{response=eval("("+xhr.responseText+")")}catch(e){response={}}this._completed_files.push({file:this._files[id],response:response});this._options.onComplete(id,name,response)}else{this._completed_files.push({file:this._files[id],response:{}});this._options.onComplete(id,name,{})}this._files[id]=null;this._xhrs[id]=null;this._dequeue(id)},_cancel:function e(t){this._options.onCancel(t,this.getName(t));this._files[t]=null;if(this._xhrs[t]){this._xhrs[t].abort();this._xhrs[t]=null}}});qq.uploadController=function(e){var t=e.data();var n=0;var a=t.target?(0,_jquery.default)(t.target):null;var r=["jpg","jpeg","png","gif"];if(t.allowSvg){r.push("svg")}var i=new qq.FileUploader({action:t.url,element:e[0],multiple:true,allowedExtensions:r,sizeLimit:10*1024*1024,btnTitle:t["btnTitle"],onSubmit:function e(t,n){_global.$window.trigger(_jquery.default.Event("ajaxupload.start",{id:t,filename:n}))},onComplete:function e(r,i,o){if(o.success){var s=o.url;if(a){var l=o.filename.match(/\.([^.]*)$/)[1].toLowerCase();var u=t.isDailyProblem?500:300;var c=l==="svg"?"|width=".concat(u):"";var d="![](".concat(s).concat(c,"){: .center}\n");var f=_global.$window.scrollTop();_cursor.default.insert(a,d,n);a.trigger("autosave.save");a.trigger(_jquery.default.Event("ajaxupload.complete",{response:o}));a.each((function(e,t){t.dispatchEvent(new Event("input"))}));if(a.data("autosize")===true){a.trigger("autosize.resize")}_cursor.default.set(a,n+d.length);(0,_global.setScrollPosition)(f);var p=a.attr("id");if(p=="undefined__copy"){var v=a.attr("class").split(/\s+/).join(".");a.siblings(".".concat(v)).val(a.val())}else if(p.indexOf("__copy")){a.siblings("#"+p.replace("__copy","")).val(a.val())}}_global.$window.trigger(_jquery.default.Event("ajaxupload.complete",{imageUrl:s}))}else{a.trigger(_jquery.default.Event("ajaxupload.message",{message:"Upload failed"}));try{(0,_error_modal.showStandardErrorModal)()}catch(e){}}},onProgress:function t(){e.find(".spinner").show()},onAllComplete:function t(){e.find(".spinner").hide()},showMessage:function e(t){a.trigger(_jquery.default.Event("ajaxupload.message",{message:t}));try{(0,_ui.showGenericModal)("Error",t)}catch(e){}},params:{csrf_token:t.token,csrf_name:"csrfmiddlewaretoken",csrf_xname:"X-CSRFToken"}});e.data("ajax-uploader",i);if(a){var o=function e(){a.on("keydown",(function(){n=_cursor.default.get(a)}));a.on("focus",(function(){_underscore.default.defer((function(){n=_cursor.default.get(a)}))}));a.on("click",(function(){_underscore.default.defer((function(){n=_cursor.default.get(a)}))}))};if(a.length){o()}else{(0,_jquery.default)(t.target.replace("__copy","")).on("mentions.ready",(function(){a=(0,_jquery.default)(t.target);o()}))}}};module.exports=qq},116:function(e,t,n){"use strict";var a,r;!(a=[n(112),n(372)],r=function(e){e.defineSimpleMode("qsharp",{start:[{token:"comment",regex:/(\/\/|%).*/},{token:"string",regex:/^\"(?:[^\"\\]|\\[\s\S])*(?:\"|$)/},{token:"keyword",regex:/(^|\W)(?:namespace|open|operation|function|body|adjoint|controlled)\b/},{token:"keyword",regex:/\W(?:if|elif|else|repeat|until|fixup|for|in|return|fail)\b/},{token:"keyword",regex:/\W(?:Adjoint|Controlled|self|auto|none|distribute|invert|intrinsic)\b/},{token:"keyword",regex:/\W(?:let|set|new|not|and|or|using|borrowing|newtype|mutable)\b/},{token:"meta",regex:/\W(?:Int|BigInt|Double|Bool|Qubit|Pauli|Result|Range|String|Unit)\b/},{token:"atom",regex:/\W(?:true|false|Pauli(I|X|Y|Z)|One|Zero)\b/},{token:"builtin",regex:/(\\n|\W)(?:X|Y|Z|H|HY|S|T|SWAP|CNOT|CCNOT|MultiX|R|RFrac|Rx|Ry|Rz|R1|R1Frac|Exp|ExpFrac|Measure|M|MultiM)\b/},{token:"builtin",regex:/(\\n|\W)(?:Message|Length|Assert|AssertProb|AssertEqual)\b/}]});e.defineMIME("text/x-qsharp","qsharp")}.apply(t,a),r!==undefined&&(e.exports=r))},126:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setVal=c;t.controller=f;t.discardEdit=p;t.getEditHash=v;var a=o(n(0));var r=o(n(2));var i=o(n(142));function o(e){return e&&e.__esModule?e:{default:e}}function s(){try{return"localStorage"in window&&window.localStorage!==null}catch(e){return false}}function l(e){localStorage.removeItem(e)}function u(e,t,n){var a=e.timestamp?e.timestamp<=Date.now()-n:false;if(a){l(t)}}function c(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!e.length){return}r.default.defer((function(){var n=e.find('textarea:not(.clone), input[type="text"]');var r=e.data();var i=r.autosaveField;var o=r.autosavePassive===true;if(!t){var s=r.autosaveKey;var l=r.autosaveUser;s=l?"".concat(l,"_").concat(s):s;t=localStorage[s]?JSON.parse(localStorage[s]):{}}if(!o){var u=t[i];if(u&&n.val().trim()===""){n.val(u);n.trigger(a.default.Event("input"))}}}))}function d(e,t){try{localStorage[e]=t}catch(e){}}function f(e){if(!s()){return}var t=e.parents("form");var n=e.find('textarea, input[type="text"]');var r=t.find(".autosave-submit");var o=e.data();var f=o.autosaveHours;var p=o.autosaveField;var v=o.autosaveUser;var h=o.autosaveHash;var m=o.autosaveKey;var g={};var y;m=v?"".concat(v,"_").concat(m):m;if(localStorage[m]){g=JSON.parse(localStorage[m])}var _=f*60*60*1e3;u(g,m,_);c(e,g);var b=function e(t){try{var n=(0,a.default)(t).val();if(g[p]!==n){g[p]=n;g.timestamp=Date.now();if(h&&!g.hash){g.hash=h}var r=JSON.stringify(g);d(m,r);if(n!==y){window.onbeforeunload=function(){return"You have unsaved edits."}}else{window.onbeforeunload=null}}}catch(e){i.default.captureException(e)}};n.one("focus",(function(){y=n.val();if(localStorage[m]){g=JSON.parse(localStorage[m])}}));n.on("input",(function(e){return b(e.currentTarget)}));n.on("autosave.save",(function(e){return b(e.currentTarget)}));var w=function e(){l(m);window.onbeforeunload=null};r.on("click",w);t.on("autosave.clear",w)}function p(e){l(e);window.onbeforeunload=null}function v(e){if(localStorage[e]){var t=JSON.parse(localStorage[e]);return t.hash}return null}},127:function(e,t,n){"use strict";var a=o(n(0));var r=o(n(2));var i=n(1);function o(e){return e&&e.__esModule?e:{default:e}}var s={};s.checkScrollPosition=function(e,t){var n=i.$window.scrollTop();var a=t&&t.top?t.top:10;var r=t&&t.bottom?t.bottom:null;var o=t&&t.stuckClass?t.stuckClass:"stuck";var s=t&&t.stuckBottomClass?t.stuckBottomClass:"stuck-bottom";var l=t&&t.handler?t.handler:null;var u=n>a;var c=r&&n>r?true:false;var d=e.hasClass(o);if(u&&!c&&!d){e.addClass(o);e.removeClass(s)}else if(!u&&d){e.removeClass(o)}else if(c){e.removeClass(o);e.addClass(s)}else if(!c){e.removeClass(s)}if(l){l(e,t)}};s.stick=function(e,t){e.addClass("sticky");t=t||{};t=r.default.extend(t,e.data());var n=t.$target&&t.$target.length?t.$target:e;var o=n.offset().top;var l=e.outerHeight(true);var u=(0,a.default)("#header").outerHeight(true);var c=t.bottom?t.bottom:null;var d=t.forceBottom?t.forceBottom:null;var f=t.handler?t.handler:null;var p;if(t.namespace){p=t.namespace}else if(e.attr("id")){p="sticky-"+e.attr("id")}else if(window.btoa){p="sticky-"+window.btoa(e.text())}var v;if(d){v=d}else{v=c?c-l-u:null}var h=function t(){s.checkScrollPosition(e,{top:o-u,bottom:v,handler:f})};(0,i.jqOffOn)(i.$window,"scroll.".concat(p," resize.").concat(p),r.default.throttle(h,16));h()};e.exports=s},128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.controller=w;t.toggleMiniProfile=_;var a=c(n(0));var r=c(n(2));var i=c(n(7));var o=n(100);var s=n(1);var l=u(n(41));function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function p(e,t,n){if(t)f(e.prototype,t);if(n)f(e,n);return e}var v={};var h=false;function m(e){var t={};["interests","skills","competitions"].forEach((function(n){var a=e[n];if(!r.default.has(a,"numOthers")){var i=a.length-e.listFieldDisplayLength;t[n]={items:a,numOthers:Math.max(i,0)}}}));return r.default.extend({},e,t)}function g(){s.$body.off("click.mp");s.$window.off("scroll.mp")}function y(e,t){var n={element_id:"profile_card_".concat(e)};if(t){n.field_name=t}i.default.track("ui",n)}function _(e,t){e.each((function(e,n){try{(0,a.default)(n).data("mini-profile-instance")[t]()}catch(e){}}))}var b=function(){function e(t){d(this,e);this.$target=t;this.id=this.$target.data("id")||null;this.loading=false;this.hid_while_loading=false;this.timeout=null;this.visible=false;if(this.id===null){return}this.setEvents()}p(e,[{key:"setEvents",value:function e(){var t=this;var n;this.$target.on("mouseenter",(function(){n=r.default.delay((function(){t.show()}),200)}));this.$target.on("mouseleave",(function(){clearTimeout(n);t.hideWithDelay()}))}},{key:"hideWithDelay",value:function e(){var t=this;this.timeout=r.default.delay((function(){var e=v[t.id];if(!e||e&&!e.data.wasEditing){t.hide()}}),300)}},{key:"clearDelay",value:function e(){clearTimeout(this.timeout)}},{key:"setGlobalEvents",value:function e(){var t=this;var n=".mini-profile-full, .mini-profile-full-new";s.$body.on("click.mp",(function(e){if(t.visible&&(0,a.default)(e.target).parents(n).length===0){t.hide()}}));var i=(0,s.jqGetElemById)("nf-feeditem-modal");if(i.length&&i.is(":visible")){s.$window.on("scroll.mp",r.default.throttle((function(){if(t.visible){t.hide()}}),16))}}},{key:"loadTooltip",value:function e(t){if(!h){this.loading=true;h=true;a.default.get("/profile/mini_profile/",{identity:this.id,orientation:""}).done((function(e){h=false;if(e.status===200){t(e.new_html)}else{t(null)}})).fail((function(){h=false;t(null)}))}}},{key:"repositionTooltip",value:function e(t){return(0,o.repositionTooltip)({$target:this.$target,$tooltip:t,topOffset:20,leftOffset:-3,offsetMethod:"offset"})}},{key:"updateCachedData",value:function e(t){v[this.id].data=r.default.extend({},v[this.id].data,t)}},{key:"renderTooltip",value:function e(t,n){var a=t.find(".profile-content");var i=v[this.id]||null;var s;var u;var c;if(i){s=i.template;u=i.data;c=i.errorTemplate}else{s=r.default.template(a.find("script").text());u=a.data();c=r.default.template(u.genericErrorMessage)}if(n){u=r.default.extend(u,n)}u=m(u);v[this.id]={template:s,errorTemplate:c,data:u};a.html(s(u));if(!u.isEditing){l.loadForElement(a.find(".status-msg"),true)}if(u.isEditing){this.setEditingEvents(t);if(!u.trackedViewed){y("edit_state_viewed");u.trackedViewed=true}}else if(u.wasEditing){y("edit_state_closed");u.trackedViewed=false}t.removeClass("left right top bottom").addClass((0,o.getOrientation)(this.$target));t.css(this.repositionTooltip(t))}},{key:"handleTextFieldGroup",value:function e(t,n){var i=this;var o=(0,a.default)(t);var s=o.find("[contenteditable]");var l=o.data("url");var u=function e(t,n){var a=t.text().trim();var r="default-value";var i=t.data("default");var o=t.hasClass(r);if((!o||n)&&(a.length===0||a===i)){t.addClass(r);if(n){t.text(i)}else{t.text("")}}else if(a.length&&o&&a!==i){t.removeClass(r);t.css("min-width",16)}};s.on("click focus",(function(){r.default.defer((function(){document.execCommand("selectAll",false,null)}))}));s.on("blur",(function(){var e={};var t=false;s.each((function(n,i){var o=(0,a.default)(i);var s=o.data();var l=o.text().trim();if(l===s.default.trim()){l=""}if(l!==s.current){t=true;o.data("current",l);y("edited_field",s.name)}if(s.apiFieldName){e[s.apiFieldName]=l}e[s.name]=l;r.default.defer((function(){u(o,true)}))}));if(t){a.default.ajax({url:l,type:"POST",data:JSON.stringify(e),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(t){if(t.success){i.updateCachedData(e);i.renderTooltip(n)}}))}}));s.on("input",(function(e){u((0,a.default)(e.currentTarget),false)}));s.on("focus",(function(e){var t=(0,a.default)(e.currentTarget);var n=t.data("default");if(t.text().trim()===n){r.default.defer((function(){t.css("min-width",t.width());t.text("")}))}}));s.on("keydown",(function(e){if(e.which===13||e.which===27){e.preventDefault();(0,a.default)(e.currentTarget).blur();window.getSelection().removeAllRanges()}}));s.each((function(e,t){var n=(0,a.default)(t);n.data("current",n.text());u(n,true)}))}},{key:"handleListField",value:function e(t,n){var r=this;var i=(0,a.default)(t);var o=i.find("input");var s=i.data();var l=s.url;var u=v[this.id].data["".concat(s.fieldName,"Typeahead")];var c=false;var d=function e(t){var a={};a[s.fieldName]=t;r.updateCachedData(a);r.renderTooltip(n)};var f=function e(t,n){var a=n===true;var o=a?".removal-error":".input-error";var s=t;if(s===null){s=v[r.id].errorTemplate({isRemoving:a})}i.find(o).text(s);i.find("[disabled]").prop("disabled",false)};var p=function e(){var t=o.val().trim();if(t.length&&!c){c=true;var n={value:t};o.prop("disabled",true);a.default.ajax({url:l,type:"POST",data:JSON.stringify(n),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(e){if(e.success){d(e.existing_values)}else{f(e.value)}})).fail((function(){f(null)})).always((function(){c=false}));y("list_added_item",s.fieldName)}};i.find(".btn-remove").on("click",(function(e){var t=(0,a.default)(e.currentTarget);var n={remove:t.data("id")};t.prop("disabled",true);a.default.ajax({url:l,type:"POST",data:JSON.stringify(n),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(e){if(e.success){d(e.existing_values)}else{f(e.value,true)}})).fail((function(){f(null,true)}));y("list_removed_item",s.fieldName)}));o.typeahead({source:u,menu:'<ul class="typeahead dropdown-menu miniprofile"></ul>',matchWidth:true});o.on("ta_select",p);o.on("keydown",(function(e){if(e.which===13||e.which===27){setTimeout(p,200)}}))}},{key:"setEditingEvents",value:function e(t){var n=this;t.find(".text-field-group").each((function(e,a){return n.handleTextFieldGroup(a,t)}));t.find(".list-field").each((function(e,a){return n.handleListField(a,t)}))}},{key:"setTooltipEvents",value:function e(t){var n=this;(0,s.jqOffOn)(t,"mouseenter",(function(){n.clearDelay()}));(0,s.jqOffOn)(t,"mouseleave",(function(){n.hideWithDelay()}));if(t.hasClass("editable")){(0,s.jqOffOn)(t.find(".btn-edit"),"click",(function(e){e.preventDefault();t.toggleClass("editing");var a=t.hasClass("editing");n.renderTooltip(t,{isEditing:a,wasEditing:true})}))}}},{key:"show",value:function e(){var t=this;if(this.visible){return}var n=s.$body.children("#mini-profile-".concat(this.id));_((0,a.default)(".mini-profile"),"hide");this.setGlobalEvents();var r=function e(n){n.removeClass("left right top bottom").addClass((0,o.getOrientation)(t.$target))};if(n.length>0){this.$target.data("mini_profile_rendered",n)}var l=this.$target.data();if(l.mini_profile_rendered){r(l.mini_profile_rendered);l.mini_profile_rendered.css(this.repositionTooltip(l.mini_profile_rendered)).show();this.visible=true;if(v[this.id]){this.updateCachedData({isEditing:false,wasEditing:false})}if(l.mini_profile_rendered.hasClass("mini-profile-full-new")){l.mini_profile_rendered.removeClass("editing");this.renderTooltip(l.mini_profile_rendered)}this.setTooltipEvents(l.mini_profile_rendered)}else{this.loadTooltip((function(e){if(e!==null){s.$body.append(e);var n=s.$body.find("#mini-profile-".concat(t.id));r(n);n.css(t.repositionTooltip(n));t.$target.data("mini_profile_rendered",n);t.loading=false;if(t.hid_while_loading){t.hid_while_loading=false;t.hide();t.visible=false}else{t.visible=true;if(n.hasClass("mini-profile-full-new")){t.renderTooltip(n)}t.setTooltipEvents(n)}i.default.setAnalyticsEvents(n)}}))}}},{key:"hide",value:function e(){if(this.loading){this.hid_while_loading=true}else{this.clearDelay();g();this.visible=false;var t=this.$target.data("mini_profile_rendered")||null;if(t!==null){t.find(".list-field input").typeahead("hide");t.hide()}}}}]);return e}();function w(e){if(!s.userIsAuthenticated||s.isMobile){return}var t=e.data("mini-profile-instance");if(!t){t=new b(e);e.data("mini-profile-instance",t)}}},129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.images=x;var a=s(n(0));var r=s(n(573));var i=n(1);var o=n(9);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function c(e,t,n){if(t)u(e.prototype,t);if(n)u(e,n);return e}function d(e,t){return v(e)||p(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function p(e,t){var n=[];var a=true;var r=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(r)throw i}}return n}function v(e){if(Array.isArray(e))return e}var h=[1e3,1500,2e3,2500,3e3,4e3,5e3];var m="zoomable-image";function g(e){var t=e.isBriocheImage||e.img.naturalWidth>e.width||e.img.naturalHeight>e.height;return t&&!e.img.closest(".visualization")&&(e.$img.parents(".codex-output").length===0||!e.img.src.indexOf(".gif?t=").index<0)}function y(e){var t='<span class="'.concat(m,'"><span></span></span>');var n=(0,a.default)(t);var r=e.$img.clone();n.append(r);e.$img.replaceWith(n);e.$img=r;var i=d(r,1);e.img=i[0];e.$container=n;e.$container.on("click",a.default.proxy(e.show,e))}function _(e,t){e.$container=t;e.$container.on("click",a.default.proxy(e.show,e))}function b(){var e=i.$window.width()*window.devicePixelRatio;return h.find((function(t){return e<=t}))||h[h.length-1]}function w(e){var t=(0,a.default)('\n        <div class="modal hide zoomable-modal">\n            <button></button>\n            <div class="solv-ir-loading row">\n                <span></span>\n                <span></span>\n                <span></span>\n            </div>\n        </div>\n    ');var n="loading";t.addClass(n);var s=new Image;if(e.isBriocheImage){var l=e.img.src.split("?"),u=d(l,1),c=u[0];var f=(0,o.getParamsObject)(e.img.src),p=f.format;var v={width:b()};if(p){v.format=p}s.src=(0,o.appendGetParams)(c,v)}else{s.src=e.img.src}s.style.cssText="";t.append(s);var h=(0,a.default)(s);h.on("load",(function(){t.removeClass(n);if(i.isMobile){new r.default(s)}}));if(i.isMobile){h.on("click",(function(e){return e.stopPropagation()}))}t.on("show hide",(function(){setTimeout((function(){e.zoomed=!e.zoomed;t.toggleClass("visible",e.zoomed)}),1)}));t.modal({show:false});t.on("click",a.default.proxy(e.hide,e));e.$zoomModal=t}function k(e){var t=".avatar, .no-zoom, .viz-wrapper";return e.is(t)||e.parents(t).length}var C=function(){function e(t){var n=this;l(this,e);this.img=t;this.$img=(0,a.default)(t);this.zoomed=false;this.isBriocheImage=t.src.indexOf("/brioche/")>=0;var r=false;var i=function e(){if(!r&&n.img.width){r=true;var t=n.$img.parent().width();var a=n.$img.css("width");if(a.indexOf("px")>=0){n.width=Math.min(t,parseInt(a,10))}else{n.width=t}n.height=parseInt(n.$img.css("height"),10);if(g(n)){var i=n.$img.parents(".".concat(m));if(i.length){_(n,i)}else{y(n)}}}};setTimeout(i,1);this.$img.on("load",i)}c(e,[{key:"show",value:function e(){if(!Object.prototype.hasOwnProperty.call(this,"$zoomModal")){w(this)}this.$zoomModal.modal("show")}},{key:"hide",value:function e(){this.$zoomModal.modal("hide")}}]);return e}();function x(e){e.find("img").each((function(e,t){var n=(0,a.default)(t);if(!k(n)){var r=function e(){return new C(t)};if(t.complete){r()}else{n.on("load",r)}}}))}},13:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=g;t.Ajax=void 0;var a=d(n(0));var r=n(7);var i=c(n(35));var o=n(6);var s=n(1);var l=n(81);var u=n(23);function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function v(e,t,n){if(t)p(e.prototype,t);if(n)p(e,n);return e}function h(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var l=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var u=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"POST";l.page_key=l.page_key||e.key;l.version=l.version||window.VERSIONS[l.page_key]||1;l.deferred=l.deferred||false;l.timeout=l.timeout||9e4;if(!s.isNative&&!i.isSameOrigin(t)){return e.error({error:"csrf",responseText:"CSRF error",status:0})}a.default.ajax({url:t,data:l,type:u,timeout:l.timeout,cache:false,success:function t(i){if(typeof i.redirect==="string"){if(l.redirectHandler){Promise.resolve().then((function(){if(!n.m[11]){var e=new Error("Module '"+11+"' is not available (weak dependency)");e.code="MODULE_NOT_FOUND";throw e}return n.t(11,7)})).then((function(e){var t=e.executeFunctionByName;return t(l.redirectHandler,i.redirect,l)}))}else{window.location=i.redirect}}a.default.each(i.actions||{},(function(t,n){var r=window.VERSIONS[n.component_key]||window.VERSIONS[t]||1;if(r===n.version){if(n.result&&n.result.reload){e.get(n.result.reload,{param_key:t,version:r})}else{e.success(t,n,l.deferred)}}else{window.VERSIONS[n.component_key]=n.version;var i=n.js_failure_mode;if(Math.abs(r-n.version)>1){i="hard"}(0,a.default)(".hide-on-error").hide();switch(i){case"soft_with_update":(0,o.showGenericModal)("Warning","Some of the information in that request\n                                was out of date due to changes to our server code. We're updating\n                                the page.");e.success(t,n);break;case"soft_without_update":(0,o.showGenericModal)("Warning","Some of the information in that request\n                                was out of date due to changes to our server code. You must refresh\n                                the page and try again.");break;case"no_warn_no_update":break;case"hard":window.location.reload();break;default:throw new Error("Unknown failure mode ".concat(i))}}}));a.default.each(i.ajax_tracked_events||{},(function(e,t){(0,r.track)(t.event_name,t.event_properties)}));a.default.each(i.messages||{},(function(e,t){if(t.message_type==="error"){(0,o.showGenericModal)("Error",t.message_text)}else{(0,o.showGenericModal)("Warning",t.message_text)}}))},error:function t(n){e.error(n,l)}});return this}var m=function(){function e(t){f(this,e);this.key=t||false}v(e,[{key:"post",value:function e(t,n){return h(this,t,n,"POST")}},{key:"get",value:function e(t,n){return h(this,t,n,"GET")}},{key:"form",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r={};var i=(0,a.default)(t);if(i.length===0){return this}var o=typeof n.url==="string"?n.url:i.attr("action");o=o||"";o=o.length===0?window.location.href:o;var s=Object.assign({},r,(0,l.getFormData)(i),n,i.data());i.find("button, input[type=submit], .btn").filter((function(e,t){return(0,a.default)(t).parents(".viz-wrapper").length===0})).prop("disabled","disabled").addClass("dim");return h(this,o,s,"POST")}},{key:"error",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};(0,a.default)(".hide-on-error").hide();t.status=t.status||0;i.page_key=this.key;delete i.version;delete i.csrfmiddlewaretoken;delete i.deferred;if(t.statusText==="timeout"){(0,u.showTimeoutErrorModal)();if(i.timeoutHandler){Promise.resolve().then((function(){if(!n.m[11]){var e=new Error("Module '"+11+"' is not available (weak dependency)");e.code="MODULE_NOT_FOUND";throw e}return n.t(11,7)})).then((function(e){var t=e.executeFunctionByName;t(i.timeoutHandler,i);delete i.timeoutHandler}))}(0,r.track)("timeout_errors",i)}else if(t.status>0){(0,u.errorModalHandler)(t);i.status=t.status;(0,r.track)("ajax_errors",i)}}},{key:"success",value:function e(t,n,a){var r=window.vkey[n.component_key]||window.vkey.handle;r(n,t,a||false)}}]);return e}();t.Ajax=m;function g(e){return new m(e)}},130:function(e,t,n){"use strict";var a=y(n(0));var r=y(n(2));var i=y(n(34));var o=y(n(13));var s=n(36);var l=n(8);var u=g(n(45));var c=n(1);var d=g(n(27));var f=n(6);var p=y(n(70));var v=n(11);var h=y(n(54));var m=n(37);function g(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){return k(e)||w(e,t)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function w(e,t){var n=[];var a=true;var r=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(r)throw i}}return n}function k(e){if(Array.isArray(e))return e}var C={};var x=window,E=x.vkey;var I=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:c.$body;p.default.events(t);p.default.expander(t);p.default.subscribe(t);var n=(0,c.jqGetElemById)("subscr-placeholder");if(n.length){(0,c.jqGetElemByCmpName)("discussions_subscribe").appendTo(n).removeClass("hide")}d.scaleSVG(t.find(".latexprocessor-block, .latexprocessor-inline"))};var T=function e(){var t=(0,a.default)("#edit_post_form_id");var n=(0,a.default)("#disc-post-single");var r=(0,a.default)(".edit-form textarea",n);(0,i.default)(r);(0,m.wikiLinks)(r);var s="click.discussionpreview";(0,c.jqOffOn)((0,a.default)("#newdisc-edit"),s,(function(e){e.preventDefault();n.addClass("editing");r.trigger("autosize.resize")}));(0,c.jqOffOn)((0,a.default)("#newdisc-delete"),s,(function(e){e.preventDefault();n.addClass("deleting")}));(0,c.jqOffOn)(t.find(".preview:not(.fake)"),s,(function(e){e.preventDefault();c.$window.trigger(a.default.Event("discussion.preview.".concat(t.prop("id")||-1)));(0,o.default)("discussions_single").form(t[0],{preview_post:true})}));(0,c.jqOffOn)(t.find(".edit:not(.fake)"),s,(function(e){e.preventDefault();n.addClass("editing");n.removeClass("previewing");r.trigger("autosize.resize")}));(0,c.jqOffOn)((0,a.default)("#delete-cancel"),s,(function(e){e.preventDefault();n.removeClass("deleting")}))};C.onload=function(e){I(e);T();if(window.location.search.indexOf("unsubscribe_from_post=true")>=0){var t=(0,c.jqGetElemByCmpName)("discussions_subscribe");t.addClass("wiggle");r.default.defer((function(){f.Anchors.scrollToTarget(t)}))}else{var n=window.location.hash.match(/#comment-a3f5[\d]+e92/);if(n){var i=(0,a.default)(n[0]);p.default.expandThreadsFor(i);i.addClass("highlight");setTimeout((function(){i.removeClass("highlight")}),3e3)}}};C.editableTitle=function(e){var t=e.find(".edit-title-link"),n=e.parent().find(".edit-title-form"),a=n.find(".cancel-edit-link");t.add(a).on("click",(function(){e.add(n).toggleClass("hide")}))};C.reaction=function(e){var t=e.find("button");var n=e.serializeArray();var r=function e(t,n){var a=t.html().split(" "),r=_(a,2),i=r[0],o=r[1];i=parseInt(i,10)+n;t.html("".concat(i," ").concat(o))};t.on("click",(function(t){t.preventDefault();var i=(0,a.default)(t.target);var o=i.data("reaction");if(o){var s=i.hasClass("selected")?"off":"on";var l=n.concat([{name:"reaction_action",value:"".concat(o,"_").concat(s)}]);a.default.post(e.attr("action"),l,(function(e){if(e.vote_details){if(e.vote_details.reactions[o]){i.addClass("selected");r(i,1)}else{i.removeClass("selected");r(i,-1)}}}))}}))};C.expandAllThreads=function(e){var t=function t(n){(0,a.default)(n?".show-replies":".hide-replies").trigger("click");e.toggleClass(l.CLASS_NAME_EXPANDED,n)};var n=function e(){return new Promise((function(e){var t=function t(){if((0,a.default)(".solution-next-page").length>0){c.$window.trigger("scroll.loadMoreSolutionsButton",{force:true})}else{e()}};c.$window.on("moreSolutionsLoaded",t);t()}))};var r=function e(){return new Promise((function(e){var t=".discsol-comments .cmp-deferred";var n=(0,a.default)(t);c.$window.on("solutions.reload",(function(){if((0,a.default)(t).length===0){e()}}));if(n.length>0){n.each((function(e,t){u.load((0,a.default)(t))}))}else{e()}}))};e.on("click",(function(){var a=e.hasClass(l.CLASS_NAME_EXPANDED);if(a){t(false)}else{e.addClass(l.CLASS_NAME_DISABLED);n().then(r).then((function(){t(true);e.removeClass(l.CLASS_NAME_DISABLED)}))}}))};var O="discussions_modal_single_component";C[O]=function(){var e=(0,c.jqGetElemByCmpName)(O);(0,v.initGenericControllers)(e);I();T();e.find(".modal-target").each(h.default.modal_events);(0,s.initAutosubmit)(e)};E[O]=C[O];E.discussions_single=function(){var e=E.handle.apply(this,arguments);d.updateMathjax(e);I();T()};E.modal_groups_post_component=E.discussions_single;E.discussions_subscribe=E.qanda_subscribe=E.course_feedback_subscribe=E.contentreports_subscribe=E.dailyproblem_feedback_subscribe=function(){E.handle.apply(this,arguments);p.default.subscribe()};E.discussions_comments=function(){var e=E.handle.apply(this,arguments);d.updateMathjax(e);I();var t=e.find(".disc-comments").data("highlighted-comment-id");if(t){var n="comment-a3f5".concat(t,"e92");var a=(0,c.jqGetElemById)(n);p.default.expandThreadsFor(a);a.addClass("highlight");setTimeout((function(){a.removeClass("highlight")}),3e3);if(!(0,f.isInViewport)(a)){r.default.delay((function(){f.Anchors.scrollToTarget(a,(function(){window.location.hash=n}))}),500)}}};E.discussions_comment_subscribe=function(e,t){var n=E.handle(e,t);p.default.subscribe()};e.exports=C},131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.init=h;var a=l(n(0));var r=n(1);var i=n(100);var o=n(7);var s=n(8);n(196);function l(e){return e&&e.__esModule?e:{default:e}}var u=r.isAndroid&&r.appVersion&&r.appVersion.isGreaterThanOrEqualTo("4.2.0")&&!r.appVersion.isGreaterThanOrEqualTo("4.7.0");var c="hidden";var d="dragged";var f="glossary";var p="glossary-tooltip";var v="glossary-container";function h(e){var t=e;var n=t.data("tooltip");var l=(0,a.default)("#glossary-".concat(n));var h;var m=true;var g=(0,a.default)("div.glossary-container");if(g.length===0){g=(0,a.default)("<div>").addClass(v);r.$body.append(g)}if(!l.parent().hasClass(v)){l.detach().appendTo(g)}var y=function e(){l.addClass(c)};var _=function e(){h=setTimeout((function(){y()}),300)};var b=function e(){var a=t.html();(0,o.track)("ui",{element_id:"viewed_glossary_card",glossary_card_slug:n,glossary_card_trigger_term:a});var s=l.height();if(r.isMobile||r.isNative){if(u){var f=l.clone();f.find(".admin-links, .close").remove();try{window.Android.glossaryShowCard(n,a,f.html());return}catch(e){}}l.removeClass(c)}else{if(l.hasClass(d)){l.on("mouseleave",_)}var p=3;var v=-45;var h=400;l.removeClass("left right top bottom").addClass((0,i.getOrientation)(t,l)).css((0,i.repositionTooltip)({$target:t,$tooltip:l,topOffset:p,leftOffset:v,zOffset:h,offsetMethod:"offset"})).removeClass(c).removeClass(d);if(s!==l.height()){l.css((0,i.repositionTooltip)({$target:t,$tooltip:l,topOffset:p,leftOffset:v,zOffset:h,offsetMethod:"offset"}))}}};if(r.isMobile||r.isNative){t.on("click",(function(){if(l.hasClass(c)){(0,a.default)(".glossary-tooltip").addClass(c);b();if(m){m=false;l.find("button.close").on("click",y)}}else{y()}}))}else if(r.isTouchDevice){t.on("click",(function(){b();if(m){m=false;l.draggable()}}));r.$body.css({cursor:"pointer"});r.$document.on("click",(function(e){if(!(0,a.default)(e.target).hasClass(f)&&!(0,a.default)(e.target).hasClass(p)){y()}}));l.on("dragstart",(function(){l.off("mouseleave");l.addClass(d);l.find("button.close").on("click",y)}))}else{t.on("mouseenter",(function(){clearTimeout(h);b();if(m){m=false;l.draggable()}}));t.on("mouseleave",_);l.on("mouseenter",(function(){return clearTimeout(h)}));l.on("mouseleave",_);l.on("dragstart",(function(){l.off("mouseleave");l.addClass(d);l.find("button.close").on("click",y)}))}r.$body.on(s.EVT_QUIZ_POSITION_WILL_CHANGE,y)}},132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.tabs=i;var a=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.closest(".image-gallery>div");var n="hidden";var r="selected";var i="main-image";e.children().on("click",(function(o){var s=(0,a.default)(o.currentTarget);if(s.hasClass("more")){e.children(".hidden").removeClass(n);s.remove()}else{var l=s.data("index");e.children(".selected").removeClass(r);s.addClass(r);t.find(".main-image").addClass(n).removeClass(i);t.find(".".concat(n,":nth-child(").concat(l+1,")")).addClass(i).removeClass(n)}}))}},139:function(e,t,n){"use strict";var a=m(n(0));var r=m(n(2));var i=m(n(34));var o=m(n(28));var s=m(n(13));var l=h(n(45));var u=n(1);var c=h(n(27));var d=n(6);var f=m(n(70));var p=n(37);var v=n(71);function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function m(e){return e&&e.__esModule?e:{default:e}}var g={};var y=window.vkey||{};var _=false;var b=false;var w=false;var k=false;var C=false;var x;var E=false;var I=function e(){var t=false,n;if(w!==false&&w.length>0){n=w}else if(b!==false&&b.length>0){n=b;t=true}else if(k){n=(0,u.jqGetElemById)("comment-a3f5".concat(k,"e92"));t=true}else if(_!==false&&_.length>0){n=_}else{return}var a=function e(){if(t){n.addClass("highlight");setTimeout((function(){n.removeClass("highlight")}),5e3)}};var i=function e(){r.default.delay((function(){if(n.is(":visible")){d.Anchors.scrollToTarget(n,a);E=true}else{e()}}),500)};if(n.length>0){f.default.expandThreadsFor(n);if((0,d.isInViewport)(n)){a()}else{i()}}};g.add=function(e){var t=e.find(".guide-link"),n=e.find(".discsol-add-guide"),r=e.find("#new_post_form_id, #new_solution_form_id, #new_dispute_form_id, #new_wikifeedback_form_id"),o=r.find("textarea"),s=r.find("[type=submit]");var l=o.filter(":visible");if(!l.length){l=o}(0,p.mentionsAndWikiLinks)(l);(0,i.default)(l);r.after(n);(0,u.jqOffOn)(t,"click",(function(e){e.preventDefault();n.fadeToggle(100)}));r.on("submit",(function(){var e=(0,a.default)(this);e.attr("disabled","disabled");s.attr("disabled","disabled")}));o.on("focus",(function(){(0,a.default)(".mobile-solution-tips").show()}));u.$body.on("solvable.statechange",(function(e){if(e.currentState==="solutions"){o.trigger("autosize.resize")}}));f.default.add_form()};g.showCommentsForSolution=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=e.find(".discsol-comments .cmp-deferred");var a="comments-expanded";if(t===true){e.addClass(a)}else{e.toggleClass(a)}if(n.length){l.load(n)}};g.comments=function(e){f.default.expander(e);f.default.editEvents(e);e.find(".solution-comments-trigger").on("click",(function(){g.showCommentsForSolution((0,a.default)(this).parents(".discsol-post-wrapper"))}));e.find(".action.subscr .cmp-deferred").each((function(e,t){l.load((0,a.default)(t))}));if(C===true){return}var t=window.location.hash||null;if(t){C=true;t=t.split(/\//g);var n,r,i=e.parents("#solv-main");switch(t[1]){case"solution-comments":n="solutions";if(i.find(".btn-solution").length){r=i.find(".btn-solution").data("solutions-loaded")}else{r=i.find(".discsol-list").data("controller-inited")}e=(0,a.default)(".solv-solutions");break;case"dispute-comments":n="disputes";r=i.find(".report-link").data("disputes-loaded");e=(0,a.default)(".solv-disputes");break;case"qanda-question":case"course-feedback":case"content-reports":return}if(r){var o=!Boolean(t[2]);(0,v.setStateForSolvable)(e.parents(".solv-main"),n,o)}if(t[2]){_=(0,a.default)("#post-"+t[2]);if(_.length){if(window.location.search.indexOf("unsubscribe_from_post=true")>=0){w=_.find(".action.subscr");w.addClass("wiggle")}else if(t[3]){k=parseInt(t[3],10)}var s=(0,a.default)(".discsol-post");var c=s.index(_);x=s.filter((function(e){return e<=c})).map((function(e,t){return(0,a.default)(t).parents(".discsol-post-wrapper")}));x.each((function(e,t){g.showCommentsForSolution((0,a.default)(t),true)}))}else{C=false;var d=(0,u.jqGetElemById)("solution-next-page");if(d.length){T=t[2];d.click()}}}}};var T=null;g.loadSolutionsPage=function(e){var t=function t(){var n=e.data();var a={component_key:n.componentKey,param_key:n.paramKey};if(n.position){a.p=n.position}if(T){a.solution=T}e.addClass("loading");(0,s.default)(n.pageKey).get(n.url,a)};u.$window.on("scroll.loadMoreSolutionsButton",(function(n){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(((0,d.isInViewport)(e)||a.force)&&!e.hasClass("loading")){t()}}));e.on("click",t)};g.filterableSolutionsComments=function(e){var t={HIDDEN:"reviewable-hidden",DIM:"reviewable-dim"};var n="".concat(t.HIDDEN," ").concat(t.DIM);var r=function e(r){if(r==="all"){(0,a.default)(".discsol-post-wrapper").removeClass(n)}else if(r==="unreviewed"){(0,a.default)(".discsol-post-wrapper").removeClass(n).each((function(e,n){if(Boolean(n.dataset.reviewed)){if(n.querySelectorAll(".comment-item:not([data-reviewed])").length){n.classList.add(t.DIM)}else{n.classList.add(t.HIDDEN)}}}))}};var i=function e(n){var r=false;n.each((function(n,i){var o=(0,a.default)(i);var s=o.next(".cmmnt-container").children(".comment-item");var l=false;if(s.length){l=e(s)}if(o.data("reviewed")===true){if(l){o.addClass(t.DIM)}else{o.addClass(t.HIDDEN)}}else{l=true}r=l||r}));return r};var o=function e(t){if(t==="all"){(0,a.default)(".discsol-post-wrapper .comment-item").removeClass(n)}else if(t==="unreviewed"){var r=(0,a.default)(".discsol-post-wrapper .level-0 > .comment-item");r.removeClass(n);i(r)}};var s=e.find("select");var l=function e(){s.each((function(e,t){if(t.name==="solutions"){r(t.value)}else if(t.name==="comments"){o(t.value)}}))};s.on("change",l);u.$window.on("solutions.reload",l)};y.quizzes_solvabledisputecomments=y.quizzes_challengesolvablesolutioncomments=y.potw_solvablesolutioncomments=y.potw_solvabledisputecomments=y.wikidiscussions_wikifeedbackcomments=y.qanda_comments=y.course_feedback_comments=y.contentreports_comments=y.dailyproblem_feedback_comments=y.disputediscussions_publicsolvabledisputecomments=y.daily_problems_solutioncomments=y.solutiondiscussions_publicsolvablesolutioncomments=function(e,t){var n=y.handle(e,t);f.default.events();f.default.subscribe();c.updateMathjax(n.find(".latex"));var r=n.find(".disc-comments").data("highlighted-comment-id");if(r){b=(0,u.jqGetElemById)("comment-a3f5".concat(r,"e92"))}if(k&&!b){b=n.find(".cmmnt-container #comment-a3f5"+k+"e92");if(b.length===0){b=false}}f.default.expander(n);if(!E&&x){var i=x.find(".discsol-comments .cmp-deferred").length;if(i===0&&b!==false){var o=["qanda_comments","course_feedback_comments","contentreports_comments"];if(!o.includes(e.component_key)){I()}}}u.$window.trigger(a.default.Event("solutions.reload"))};y.quizzes_challengesolvablesolutionwrapper=y.potw_solvablesolutionwrapper=y.daily_problems_solutionlist=y.solutiondiscussions_publicsolvablesolutionwrapper=function(e,t){var n=y.handle(e,t);c.updateMathjax(n.find(".latex"));f.default.init(n);u.$window.trigger("moreSolutionsLoaded");var r=false;var i={};(0,a.default)(".solv-solutions .solution-header .text .mini-profile").each((function(){var e=(0,a.default)(this).data("id");if(e in i){i[e]["count"]++;r=true}else{var t=(0,a.default)(this).attr("href");i[e]={name:t?t.match(/\/profile\/(.*)\//)[1]:(0,a.default)(this).text().trim(),count:1}}}));for(var s in i){i[i[s]["name"]]=i[s]["count"];delete i[s]}var l={};var d=false;if(f.default.hitPreviewSolution){var p=(0,a.default)(".hdr-settings .dropdown-toggle img").attr("alt");if(!(p in i)){l["__Lost.Edits"]="Yes";d=true}}if(r){l["_Authors"]=JSON.stringify(i);d=true}if(d){o.default.captureMessage("Messed up solutions",{tags:l})}f.default.hitPreviewSolution=false};y.daily_problems_solutionwrapper=function(e,t){var n=y.handle(e,t);if(u.isIos){var r=n.find(".discsol-comments .cmp-deferred");r.each((function(e,t){l.load((0,a.default)(t))}))}u.$window.trigger("moreSolutionsLoaded")};e.exports=g},140:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.component=l;var a=n(1);function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};var a=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))}a.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var o={InteractiveProblem:function e(){return Promise.all([n.e(4),n.e(9),n.e(160)]).then(n.bind(null,418))},"quizzes/QuizDropdown":function e(){return Promise.all([n.e(4),n.e(158)]).then(n.bind(null,415))},"quizzes/nux/QuizNuxMain":function e(){return Promise.all([n.e(4),n.e(9),n.e(156)]).then(n.bind(null,414))},"quizzes/endstate/QuizEndstateMain":function e(){return Promise.all([n.e(4),n.e(9),n.e(180),n.e(155)]).then(n.bind(null,413))},"assets/ContentAssetManager":function e(){return Promise.all([n.e(4),n.e(9),n.e(159)]).then(n.bind(null,416))},StreakModal:function e(){return Promise.all([n.e(4),n.e(9),n.e(17),n.e(157)]).then(n.bind(null,417))}};function s(e){var t=o[e];if(t){return t()}throw new Error("Unknown component '".concat(e,"'"))}function l(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=e.data();s(n.component).then((function(i){var o=i.default;var s=new o({propsData:r({},n,t)});s.$mount(e[0]);s.$on("external",(function(e){if(e.name){a.$window.trigger("".concat(n.component,".").concat(e.name),e)}}))}))}},159:function(e,t,n){"use strict";var a=n(40);a.__defineMacro("\\bra","\\mathinner{\\langle{#1}|}");a.__defineMacro("\\ket","\\mathinner{|{#1}\\rangle}");a.__defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}");a.__defineMacro("\\Bra","\\left\\langle#1\\right|");a.__defineMacro("\\Ket","\\left|#1\\right\\rangle");a.__defineMacro("\\ketbra","\\ket{#1}\\bra{#2}");a.__defineMacro("\\overparen","\\overgroup{#1}");a.__defineMacro("\\mbox","\\text{#1}");a.__defineMacro("\\pmatrix","\\begin{pmatrix}#1\\end{pmatrix}");a.__defineMacro("\\longdiv","\\overline{\\smash{\\big)}#1}");a.__defineMacro("\\cases","\\begin{cases}#1\\end{cases}");a.__defineMacro("\\cancelto","\\cancel{#2}^{~~#1}")},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.onLoad=o;t.onDOMReady=s;var a=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}var i=function e(t){t()};function o(e){(0,a.default)(window).on("load",(function(){return i(e)}))}function s(e){(0,a.default)((function(){return i(e)}))}},160:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function i(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}function o(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var s=n(40);s.__defineMacro("\\si",l);s.__defineMacro("\\SI",u);s.__defineMacro("\\num",c);s.__defineMacro("\\ang",d);s.__defineMacro("\\tothe","^{#1}");function l(e){var t=p(e,2);f(t,1,2);var n={};if(t[0].optional===true){n=v(t[0]);t=t.slice(1)}f(t,1);var a=y(t[0],n);return a}function u(e){var t=p(e,4);f(t,2,4);var n={};if(t[0].optional===true){n=v(t[0]);t=t.slice(1)}f(t,2);var a=m(t[0]);t=t.slice(1);f(t,1);var r="";r+="".concat(y(t[0],n));t=t.slice(1);if(t.length!=0){r+=" ".concat(a,"\\ ").concat(y(t[0],n))}else{r="".concat(a,"\\ ").concat(r)}return r}function c(e){var t=p(e,2);f(t,1,2);var n={};if(t[0].optional===true){n=v(t[0]);t=t.slice(1)}f(t,1);var a=m(t[0]);return"{ ".concat(a," }")}function d(e){var t=p(e,2);f(t,1,2);var n={};if(t[0].optional===true){n=v(t[0]);t=t.slice(1)}f(t,1);var a="".concat(m(t[0])," \\degree");return a}function f(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity;if(e.length<t||e.length>n){throw"Unexpected number of arguments."}}function p(e,t){var n=[];var a=[];var r=0;var i=e.future();while(i&&i.text!="EOF"){if(a.length>t){throw"Unexpected argument."}i=e.future();switch(i.text){case"[":case"{":if(r!=0){n.push({token:i.text,type:w.LITERAL})}else{n.optional=i.text=="["}++r;break;case"]":case"}":--r;if(r<0){return a}else if(r!=0){n.push({token:i.text,type:w.LITERAL})}else{a.push(n);n=[]}break;case"\\num":if(r==0){return a}break;default:if(r==0){return a}else{n.push(_(i.text))}break}e.popToken()}return a}function v(e){var t=e.map((function(e){return e.token})).join("");var n=t.split("=");if(n.length!=2){throw"Unexpected option."}return o({},n[0].trim(),n[1].trim().toLowerCase())}function h(e,t){if(e.length<4){return e}if(!t){e.reverse()}var n=[];for(var a=0;a<e.length;++a){if(a!=0&&a%3==0){n.push("\\,")}n.push(e[a])}return t?n:n.reverse()}function m(e){var t=false;var n=false;var a=[];var r=[];e.forEach((function(e){if(e.token.length>1){r.push(e.token);return}if(e.token===","){return}var i=e.token.charCodeAt(0);if(i>=48&&i<=57){a.push(e.token)}else{if(a.length!=0){r.push(h(a,n).join(""));a=[]}switch(e.token){case"e":case"E":t=true;if(r.length!=0){r.push("\\times")}r.push("10^{");break;case".":n=true;default:r.push(e.token);break}}}));if(a.length!=0){r.push(h(a,n).join(""))}if(t){r.push("}")}return r.join(" ")}var g=function(){function e(t){a(this,e);this.tokens=t;this.idx=-1}i(e,[{key:"peek",value:function e(){var t=this.idx+1;return t<this.tokens.length?this.tokens[t]:null}},{key:"remember",value:function e(){var t=this.idx-1;return t>=0?this.tokens[t]:null}},{key:"next",value:function e(){var t=this.peek();if(t){++this.idx}return t}}]);return e}();function y(e,t){var n=[];var a=[];var r=new g(e);var i=t["per-mode"]==="symbol";var o=t["per-mode"]==="pedagogical";var s=false;var l=r.next();while(l){var u="";var c=null;switch(l.type){case w.PER:s=true;l=r.next();continue;case w.PREFIX:c=r.next();if(!c||c.type!=w.UNIT&&c.type!=w.LITERAL){throw'Unit expected after prefix "'.concat(l.token,'" but got "').concat(c.token,'".')}u+=l.text===false?l.token:"\\text{".concat(l.token,"}");l=c;case w.UNIT:u+=l.text===false?l.token:"\\text{".concat(l.token,"}");c=r.peek();var d=true;if(c&&c.type==w.POWER_SUFFIX){if(!s||i){u+="^{".concat(c.power,"}")}else{u+="^{".concat(c.power*-1,"}")}d=false;l=r.next()}else if(s){if(!i){u+="^{-1}";d=false}}c=r.peek();if(!c){d=false}else if(c.type==w.PER){d=d&&(!i||s)}else if(b(c.token)){d=false}else if(l.token==="W"&&c.token==="h"){d=false}if(d){u+="\\,"}break;case w.POWER_SUFFIX:u="^{".concat(l.power,"}");break;case w.LITERAL:if(l.token==="."){var f=r.peek();var p=r.remember();if(b(f.token)&&b(p.token)){u=l.token}else{u="\\,"}}else if(l.text===false||l.token.startsWith("\\")||b(l.token)){u=l.token}else{u="\\text{".concat(l.token,"}");var v=r.peek();while(v&&v.type==w.LITERAL&&!b(v.token)){l=r.next();u+="\\text{".concat(l.token,"}");v=r.peek()}if(v&&v.type==w.POWER_SUFFIX){if(!s||i){u+="^{".concat(v.power,"}")}else{u+="^{".concat(v.power*-1,"}")}l=r.next()}else if(s){if(!i){u+="^{-1}"}}}break;default:u=l.token;break}if(s){a.push(u);c=r.peek();if(c&&c.type!=w.LITERAL&&!o){s=false}}else{n.push(u)}l=r.next()}var h=n.join(" ");var m;if(i&&a.length>1){m="(".concat(a.join(" "),")")}else{m=a.join(" ")}return"".concat(h," ").concat(i&&m.length!=0?"/":""," ").concat(m)}function _(e){return k[e]||{token:e,type:w.LITERAL}}function b(e){if(!e||e.length!=1){return false}var t=e.charCodeAt(0);return t<=64||t>=91&&t<=96||t>=123}var w={LITERAL:0,UNIT:1,PREFIX:2,POWER_SUFFIX:3,PER:4};var k={"\\ampere":{token:"A",type:w.UNIT},"\\pA":{token:"pA",type:w.UNIT},"\\nA":{token:"nA",type:w.UNIT},"\\uA":{token:"\\mu\\text{A}",type:w.UNIT,text:false},"\\mA":{token:"mA",type:w.UNIT},"\\A":{token:"A",type:w.UNIT},"\\kA":{token:"kA",type:w.UNIT},"\\candela":{token:"cd",type:w.UNIT},"\\gram":{token:"g",type:w.UNIT},"\\kelvin":{token:"K",type:w.UNIT},"\\K":{token:"K",type:w.UNIT},"\\kilogram":{token:"kg",type:w.UNIT},"\\fg":{token:"fg",type:w.UNIT},"\\pg":{token:"pg",type:w.UNIT},"\\ng":{token:"ng",type:w.UNIT},"\\ug":{token:"\\mu\\text{g}",type:w.UNIT,text:false},"\\mg":{token:"mg",type:w.UNIT},"\\g":{token:"g",type:w.UNIT},"\\kg":{token:"kg",type:w.UNIT},"\\metre":{token:"m",type:w.UNIT},"\\meter":{token:"m",type:w.UNIT},"\\pm":{token:"pm",type:w.UNIT},"\\nm":{token:"nm",type:w.UNIT},"\\um":{token:"\\mu\\text{m}",type:w.UNIT,text:false},"\\mm":{token:"mm",type:w.UNIT},"\\cm":{token:"cm",type:w.UNIT},"\\dm":{token:"dm",type:w.UNIT},"\\m":{token:"m",type:w.UNIT},"\\km":{token:"km",type:w.UNIT},"\\mole":{token:"mol",type:w.UNIT},"\\fmol":{token:"fmol",type:w.UNIT},"\\pmol":{token:"pmol",type:w.UNIT},"\\nmol":{token:"nmol",type:w.UNIT},"\\umol":{token:"\\mu\\text{mol}",type:w.UNIT,text:false},"\\mmol":{token:"mmol",type:w.UNIT},"\\mol":{token:"mol",type:w.UNIT},"\\kmol":{token:"kmol",type:w.UNIT},"\\second":{token:"s",type:w.UNIT},"\\as":{token:"as",type:w.UNIT},"\\fs":{token:"fs",type:w.UNIT},"\\ps":{token:"ps",type:w.UNIT},"\\ns":{token:"ns",type:w.UNIT},"\\us":{token:"\\mu\\text{s}",type:w.UNIT,text:false},"\\ms":{token:"ms",type:w.UNIT},"\\s":{token:"s",type:w.UNIT},"\\becquerel":{token:"Bq",type:w.UNIT},"\\degreeCelsius":{token:"\\degree\\text{C}",type:w.UNIT,text:false},"\\celsius":{token:"\\degree\\text{C}",type:w.UNIT,text:false},"\\coulomb":{token:"C",type:w.UNIT},"\\farad":{token:"F",type:w.UNIT},"\\pF":{token:"pF",type:w.UNIT},"\\fF":{token:"fF",type:w.UNIT},"\\F":{token:"F",type:w.UNIT},"\\gray":{token:"Gy",type:w.UNIT},"\\hertz":{token:"Hz",type:w.UNIT},"\\mHz":{token:"mHz",type:w.UNIT},"\\Hz":{token:"Hz",type:w.UNIT},"\\kHz":{token:"kHz",type:w.UNIT},"\\MHz":{token:"MHz",type:w.UNIT},"\\GHz":{token:"GHz",type:w.UNIT},"\\THz":{token:"THz",type:w.UNIT},"\\henry":{token:"H",type:w.UNIT},"\\joule":{token:"J",type:w.UNIT},"\\uJ":{token:"\\mu\\text{J}",type:w.UNIT,text:false},"\\mJ":{token:"mJ",type:w.UNIT},"\\J":{token:"J",type:w.UNIT},"\\kJ":{token:"kJ",type:w.UNIT},"\\katal":{token:"kat",type:w.UNIT},"\\lumen":{token:"lm",type:w.UNIT},"\\lux":{token:"lx",type:w.UNIT},"\\newton":{token:"N",type:w.UNIT},"\\mN":{token:"mN",type:w.UNIT},"\\N":{token:"N",type:w.UNIT},"\\kN":{token:"kN",type:w.UNIT},"\\MN":{token:"MN",type:w.UNIT},"\\ohm":{token:"\\Omega",type:w.UNIT,text:false},"\\mohm":{token:"\\text{m}\\Omega",type:w.UNIT,text:false},"\\kohm":{token:"\\text{k}\\Omega",type:w.UNIT,text:false},"\\Mohm":{token:"\\text{M}\\Omega",type:w.UNIT,text:false},"\\pascal":{token:"Pa",type:w.UNIT},"\\Pa":{token:"Pa",type:w.UNIT},"\\kPa":{token:"kPa",type:w.UNIT},"\\MPa":{token:"MPa",type:w.UNIT},"\\GPa":{token:"GPa",type:w.UNIT},"\\radian":{token:"rad",type:w.UNIT},"\\siemens":{token:"S",type:w.UNIT},"\\sievert":{token:"Sv",type:w.UNIT},"\\steradian":{token:"sr",type:w.UNIT},"\\tesla":{token:"T",type:w.UNIT},"\\volt":{token:"V",type:w.UNIT},"\\pV":{token:"pV",type:w.UNIT},"\\nV":{token:"nV",type:w.UNIT},"\\uV":{token:"\\mu\\text{V}",type:w.UNIT,text:false},"\\mV":{token:"mV",type:w.UNIT},"\\V":{token:"V",type:w.UNIT},"\\kV":{token:"kV",type:w.UNIT},"\\watt":{token:"W",type:w.UNIT},"\\uW":{token:"\\mu\\text{W}",type:w.UNIT,text:false},"\\mW":{token:"mW",type:w.UNIT},"\\W":{token:"W",type:w.UNIT},"\\kW":{token:"kW",type:w.UNIT},"\\MW":{token:"MW",type:w.UNIT},"\\GW":{token:"GW",type:w.UNIT},"\\kWh":{token:"kWh",type:w.UNIT},"\\weber":{token:"Wb",type:w.UNIT},"\\day":{token:"d",type:w.UNIT},"\\degree":{token:"\\degree",type:w.UNIT,text:false},"\\hectare":{token:"ha",type:w.UNIT},"\\hour":{token:"h",type:w.UNIT},"\\litre":{token:"l",type:w.UNIT},"\\liter":{token:"L",type:w.UNIT},"\\ul":{token:"\\mu\\text{l}",type:w.UNIT,text:false},"\\ml":{token:"ml",type:w.UNIT},"\\l":{token:"l",type:w.UNIT},"\\hl":{token:"hl",type:w.UNIT},"\\uL":{token:"\\mu\\text{L}",type:w.UNIT,text:false},"\\mL":{token:"mL",type:w.UNIT},"\\L":{token:"L",type:w.UNIT},"\\hL":{token:"hL",type:w.UNIT},"\\minute":{token:"min",type:w.UNIT},"\\arcminute":{token:"\\prime",type:w.UNIT,text:false},"\\arcsecond":{token:"\\prime\\prime",type:w.UNIT,text:false},"\\tonne":{token:"t",type:w.UNIT},"\\astronomicalunit":{token:"au",type:w.UNIT},"\\atomicmassunit":{token:"u",type:w.UNIT},"\\amu":{token:"u",type:w.UNIT},"\\bohr":{token:"a_0",type:w.UNIT,text:false},"\\clight":{token:"c_0",type:w.UNIT,text:false},"\\dalton":{token:"Da",type:w.UNIT},"\\electronmass":{token:"m_e",type:w.UNIT,text:false},"\\electronvolt":{token:"eV",type:w.UNIT},"\\meV":{token:"meV",type:w.UNIT},"\\eV":{token:"eV",type:w.UNIT},"\\keV":{token:"keV",type:w.UNIT},"\\MeV":{token:"MeV",type:w.UNIT},"\\GeV":{token:"GeV",type:w.UNIT},"\\TeV":{token:"TeV",type:w.UNIT},"\\elementarycharge":{token:"e",type:w.UNIT,text:false},"\\hartree":{token:"E_h",type:w.UNIT,text:false},"\\planckbar":{token:"\\hbar",type:w.UNIT,text:false},"\\angstrom":{token:"\\AA",type:w.UNIT,text:true},"\\bar":{token:"bar",type:w.UNIT},"\\barn":{token:"b",type:w.UNIT},"\\bel":{token:"B",type:w.UNIT},"\\decibel":{token:"dB",type:w.UNIT},"\\dB":{token:"dB",type:w.UNIT},"\\knot":{token:"kn",type:w.UNIT},"\\mmHg":{token:"mmHg",type:w.UNIT},"\\nauticalmile":{token:"M",type:w.UNIT},"\\neper":{token:"Np",type:w.UNIT},"\\yocto":{token:"y",type:w.PREFIX},"\\zepto":{token:"z",type:w.PREFIX},"\\atto":{token:"a",type:w.PREFIX},"\\femto":{token:"f",type:w.PREFIX},"\\pico":{token:"p",type:w.PREFIX},"\\nano":{token:"n",type:w.PREFIX},"\\micro":{token:"\\mu",type:w.PREFIX,text:false},"\\milli":{token:"m",type:w.PREFIX},"\\centi":{token:"c",type:w.PREFIX},"\\deci":{token:"d",type:w.PREFIX},"\\deca":{token:"da",type:w.PREFIX},"\\deka":{token:"da",type:w.PREFIX},"\\hecto":{token:"h",type:w.PREFIX},"\\kilo":{token:"k",type:w.PREFIX},"\\mega":{token:"M",type:w.PREFIX},"\\giga":{token:"G",type:w.PREFIX},"\\tera":{token:"T",type:w.PREFIX},"\\peta":{token:"P",type:w.PREFIX},"\\exa":{token:"E",type:w.PREFIX},"\\zetta":{token:"Z",type:w.PREFIX},"\\yotta":{token:"Y",type:w.PREFIX},"\\squared":{power:2,type:w.POWER_SUFFIX},"\\cubed":{power:3,type:w.POWER_SUFFIX},"\\per":{token:"/",type:w.PER}}},161:function(e,t,n){"use strict";var a=/\\(begin|end)\s*{\s*(align|eqnarray|split)\*?\s*}/g;function r(e,t){return"\\".concat(t,"{aligned}")}var i=/\\begin{\s*array\s*}\s*[^{\s]/g;function o(e){return"\\begin{array}{c}".concat(e[e.length-1])}var s=/\\(begin|end){\s*equation\s*}/g;function l(e){return""}var u=/(.*?)([$%])/g;function c(e,t,n){return t.endsWith("\\")?"".concat(t).concat(n):"".concat(t,"\\").concat(n)}var d=/\\text(?:rm|bf|it|md|normal|sf|tt|up)?{([^}]*?)}/g;var f=/(.*?)([_#&])/g;function p(e){return e.replace(f,c)}var v=/\u2013|\\u2013|\u2212|\\u2212/g;var h={"–":"-","\\u2013":"-","−":"-","\\u2212":"-"};function m(e){return h[e]||e}var g=/\\require{[^}]*?}/g;function y(e){return""}var _={lightblue:"#95D3FE",blue:"#3D99F6",darkblue:"#0C6AC7",seagreen:"#1E93A5",aqua:"#27D2E7",lightgreen:"#67D94C",green:"#20A900",darkgreen:"#456461",yellow:"#CEBB00",lightyellow:"#FEDF53",yelloworange:"#FCA04A",orange:"#EC7300",redorange:"#FF664D",red:"#D61F06",pink:"#E81990",rosepink:"#F970BF",violet:"#BA33D6",amethyst:"#625CDB",indigo:"#302B94",purple:"#69047E",paleyellow:"#FFF7E6",beige:"#FBE6B8",sandybrown:"#FEDABE",peachy:"#FCC9A1",tan:"#DBA97F",lightbrown:"#B4825D",mediumlightbrown:"#AA7956",bronze:"#815331",brown:"#624F41",white:"#FFFFFF",lightgray:"#FBFBFB",mediumlightgray:"#F0F0F0",mediumgray:"#D8D8D8",gray:"#BBBBBB",mediumdarkgray:"#919191",darkgray:"#777777",black:"#333333",darkblack:"#161616"};function b(e){var t=e.trim().replace(/\\/g,"").toLowerCase();return _[t]||t}var w=/\\(color|colorbox|textcolor)\s*{(.*?)}/g;function k(e,t,n){return"\\".concat(t,"{").concat(b(n),"}")}var C=/\\fcolorbox\s*{(.*?)}\s*{(.*?)}/g;function x(e,t,n){return"\\fcolorbox{".concat(b(t),"}{").concat(b(n),"}")}function E(e){return e.replace(v,m).replace(g,y).replace(s,l).replace(a,r).replace(i,o).replace(u,c).replace(w,k).replace(C,x).replace(d,p)}e.exports={replace:E}},162:function(e,t,n){"use strict";var a="warn";var r=true;var i={strict:a,unicodeTextInMathMode:r};var o={displayMode:true,strict:a,unicodeTextInMathMode:r};e.exports={inline:i,block:o}},181:function(e,t,n){"use strict";var a=u(n(0));var r=u(n(2));var i=u(n(253));var o=u(n(95));var s=u(n(7));var l=n(1);function u(e){return e&&e.__esModule?e:{default:e}}var c=false;var d={};var f=null;var p=true;var v=null;var h=window.btoa||function(e){return e.split("").map((function(e){return e.charCodeAt(0)})).join("")};d.disable=function(){p=false};d.init=function(e){var t=e.data();f=h(s.default.superProperties.sessionid||"unknown");i.default.init(t.branchKey,(function(e,n){if(!e){try{i.default.setIdentity(s.default.identity)}catch(e){}var a=n&&n.has_app===true;s.default.setSuperProperties({branch_has_app:a});if(!a){var r={channel:"mobile-web",data:{$deeplink_path:window.location.pathname+window.location.search,$always_deeplink:true}};i.default.link(r,(function(e,n){if(e||!p){return}if(t.showBanner){b(n,a)}}))}}}))};function m(e){return s.default.identity+"_brilliant-branch-"+e}function g(e,t){o.default.set(m(e),f+":"+t)}function y(e){var t=o.default.get(m(e));if(t){t=t.split(":");if(f===t[0]){return t[1]}}return null}function _(){if(v){l.$body.removeClass("branch-banner-active");v.removeClass("in");v=null}}d.hideBranchBanner=function(){return _()};function b(e,t){var n=y("banner");if(n==="closed"&&!c){return}var i=r.default.template((0,l.jqGetElemById)("branch-banner-tmpl").text());var o=(0,a.default)(i({link:e,hasApp:t,isIosWeb:l.isIosWeb,isAndroidWeb:l.isAndroidWeb}));l.$body.addClass("branch-banner-active").append(o);s.default.setAnalyticsEvents(o);setTimeout((function(){o.addClass("in")}),1e3);o.find(".close").on("click",(function(){return _()}));o.find("button,a").on("click",(function(){g("banner","closed")}));v=o}e.exports=d},187:function(e,t,n){"use strict";var a=n(1);var r={};r.setBackButton=function(e,t,n){window.location.hash=e;(0,a.jqOffOn)(a.$window,"hashchange.backbutton",(function(n){if(window.location.hash.indexOf(e)<0){t(n);a.$window.off("hashchange.backbutton")}}));(0,a.jqOffOn)(n,"click.backbutton",(function(e){if(window.history){window.history.back()}else{t(e);r.removeBackButton()}}))};r.removeBackButton=function(){window.hash="";a.$window.off("hashchange.backbutton")};e.exports=r},188:function(e,t,n){"use strict";var a=s(n(0));var r=s(n(2));var i=n(1);var o=n(11);function s(e){return e&&e.__esModule?e:{default:e}}var l={};l.showHeaderOnScroll=function(e){i.$window.on("scroll",(function(){if(i.$window.scrollTop()>200&&!e.hasClass("show")){e.addClass("show")}else if(i.$window.scrollTop()<80&&e.hasClass("show")){e.removeClass("show")}}))};l.deactivatedAccountModal=function(e){e.modal({show:true})};l.autoOpenSignup=function(e){if(window.location.hash==="#sign-up"){e.click()}};l.autoOpenLogin=function(e){if(window.location.hash==="#login"){e.click()}};l.inlineSignupForm=function(e){var t=e.find(".initial-content");var n=t.find(".signup-btn");var s=e.find(".signup-btns");var l=(0,i.jqGetElemById)("inline-signup-email");var u=e.find(".inline-signup-form-container");var c=l.data();var d=u.data();var f=parseFloat(e.css("transition-duration"))*1e3;var p=false;var v=function e(t){t.css({display:"block",position:"absolute",left:"-99999px",top:"-99999px"});var n=t.outerHeight();t.css({display:"",position:"",left:"",top:""});return n};var h=t.outerHeight();var m=v(s);n.one("click",(function(n){n.preventDefault();if(!p){var i=r.default.extend({page_key:d["pageKey"]},c);a.default.get(d.url,i).then((function(e){p=true;u.html(e["actions"]["homepage_signup_form"]["new_html"]);(0,o.initGenericControllers)(u)}))}var l=e.height();e.height(l);e.addClass("out");e.height(l+(m-h));setTimeout((function(){e.removeClass("out");t.hide();s.show();e.height("")}),f)}));l.on("click",(function(t){if(p){t.preventDefault();var n=e.height();var a=v(u);e.height(n);e.addClass("out");e.height(n+(a-m));setTimeout((function(){e.removeClass("out");s.hide();u.show();e.height("")}),f)}}))};l.v4Signup=function(e){(0,i.jqGetElemById)("btn-email-signup").on("click",(function(t){t.preventDefault();var n=e.find(".v4-form");e.animate({opacity:0},200,(function(){e.animate({height:n.outerHeight()+parseInt(n.css("margin-top"),10)+30},200,(function(){e.addClass("open").animate({opacity:1,height:"auto"},200)}))}))}));(0,i.jqGetElemById)("fb_canvas_signup").on("click",(function(e){e.preventDefault();window.top.location.replace("https://brilliant.org/account/facebook/login/")}))};e.exports=l},194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.modal=p;t.webview=v;var a=l(n(0));var r=l(n(2));var i=l(n(13));var o=n(8);var s=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var u="keydown.shownote";function c(e){e.find("#solvable-resend-verification-form").trigger("submit")}function d(e){var t=e.find("input[type=radio]");var n=e.find(".choose-choice");var a=e.find(".cancel");var r=e.find(".note");var i=250;t.on("change",(function(){n.toggleClass(o.CLASS_NAME_DISABLED,t.filter(":checked").length===0)}));n.on("click",(function(r){r.preventDefault();var o=t.filter(":checked");if(!o.length){return}n.hide();var s=e.find(".".concat(o.val()));e.addClass("out");setTimeout((function(){e.find(".options").hide();s.add(a).show();s.find("textarea").triggerHandler(u);e.removeClass("out")}),i)}));a.on("click",(function(t){t.preventDefault();e.addClass("out");setTimeout((function(){e.find(".options").add(n).show();e.find(".choice").filter(":visible").add(a).hide();r.addClass(o.CLASS_NAME_HIDE);e.removeClass("out")}),i)}))}function f(e){var t=e.find("textarea");var n=e.find(".note");t.on(u,r.default.throttle((function(e){r.default.defer((function(){n.toggleClass(o.CLASS_NAME_HIDE,e.currentTarget.value.length===0)}))}),250))}function p(e){var t=e.data();var n=(0,a.default)(t.trigger);var l;var u;var p=function e(){s.$body.data(o.CMP_RELOADING_FLAGS.DISPUTES,true);(0,i.default)("assessment").get(t.solvableUrl,{page_key:t.pageKey})};var v=r.default.once((function(){f(l);if(!u.showAtStart){c(l)}d(l);l.find("form").on("submit",(function(){s.$body.data(o.CMP_RELOADING_FLAGS.DISPUTES,true)}));l.on("hide",(function(){if(t.endstate){p()}}))}));var h=function e(){v();l.modal("show")};s.$body.children(".modal-bg").has(".dispute-form-modal").remove();n.on("click",(function(e){e.preventDefault();h()}));r.default.defer((function(){l=e.clone(true,true);u=l.data();if(u.showAtStart){h()}}))}function v(e){c(e);d(e)}},195:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.launcher=w;t.showLauncherIfConversation=k;t.loadAndShowOnClick=C;t.loadAndShowOnClickForVue=x;t.loadAndShowFrontChat=E;var a=s(n(0));var r=s(n(2));var i=n(1);var o=n(16);function s(e){return e&&e.__esModule?e:{default:e}}var l="https://chat-assets.frontapp.com/v1/chat.bundle.js";var u="front-chat-container";var c="custom-front-chat-launcher";var d={READY:"FrontChat.ready",SHOW:"FrontChat.show",HIDE:"FrontChat.hide"};var f={ACTIVE:"active",LOADING:"loading"};var p=false;var v=function e(t){return"brilliant_front_chat__".concat(t.userHash,":").concat(t.conversationFlag)};var h=function e(t,n){["email","name","userHash"].forEach((function(e){if(t[e]){n[e]=t[e]}}))};var m=function e(t){var n=(0,i.jqGetElemById)(c).find(".unread-message-counter");n.text(t||"");n.toggle(t>0)};var g=function e(){m(0);window.FrontChat("show");if(p){i.$body.trigger(d.SHOW)}else{var t=setInterval((function(){var e=document.getElementById(u);if(e&&e.children.length&&e.children[0].children.length&&e.children[0].children[0].style.opacity==="1"){clearInterval(t);p=true;i.$body.trigger(d.SHOW)}}),50)}};var y=function e(){window.FrontChat("hide");i.$body.trigger(d.HIDE)};var _=r.default.once((function(){var e=(0,i.jqGetElemById)(c);i.$body.on(d.READY,(function(){window.FrontChat("onUnreadChange",(function(t){var n=t.unread_count;if(!e.is(":visible")&&n>0){g()}else if(!e.hasClass("active")){m(n)}}));e.on("click",(function(t){t.preventDefault();if(e.hasClass(f.ACTIVE)){y()}else{g()}}))})).on(d.SHOW,(function(){e.removeClass(f.LOADING);e.addClass(f.ACTIVE)})).on(d.HIDE,(function(){e.removeClass(f.ACTIVE)}))}));var b=function e(t,n){var s=function e(){var o=(0,i.jqGetElemById)(c);if(o.is(":visible")&&!o.hasClass(f.ACTIVE)){o.addClass(f.LOADING)}_();var s=document.createElement("script");s.type="text/javascript";s.async=true;s.src=l;s.onload=function(){if(window.localStorage&&t.conversationFlag){i.$body.on(d.SHOW,(function(){window.localStorage[v(t)]="1"}))}i.$body.on("click","#".concat(u," .fc-2a549"),(function(){i.$body.trigger(d.HIDE)}));var e={useDefaultLauncher:false};h(t,e);window.FrontChat("init",e);var o=(0,i.jqGetElemById)("footer-notifs");if(o.length>0&&!i.isMobile){var s=0;if(o.html().trim()!==""){s=o.outerHeight()}if(s>0){(0,a.default)("style:last")[0].textContent+="#".concat(u," .fc-3laqu {")+"height: ".concat(580-s,"px !important;")+"margin-bottom: ".concat(s,"px !important;")+"}"+"@media (max-height: 600px) and (min-width: 760px) {"+"#".concat(u," .fc-3laqu {")+"height: calc(100vh - 44px - ".concat(s,"px) !important;")+"}"+"}"}}if(typeof n==="function"){r.default.delay(n,1e3)}};var p=document.getElementsByTagName("script")[0];p.parentNode.insertBefore(s,p);var m=setInterval((function(){var e=document.getElementById(u);if(e&&e.children.length){clearInterval(m);i.$body.trigger(d.READY)}}),250)};if(!window.FrontChat){window.FCSP=t.token;if(window.isLoaded){s()}else{(0,o.onLoad)(s)}}else if(typeof n==="function"){n()}i.$body.addClass("front-chat-active")};function w(e){var t=e.data();var n=parseInt(t.delay,10);var a=function t(){return e.removeClass("hide")};e.one("click",(function(){return b(t,(function(){if(!e.hasClass(f.ACTIVE)){g()}}))}));if(n){setTimeout(a,n*1e3)}else{a()}}function k(e){var t=e.data();if(window.localStorage&&parseInt(window.localStorage[v(t)],10)===1){w(e)}}function C(e){var t=e.data();var n=e.find(".front-chat-trigger");if(!n.length){n=e}n.on("click",(function(e){e.preventDefault();i.$body.click();b(t,g)}))}function x(e){b(e,g)}function E(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};b(e,(function(){setTimeout(g,1e3)}))}},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.streakNotif=u;t.topicsNav=c;t.continuePracticing=d;t.reenablePremium=f;var a=l(n(0));var r=l(n(2));var i=n(7);var o=n(1);var s=n(8);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){r.default.defer((function(){if((0,o.jqGetElemById)("sales-card").length===0){e.show();r.default.defer((function(){document.body.scrollTop=0;document.documentElement.scrollTop=0;e.addClass("animated")}));o.$body.one(s.EVT_QUIZ_POSITION_DID_CHANGE,(function(){e.one("transitionend",(function(){e.hide()}));e.removeClass("animated")}))}}))}function c(e){var t=e.find(".toggle");var n=e.children("div");var r="expanded";var i=false;t.on("click",(function(t){t.preventDefault();i=!i;e.toggleClass(r,i)}));o.$body.on("click",(function(o){if(i&&o.target!==t[0]&&o.target!==n[0]&&(0,a.default)(o.target).parents().filter(n).length===0){e.removeClass(r);i=false}}))}function d(e){var t=e.data();var n={action:"click",element_type:"button",continue_practicing_quiz_id:t.targetQuizId,continue_practicing_problems_left:t.problemsLeft,path:window.location.pathname,full_path:window.location.pathname+window.location.search};var a=(0,o.jqGetElemById)("footer-notifs");var s=a.outerHeight();var l=e.outerHeight();a.css("height",s+l+20);e.find(".continue-practicing-button").on("click",(function(){(0,i.track)("ui",r.default.extend({element_id:"continue_practicing_button"},n))}));var u=e.find("form");var c=u.find(".close");c.on("click",(function(){e.hide();a.css("height",s);(0,i.track)("ui",r.default.extend({element_id:"continue_practicing_dismissed"},n))}))}function f(e){setTimeout((function(){e.addClass("in");(0,i.track)("ui",{element_id:"autorenewcancel_show_tooltip"})}),1e3);var t=function t(){e.one("transitionend",e.remove);e.removeClass("in")};e.on("click",(function(e){return e.stopPropagation()}));e.find(".btn-close").one("click",t);o.$body.on("click",t)}},205:function(e,t,n){"use strict";var a=n(574);var r=p(n(0));var i=p(n(2));var o=n(36);var s=n(1);var l=f(n(27));var u=n(11);var c=p(n(83));var d=n(71);function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function p(e){return e&&e.__esModule?e:{default:e}}var v={};var h={};var m=null;var g=null;var y=null;var _=function e(t){if(t.interactive){t.validationError=false;t.alreadyTriedThisAnswer=false;return t}if(t.answer.indexOf("+")===0){t.answer=t.answer.substring(1)}if(t.answer.length){t.answer=t.answer.replace(/^0+/,"");if(t.answer===""){t.answer="0"}}var n=parseFloat(t.answer),a=t.answer.replace(/[\d-Ee\.]/g,"");if(isNaN(n)||a.length>0){t.validationError=true}else{if(t.answer.match(/[\.Ee]/)!==null&&!t.isFloat){t.validationError=true}else{t.validationError=false}}t.alreadyTriedThisAnswer=t.answersList.indexOf(t.answer.toString())>=0;return t};var b=function e(t){if(t.interactive){t.answerIsCorrect=(0,r.default)("[name=mark_correct]").prop("checked")}else{var n=g.update(t.answer+t.salt).digest("hex");t.answerIsCorrect=n==t.hash;if(!t.answerIsCorrect){t.answersList.unshift(t.answer);t.preventUpdate=t.isFloat}t.triesLeft--;t.attemptNumber++}return t};var w=function e(t){t=t||{};t.answer=t.answer.trim();t.preventUpdate=false;if(!t.hasMultipleOptions){t=_(t)}if(!t.validationError&&!t.alreadyTriedThisAnswer){t=b(t)}t.canStillAnswer=t.triesLeft>0&&!t.answerIsCorrect;t.isMobile=s.isMobile;t.b2=s.isBrilliantPremium;t.answersListWithAnd=function(){var e=t.answersList,n=t.answersList.length;if(n===1){e=e[0]}else if(n===2){e=e.join(" and ")}else{e[n-1]="and "+e[n-1];e=e.join(",")}return e};return t};v.processAttemptData=w;var k=function e(t,n){if(!n.canStillAnswer){var a="endstate "+(n.answerIsCorrect?"correct":"incorrect");if(n.isPracticeSection){if(s.isIos&&s.appVersion.isGreaterThanOrEqualTo("0.9.1")){if(n.answerIsCorrect){window.location="answercorrect://"}else{window.location="answerincorrect://"}}else if(s.isAndroid){try{Android.onPracticeSolvableAnswered(n.answerIsCorrect)}catch(e){}}}t.addClass(a)}var i=t.parents(".solv-main");if(n.hasMultipleOptions&&n.$choices){t.find(".btn-mcq").each((function(e){var t=(0,r.default)(n.$choices[e]);var a=(0,r.default)(this);var i=a.find(".choice-text");var o=i.length?i:a;t.find("input").remove();o.html(t.html())}))}(0,r.default)(".btn-solution").not(".solution-btn-b2").addClass("disabled dim").attr("disabled","disabled");(0,s.jqOffOn)(t.find(".btn.disabled"),"click",(function(e){e.preventDefault()}));(0,d.practiceAnon)(i);(0,u.initGenericControllers)(t);l.updateMathjax(t);if(n.problemType=="single_select"){t.find(".btn-mcq").each((function(){var e=(0,r.default)(this),t=e.data("choice");if(n.answer===t){e.addClass(n.answerIsCorrect?"correct":"incorrect")}}))}if(n.isPracticeSection||n.isProblemOfTheDay){var o=i.parents(".prac-preload-wrapper");if(o.length){c.default.practice(o,{reloaded:true,instantResponse:true})}}};v.init=function(e){var t=e.data();var n=h[t.solvable]||{};var o=e.parents(".solv-details,.solv-details-loggedout");var l=["#mcq-form","#text_answer_entry_form","#solv-interactive-form",".solv-form-logged-out"];var u=o.find(l.join(","));g=(0,a.createHash)("sha1");t.answersList=t.answersList?t.answersList.toString():"";try{t.answersList=t.answersList.length?t.answersList.split(/,/g):[]}catch(e){t.answersList=[]}t.answersList=t.answersList.filter((function(e){return e.length>0}));t.answerIsCorrect=false;t.$choices=t.hasMultipleOptions&&u.find("svg").length?u.find(".btn-mcq"):null;t.b2=s.isBrilliantPremium;if(y===null||y>=t.numFreeSolutionsRemaining){y=t.numFreeSolutionsRemaining}else{t.numFreeSolutionsRemaining=y}if(t.exportOnly){v.data=t;n.data=t;h[t.solvable]=n;return}n.template=n.template||null;if(n.template===null){n.template=i.default.template(e.text())}n.data=t;h[t.solvable]=n;u.on("submit",(function(e){e.preventDefault();i.default.defer((function(){if(u.data("no_instant_response")){return}m=t.solvable;t.viewedSolution=u.data("viewed-solution");if(t.viewedSolution){t.answer=null}else if(t.problemType==="single_select"){t.answer=u.find("input[type=radio]:checked").val()}else if(t.problemType==="multi_select"){var e=[];u.find("input[type=checkbox]").each((function(t){var n=(0,r.default)(this);if(n.is(":checked")){e.push(t+1)}}));t.answer=e.join("|")}else{t.answer=u.find("#id_answer,.logged-out-answer").val()}if(t.answer||t.interactive){t.answer=t.answer||"";t.answer=t.answer.replace(/__replace_plus__/g,"+");t=w(t)}else{t.canStillAnswer=false}var a=o.parents(".solv-main");a.data("ir-verification",{canStillAnswer:t.canStillAnswer,answerIsCorrect:t.answerIsCorrect,attemptNumber:t.attemptNumber,triesLeft:t.triesLeft,answer:t.answer,preventUpdate:t.preventUpdate});if(!t.preventUpdate){n.$originalSidebar=o.clone();n.$solvable=a;i.default.defer((function(){var e=t;if(t.isMobile&&t.hasMultipleOptions&&!t.answer){i.default.extend(e,{canStillAnswer:true})}o.html(n.template(e));k(o,t);a.trigger(r.default.Event("instantresponse.updated",t));s.$window.trigger(r.default.Event("instantresponse.updated",t))}))}n.data=t;h[t.solvable]=n}))}))};v.timeout=function(){var e=h[m],t=e.$originalSidebar||null;if(t!==null){var n=e.$solvable.find(".solv-details");n.replaceWith(t);t.find(".spinner").removeClass("active");t.find(":disabled,.dim").removeClass("dim disabled").removeAttr("disabled");i.default.defer((function(){(0,u.initGenericControllers)(t);(0,o.initAutosubmit)(t)}))}};e.exports=v},221:function(e,t,n){"use strict";var a=s(n(0));var r=s(n(2));var i=n(1);var o=n(7);n(351);function s(e){return e&&e.__esModule?e:{default:e}}var l={};l.onload=function(){var e=(0,i.jqGetElemById)("signin");var t=(0,i.jqGetElemById)("signup");var n=(0,a.default)("#signup-form, #signup_form");if(e.length===0||t.length===0||n.length===0){return}var r=window.location.hash||false;if(r){var s=(0,a.default)("input[name=next]");s.each((function(){var e=(0,a.default)(this);e.val(e.val()+r)}))}var l=function e(t){if(!i.isMobile){t.find("input").filter("[type=email], [type=password], [type=text]").first().focus()}};(0,a.default)(".goto-signup").on("click",(function(n){n.preventDefault();e.fadeOut(100,(function(){t.fadeIn(100);l(t)}))}));(0,a.default)(".goto-signin").on("click",(function(n){n.preventDefault();t.fadeOut(100,(function(){e.fadeIn(100);l(e)}))}));(0,a.default)(".goto-signup-form").on("click",(function(e){e.preventDefault();t.fadeOut(100,(function(){n.fadeIn(100);l(n)}))}));(0,a.default)(".goto-signup-main").on("click",(function(e){e.preventDefault();n.fadeOut(100,(function(){t.fadeIn(100);l(t)}))}));if(e.is(":visible")){l(e)}if((0,a.default)(".validation-error").length>0){(0,o.track)("ui",{action:"click",element_type:"form",element_id:"v4_signup_validation_error"})}if(n.length>0&&!n.hasClass(".fb")){var u=(0,a.default)(this).find("input[type=text], select"),c=(0,a.default)(this).find("#id_birthday_month, #id_birthday_day, #id_birthday_year");u.on("blur.validation",(function(e){var t=a.default.trim((0,a.default)(this).val()),n=(0,a.default)(this).parents(".control-group"),r=(0,a.default)(this).parents(".outer-field").find(".validation-error-msg");if(t===""){if(!n.hasClass("error")){n.addClass("error validation-error");r.show()}}else{if(n.hasClass("validation-error")){n.removeClass("error validation-error");r.hide()}}}));c.off("blur.validation");c.on("blur.bday_validation",(function(e){var t=(0,a.default)(this).parents(".control-group"),n=(0,a.default)(this).parents(".outer-field").find(".validation-error-msg");if(parseInt((0,a.default)(this).val(),10)===0){if(!t.hasClass("validation-error")){t.addClass("error validation-error");n.show()}}else{if(t.hasClass("validation-error")){c.each((function(e,r){if(parseInt((0,a.default)(this).val(),10)===0){return false}else{if(e===c.length-1&&t.hasClass("validation-error")){t.removeClass("error validation-error");n.hide()}}}))}}}))}};l.googleAuth=function(){var e="googleapis.ready",t;var n=function e(){window.location.href="/account/google/login/callback/"};var o=function e(a){if(!a.success){n()}else if(a.data&&a.data.redirect){if(a.data.redirect=="social-signup"){window.location=t.signupUrl}else if(a.data.redirect=="nux"){window.location=t.nuxUrl}else{window.location="/"}}else{n()}};var s=function(){var e=false;return function(i){if(e){return}e=true;if(i["access_token"]){a.default.post(t.loginUrl,{access_token:i["access_token"]}).then(o).always((function(){e=false}))}else{if(i["error"]&&["immediate_failed","access_denied"].indexOf(i["error"])===-1){n()}r.default.defer((function(){e=false}))}}}();var l=function e(){gapi.auth.signIn({callback:s,clientid:t.clientId,cookiepolicy:"single_host_origin",scope:"profile email",apppackagename:"org.brilliant.android"})};r.default.defer((function(){if(window.googleApisLoaded){i.$body.trigger(a.default.Event(e))}else{window.onGoogleApisLoaded=function(){window.googleApisLoaded=true;i.$body.trigger(a.default.Event(e))}}}));return function(n){t=n.data();n.on("click",(function(){if(window.googleApisLoaded){l()}else{i.$body.on(e,l)}}))}}();l.loginBtnFallback=function(e){if(e[0].form===null){e.one("click",(function(){(0,i.jqGetElemById)(e.attr("form")).submit()}))}};e.exports=l},222:function(e,t,n){"use strict";var a=f(n(0));var r=f(n(2));var i=n(1);var o=d(n(27));var s=f(n(223));var l=n(6);var u=d(n(9));var c=f(n(54));n(353);n(224);function d(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}var p=i.isMobile?5:15;var v={};var h=window.vkey||{};var m=function e(){(0,a.default)(".nf-feed-subscription").each((function(){var e=(0,a.default)(this);if(e.children().length===0){e.remove()}}))};v.instantBtn=function(e){e.on("click",(function(t){if(e.hasClass("loading")||e.hasClass("disabled")||e.data("action")==="ignore"||e.parents(".dropdown-menu").length>0){return}t.preventDefault();var n=e.parents("form");var a=n.data()||{};var i=e.hasClass("active");var o=a.count||0;o=i?o-1:o+1;n.data("count",o);e.html(a.tmpl.replace(/\[count]/g,o));e.toggleClass("zero",o===0);e.toggleClass("active");e.addClass("loading");r.default.defer((function(){n.submit()}))}))};v.followBtn=function(e){e.on("click",(function(t){t.preventDefault();var n=e.parents("form");var a=n.find("[type=submit]");var i=n.find("[name=subscribed]");var o=a.data();var s=i.val();var l=a.html().trim();var u=o.toggleClass||"btn-accent";var c=a.hasClass("btn-toggle");r.default.defer((function(){a.html(o.altText);a.data("alt-text",l);a.trigger("blur").toggleClass(u).toggleClass("btn-subscribed",s==="yes")}));r.default.delay((function(){n.submit()}),c?200:10)}))};var g={topic:"sub_topic",sub_topic:"chapter",chapter:"recommended_concept_quiz"};var y={};var _=function e(t,n,i,o){o=o||r.default.noop;var s=n+"-"+i;if(t!==undefined&&y["load_action_"+t]!==s){y["load_action_"+t]=s;var l={next_category_type:t,current_selected_category_id:n,previous_selected_category_id:i};var u={url:"/assessment/get_categorization_options/",type:"POST",data:JSON.stringify(l),headers:{"Content-type":"application/json"}};a.default.ajax(u).done((function(e){y[t]=e;o()}))}else{o()}};var b=function e(t,n){var i=r.default.template((0,a.default)("#custom_select_options_tmpl").text()),o=i({options:n}),s=t.find("ul.dropdown-menu"),u=r.default.template((0,a.default)("#html_select_options_tmpl").text()),c=u({options:n}),d=t.find("select"),f=d.val(),p=t.find(".dropdown-menu a").find("span").first();p.html("...");s.html(o);d.html(c);(0,l.CustomSelectbox)(t);if(f){setTimeout((function(){s.find('[data-opt-value="'+f+'"]').click()}),50)}};var w=function e(t,n,a,o){o=o||r.default.noop;if(y[n]===undefined||y[n][a]===undefined){o(false);return}_(g[n],"",a,(function(){var e=y[n][a],r=t.find("select"),s=t.find("div.dropdown");b(t,e);(0,i.jqOffOn)(r,"change",(function(){k(s,n,r.val())}));o(true)}))};var k=function e(t,n,r){var i=t.parent("div.field"),o=g[n],s=i.parent().find("div.field-"+o);if(r&&s.length>0){w(s,o,r,(function(e){if(e){if(s.data("is-reloading")===true){s.data("is-reloading",false)}else{i.slideUp();s.find("a.back_link").show();s.slideDown(400,(function(){(0,a.default)(this).css("overflow","visible")}))}}}))}};v.CategorizationNavBack=function(){var e,t;function n(e){var t=e.parents("div.field");var n=t.prev();e.on("click",(function(){t.slideUp();n.slideDown(400,(function(){(0,a.default)(this).css("overflow","visible")}))}))}return n}();v.TopicSelector=function(){var e,t;function n(n){e=n.find("select");t=n.data();v.selectedTopic=null;var a=function a(){v.selectedTopic=parseInt(e.val(),10);if(t.filter_categories!==undefined){k(n,"topic",e.val())}};(0,i.jqOffOn)(e,"change",a);if(t.filter_categories!==undefined){_("sub_topic","","",a)}}return n}();v.LevelSelector=function(){var e,t;function n(t){e=t.data("level-data");t.on("open",(function(){var n=e[v.selectedTopic]||0;t.find(".dropdown-menu a").each((function(){var e=(0,a.default)(this),t=e.data("opt-value")||0;if(t>n){e.addClass("disabled")}else{e.removeClass("disabled")}}))}))}return n}();v.filterMenu=function(e){e.find(".trigger").on("click",(function(){e.toggleClass("filtering")}))};var C=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:i.$body;var n=t.is(".nf-feed-item")?t:t.find(".nf-feed-item");n.each((function(){var e=(0,a.default)(this);e.find(".staff-tools-toggle").on("click",(function(t){t.preventDefault();t.stopPropagation();e.find(".staff-tools").toggle()}));e.find(".mini-profile").on("click",(function(e){e.preventDefault();e.stopPropagation();var t=(0,a.default)(this).data("url");if(t)window.location.href=t}))}))};v.datepicker=function(e){var t=false;var n=0;var a={maxViewMode:n,minViewMode:"days",startView:n,clearBtn:window.location.search.search(/[\?|&]before_date=/)>=0,templates:{leftArrow:'<span class="arrow left"></span>',rightArrow:'<span class="arrow right"></span>'}};var i=function t(n){var a=u.getParamsObject();if(n!==null){a.before_date=n.getTime()/1e3}else if(a.before_date){delete a.before_date}e.siblings(".dropdown-toggle").dropdown("toggle");window.location=u.appendGetParams(window.location.pathname,a)};e.datepicker(r.default.extend({},a,e.data()));e.on("changeDate",(function(e){if(!t){i(e.date)}}));e.find(".clear").on("click",(function(e){t=true;i(null)}))};v.portalFeed=function(e){var t=e.find("select");t.on("change",(function(){e.addClass("loading");if(window.location.pathname==="/community/home/"){(0,a.default)(this.form).submit()}else{var t={};e.find("select").each((function(){t[this.name]=this.value}));var n=r.default.template(e.data("url-format"))(t);if(window.history){(0,a.default)(this.form).submit();window.history.replaceState({},"",n)}else{window.location.href=n}}}));e.find(".feed-section-choice").on("click",(function(){var e=(0,a.default)(this).data();(0,a.default)(e.field).val(e.choice).trigger(a.default.Event("change"))}));var n=".portal-feed-filters";e.find(n+" > button").on("click",(function(){(0,a.default)(this).parents(n).toggleClass("open")}))};v.problemsFeedPreviews=function(){var e=false;var t=false;var n;var r;var s;var l;var u;var c;var d={};var f=300;var p=".problem-preview-tooltip";return function(v){n=i.$body.children(p);if(!n.length){var h=(0,a.default)(p);if(!h.length){return}n=h.first();n.appendTo(i.$body);h.not(n).remove()}r=n.find(".content");s=n.find(".dropdown-menu");l=s.outerHeight(true)-r.outerHeight()+parseInt(r.css("max-height"));var m=function a(){c=setTimeout((function(){if(!t){n.css("left",-99999);e=false}}),f)};v.find(".modal-feed-item").each((function(){var t=(0,a.default)(this);var p=t.data("solvable-id");var v=t.data("preview-url");var h=function t(a){if(e&&n.data("solvable-id")===p){r.html(a);o.updateMathjax(r);o.checkOverflow(r);y()}};var g=function e(){a.default.get(v).always((function(){n.removeClass("loading")})).then((function(e){d[p]=e;h(e)})).fail((function(){h("Sorry! Something went wrong.")}))};var y=function e(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var o=t.offset().top+t.outerHeight()/2;var u=a.useActualHeight?s.outerHeight(true):l;var c=i.$window.scrollTop();var d=c+i.$window.height();var f=o-u;var p=o+u;var v="bottom";if(p>d){if(f>c||f<c&&p-d>c-f){v="top"}}n.toggleClass("dropdown",v==="bottom");n.toggleClass("dropup",v==="top");n.css({left:t.offset().left,top:o});n.toggleClass("overflowing",r[0].scrollHeight>r[0].clientHeight)};t.on("mouseenter",(function(){clearTimeout(c);u=setTimeout((function(){var t=p in d;n.toggleClass("loading",!t);r.html(t?d[p]:"");o.updateMathjax(r);o.checkOverflow(r);y({useActualHeight:t});e=true;n.data("solvable-id",p);if(!t){g()}}),f-20)})).on("mouseleave",(function(){clearTimeout(u);m()}))}));(0,i.jqOffOn)(n,"mouseenter.problemPreview",(function(){t=true}));(0,i.jqOffOn)(n,"mouseleave.problemPreview",(function(){t=false;m()}))}}();v.portalFeedSwitcher=function(e){var t=e.find("#switcher-btns .btn");var n="active";var o=(0,a.default)(".modal-feed-item.feed-section-row");var s=o.outerHeight()-parseInt(o.css("padding-top"),10)*2;var l=function e(t){t.find(".latexprocessor-inline,.latexprocessor-block,.MathJax").each((function(){var e=(0,a.default)(this).parents(".td");var t=e.height();if(t>s){e.css({transform:"scale("+s/t+")",transformOrigin:"0 0"})}}))};t.on("click",(function(r){r.preventDefault();var o=(0,a.default)(this);if(!o.hasClass(n)){t.removeClass(n);o.addClass(n);e.find(".feed-section").removeClass(n);var s=e.find(o.data("target"));s.addClass(n);if(!i.isMobile){l(s)}}}));if(!i.isMobile){r.default.defer((function(){l((0,a.default)(".feed-section:visible"))}))}};v.feed=function(e){s.default.init();if(e.attr("id")!=="wiki-main"){s.default.autopagination()}c.default.feeditem_modal();m();o.scaleSVG((0,a.default)(".latexprocessor-block"));C()};var x=function e(t,n){var r=h.handle(t,n);(0,a.default)(".nf-next-container.loading").removeClass("loading").addClass("loaded");o.updateMathjax(r);c.default.feeditem_modal(r);s.default.reset_autopagination_point();s.default.needs_additional_pagination(r);o.scaleSVG((0,a.default)(".latexprocessor-block"));o.checkOverflow(r);i.$window.trigger("scroll");if(c.default.open_modal_is_set){c.default.preloadFirstItem($newsfeed_modal_set_content)}C(r)};h.newsfeed_newsfeed_container=x;h.newsfeed_firehose_container=x;h.newsfeed_explore_container=x;h.newsfeed_feed_container=x;h.profile_newsfeed_favorites_container=x;h.problems_started_problems_container=x;h.newsfeed_generic_tag_container=x;h.profile_newsfeed_favorites=x;h.newsfeed_generic_tag=x;h.wiki_community_posts_container=x;h.topic_feed_container=x;h.topic_feed_page=x;h.problems_feed_container=x;h.discussions_feed_container=x;h.home_activity_container=x;h.community_problems_container=x;h.community_discussions_container=x;h.community_wikis_featured_container=x;h.groups_newsfeed_container=x;h.daily_problems_container=x;h.daily_problems_archives_container=x;h.community_portal_lttr_listing_container=x;h.community_portal_featured_users_listing_container=x;h.profile_forlater_container=x;h.daily_problems_archives=function(e,t){x(e,t);s.default.autopagination(true);i.$window.trigger("scroll")};h.community_portal_problems=h.community_portal_need_solution=h.community_portal_discussions=h.community_portal_problems_container=h.community_portal_need_solution_container=h.community_portal_discussions_container=function(e,t){x(e,t);if(i.$body.hasClass("portal-page")){var n=(0,a.default)(".cmp_"+t+"_id").parents(".feed-section");var r=n.find(".nf-feed-item-wrapper");if(r.length>p){r.slice(p).remove();return}}s.default.autopagination(true);i.$window.trigger("scroll")};var E=function e(t,n){var r=h.handle(t,n);o.updateMathjax(r);c.default.feeditem_modal(r);o.scaleSVG((0,a.default)(".latexprocessor-block"));C(r.parent())};h.newsfeed_feeditem_challengerecommendation=E;h.problems_started_solvable_component=E;h.groups_feeditem_discussionpost=E;h.groups_feeditem_newsfeedproblemset=E;h.newsfeed_mark_reshare=function(e,t){var n=h.handle(e,t),r=n.parents(".cmp_reshare").first(),i=r.data("reshare-key");if(i){(0,a.default)('.cmp_reshare[data-reshare-key="'+i+'"]').not(r).find("> div").each((function(){(0,a.default)(this).html(e["new_html"])}))}};e.exports=v},223:function(e,t,n){"use strict";var a=s(n(0));var r=s(n(2));var i=s(n(13));var o=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var l={};var u;l.paginate_triggered_ts=u;var c=function e(t){o.$body.on("click",".newsfeed_".concat(t,"_paginate"),(function(e){e.preventDefault();e.stopPropagation();var n=(0,a.default)(this),r=n.parents(".nf-next-container"),o=r.siblings(".next_container_stub"),s=o.children().first(),l=o.data("page-key"),c,f;if(typeof s==="undefined"||s.length==0||o.hasClass("loaded")){return}c=s.attr("class").slice(4,-3);f=n.data().next_url;r.addClass("loading");var p=l+"_container";if(t==="skill"){p="wiki_community_posts_container";l="wiki_canonical_page"}o.addClass("loaded");var v=new i.default(p);v.error=function(e){if(e.statusText==="timeout"){r.removeClass("loading");o.removeClass("loaded")}else{r.hide();s.hide()}};u=(new Date).getTime();if(!d){w(true)}var h={page_key:l,param_key:c};var m=n.parents(".nf-feed-wrapper"),g=m.data("feed-type")||null,y=m.data("filter_content_type")||"",_=m.data("popular")||"",b=m.data("reviewed_state")||"",k=m.data("user_to_display_id")||null;if(m.length){if(g==="normal"){h.show_all_content=true}h.filter_content_type=y;if(_!==""){h.popular=_}h.reviewed_state=b;if(k){h.user_to_display_id=k}}v.get(f,h)}))};l.paginate=c;l.init=function(){(0,a.default)(".feed").not(".inited").each((function(){var e=(0,a.default)(this);var t=e.attr("id");var n=t.replace(/^newsfeed_/,"").replace(/_wrapper$/,"");c(n);e.addClass("inited")}))};l.is_autopaginating=false;var d=false,f,p=10,v,h,m;var g=function e(){h=(0,a.default)(".nf-next-container:not(.loaded):visible:last");l.is_autopaginating=false;if(h.length>0&&f<p){v=h.offset().top-500}else{d=false;o.$window.off("scroll.nfpage")}};l.reset_autopagination_point=g;var y;var _=function e(t){var n=t.find(".nf-feed-item:visible:not(.nf-next-empty)").length,a=4,r=5;if(d){if(n>0&&n<a){if(y<r){y++;b(false)}}else{y=0}}};l.needs_additional_pagination=_;var b=function e(t){t=t===false?false:true;if(!l.is_autopaginating){l.is_autopaginating=true;h.find("a").click();if(t){f++}}};var w=function e(t){t=t||false;m=o.$window.height();f=0;y=0;g();if(h.length>0){d=true;(0,o.jqOffOn)(o.$window,"scroll.nfpage",r.default.debounce((function(){if(o.$window.scrollTop()+m>=v){b()}}),100));if(!t){b()}}};l.autopagination=w;e.exports=l},224:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.handler=o;var a=n(1);var r=i(n(54));function i(e){return e&&e.__esModule?e:{default:e}}function o(){var e=(0,a.getRelativeUrl)();a.$window.on("popstate",(function(t){if(r.default.popstateHandlerHook()){e=(0,a.getRelativeUrl)();return}var n=(0,a.getRelativeUrl)();if(n!==e){if(t.state&&t.state.modalContent){var i=(0,a.jqGetElemById)("nf-feeditem-modal");var o=i.length>0&&i.is(":visible")?i:a.$body;var s=o.find('.modal-link[href="'.concat(n,'"]'));if(s.length>0){r.default.urlStack.push(e);e=n;s.trigger("click");return}}e=n;window.location.href=window.location.href}}))}},225:function(e,t,n){"use strict";var a=u(n(0));var r=u(n(13));var i=l(n(45));var o=n(1);var s=l(n(27));function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function u(e){return e&&e.__esModule?e:{default:e}}var c={};var d=null;var f=0;var p=document.title;var v=function e(t){document.title=(t?"("+t+") ":"")+p};function h(e){if(d!==null&&e!==f){d.text((0,o.commaFormat)(e));if(f===0){d.removeClass("hide")}else if(e===0){d.addClass("hide")}if(f<e){d.parents("#header").removeClass("short");d.addClass("wiggle-more")}v(e);f=e}}c.dropdownHandler=function(e){var t=e.find(".cmp-deferred"),n=t.parent(),a=t.clone(),r=false;e.on("open",(function(){if(r){n.html(t);i.load(a)}else{i.load(t);r=true}if(d.length){d.removeClass("wiggle-more")}}));e.find(".dropdown-menu").on("click",(function(e){e.stopPropagation()}))};c.toggleDismissed=function(e){e.on("click",(function(t){t.preventDefault();var n=e.data();e.addClass("dim");(0,r.default)(n.pageKey).get(e.attr("href"),{component_key:n.componentKey})}))};c.unreadCount=function(e){d=e;f=parseInt(d.text().replace(/,/g,""),10);v(f);var t=d.data(),n=0,r=function e(t){return 100*Math.pow(t,2)+500*t+5e3};var i=function e(){var i;a.default.get(t.url).then((function(e){if("num_notifications"in e){h(e.num_notifications)}else if("logged_out"in e){clearTimeout(i)}}));i=setTimeout(e,r(n));n++};i()};c.updateCount=function(e){h(e.data("notif-count"));(0,a.default)(".dropdown.hdr-settings").trigger("update")};window.vkey=window.vkey||{};window.vkey.notifications_page=function(e,t){e.new_html=e.new_html.replace(/&amp;(.*?);/g,"&$1;");var n=window.vkey.handle(e,t);s.updateMathjax(n)};e.exports=c},226:function(e,t,n){"use strict";var a=f(n(0));var r=f(n(2));var i=d(n(710));var o=n(1);var s=f(n(30));var l=n(7);var u=n(8);var c=n(11);function d(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return m(e)||h(e,t)||v()}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function h(e,t){var n=[];var a=true;var r=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(r)throw i}}return n}function m(e){if(Array.isArray(e))return e}var g={};var y=null;var _=0;var b;var w;var k;var C="nx-slide-";var x="nx-target-active";function E(e,t,n){var a=["top","bottom"];var i=e.data("reposition");if(i){r.default.defer((function(){var r=i.split("-");var s=r[0];var l=r[1];if(a.indexOf(s)<0||a.indexOf(l)<0){return}var u=t.offset().top+(s==="bottom"?t.outerHeight():0)-(l==="bottom"?e.outerHeight():0);var c=e.offset().top-e.position().top;e.css({top:u-c+parseInt(e.css("margin-top"),10)});if(n){e.show()}if((0,o.jqGetElemById)("prac-topic-header").length){var d=t.offset().top-(0,o.jqGetElemById)("header").outerHeight()-28;(0,o.setScrollPosition)(d,{animate:true})}}))}}function I(e){var t=e.data("target")||null;if(t){var n=(0,a.default)(t);r.default.defer((function(){n.addClass(x);E(e,n)}))}}function T(e){r.default.defer((function(){(0,a.default)(".".concat(x)).off("click.lock").removeClass(x);if(e.length>0){e.find(".nx-modal").each((function(t,n){var r=(0,a.default)(n);var i=e.data("reposition-handler");if(i){(0,c.executeFunctionByName)(i,r)}else{I(r)}}));r.default.defer((function(){e.addClass("in")}))}else{o.$body.trigger("nuxClose");y.hide()}}))}var O=function e(t,n){var i=_;_=t;r.default.defer((function(){y.removeClass(C+i).addClass(C+_);var e=y.find(".slide-".concat(_));var t=e.data("on-visible")||null;T(e);if(t){(0,c.executeFunctionByName)(t,e)}y.trigger(a.default.Event("nux.slidechange"));if(e.length>0){var r={action:"viewed_".concat(k,"_popup"),step_position:_,is_first_step:_===b,is_last_step:_===w};if(n){r.triggered_by=n}(0,l.track)("ui",r)}}))};g.tour=function(e){y=e;var t=y.find(".slide");b=parseInt(t.first().prop("class").match(/slide-(\d+)/)[1],10);w=b+t.length-1;k=e.data("axContext");var n=y.prop("class").match(/nx-slide-(\d+)/)[1];_=parseInt(n,10);O(_);y.on("click",".nx-next",(function(){O(_+1,u.INTERACTION_TYPES.CONTINUE_BUTTON)}));r.default.defer((function(){if(window.history.replaceState){window.history.replaceState({},"",window.location.href.replace(/tour=true&?/,"").replace(/[&?]$/,""))}}))};g.overlay=function(e){e.on("click",(function(){s.default.update(e.data("flag"),true);r.default.defer((function(){e.hide()}))}))};g.banner=function(e){s.default.update(e.data("flag"),true)};g.problemsOfTheDay=function(e){s.default.update(e.data("flag"),true)};g.potdHighlight=function(e){var t=e.find(".nx-modal");setTimeout((function(){var e=t.offset();var n=o.$window.height();if(e.top>n){var a=o.$html.add(o.$body);var r=8;(0,o.setScrollPosition)(e.top-n+t.height()+r,{$container:a,animate:true});y.on("nux.slidechange",(function(){(0,o.setScrollPosition)(0,{$container:a,animate:true})}))}}),500)};g.welcomePage=function(e){var t=e.data(),n=t.enableNuxSegmentation,i=t.surveyStep,s=t.isLastSurveyStep;var c=e.find(".nux-welcome-slide");var d=e.find(".category-link");var f=e.find(".category-item");var v=e.find(".nux-welcome-slide").length;var h=e.find(".continue:first").attr("href");var m=function e(){if(window.location.search.indexOf("step=")>=0){return parseInt(window.location.search.match(/[?&]step=(\d)/)[1],10)}return 1};var g=m();var y=r.default.noop;var _=function e(t){var a=g===v;var r=a&&i>=0;var o={action:"viewed_nux_slide",is_first_step:g===1};if(n){o.step_position=r?g+i-1:g;o.is_last_step=r?s:a}else{o.step_position=g;o.is_last_step=a}if(t){o.triggered_by=t}(0,l.track)("ui",o)};var b=function e(t,n,a){c.removeClass(u.CLASS_NAME_ACTIVE);c.filter(".nux-welcome-slide-".concat(t)).addClass(u.CLASS_NAME_ACTIVE);if(a!==u.INTERACTION_TYPES.PREV_NEXT_BUTTON){try{window.history.pushState({},null,n)}catch(e){}}_(a);y(t)};e.find(".btn-back").on("click",(function(t){var n=e.find(".prev-category");if(o.isMobile){var r=(0,a.default)(t.currentTarget).data(),i=r.categoryId;n.val(i)}n.prop("checked",true)}));e.find(".continue").on("click",(function(e){e.preventDefault();g++;var t=e.currentTarget.href.replace("step=".concat(g-1),"step=".concat(g));b(g,t,u.INTERACTION_TYPES.CONTINUE_BUTTON)}));c.each((function(e,t){(0,a.default)(t).find(".markers span").each((function(t,n){if(t<e){(0,a.default)(n).addClass("clickable").on("click",(function(){g=t+1;var e=h.replace(/step=\d/,"step=".concat(g));b(g,e,u.INTERACTION_TYPES.STATUS_DOT)}))}}))}));var w=e.find('.btn[type="submit"]');d.on("click.selectCategory",(function(){w.prop("disabled","");if(!o.isMobile){e.find(".content").removeClass("unselected-category")}d.off("click.selectCategory")}));d.on("click",(function(e){var t=(0,a.default)(e.currentTarget);if(!t.hasClass(u.CLASS_NAME_ACTIVE)){var r=t.data();d.removeClass(u.CLASS_NAME_ACTIVE);t.addClass(u.CLASS_NAME_ACTIVE);t.find("input").prop("checked",true);f.removeClass(u.CLASS_NAME_ACTIVE);f.filter(r.target).addClass(u.CLASS_NAME_ACTIVE);var i={action:"click",element_id:"clicked_nux_category_option",element_type:"button"};if(n){i.user_category=r.axUserCategory;i.nux_school_level_category=r.axLevelCategory;i.nux_use_case_category=r.axUseCaseCategory}else{i.user_category=r.category}(0,l.track)("ui",i)}}));f.find(".img").each((function(e,t){var n=window.getComputedStyle(t).backgroundImage;if(n){var a=new Image;var r=n.match(/url\(['"]?(.*?)['"]?\)/);var i=p(r,2);a.src=i[1]}}));r.default.defer(_);window.onpopstate=function(){g=m();b(g,document.location,u.INTERACTION_TYPES.PREV_NEXT_BUTTON)};if(o.isMobile){var k=".nux-segmentation-form-footer";var C=(0,a.default)(".nux-welcome-form form");var x=C.find(k);o.$body.children(k).remove();x.appendTo(o.$body);w.on("click",(function(e){e.preventDefault();C.trigger("submit")}));C.on("submit",(function(){w.prop("disabled",true)}));y=function e(t){x.toggleClass(u.CLASS_NAME_HIDE,t!==5)};y(g)}};g.earthAnimation=function(e){Promise.all([Promise.all([n.e(10),n.e(115)]).then(n.bind(null,723)),Promise.all([n.e(10),n.e(115)]).then(n.bind(null,371)),Promise.all([n.e(10),n.e(115)]).then(n.bind(null,373))]).then((function(t){var n=p(t,3),a=n[0],r=a.geoPath,o=a.geoOrthographic,s=n[1].scaleLinear,l=n[2].select;var u=e.width();var c=e.height();var d=200;var f=100*(u/d);var v=o().scale(f).translate([u/2,c/2]).clipAngle(90);var h=r().projection(v);var m=s().domain([0,u]).range([-180,180]);var g=l(e[0]).append("svg").attr("width",u).attr("height",c);var y={type:"Topology",transform:{scale:[.036003600360036005,.017366249624962502],translate:[-180,-90]},objects:{land:{type:"GeometryCollection",geometries:[{type:"Polygon",arcs:[[0]]},{type:"Polygon",arcs:[[1]]},{type:"Polygon",arcs:[[2]]},{type:"Polygon",arcs:[[3]]},{type:"Polygon",arcs:[[4]]},{type:"Polygon",arcs:[[5]]},{type:"Polygon",arcs:[[6]]},{type:"Polygon",arcs:[[7]]},{type:"Polygon",arcs:[[8,9]]},{type:"Polygon",arcs:[[10,-10]]},{type:"Polygon",arcs:[[11]]},{type:"Polygon",arcs:[[12]]},{type:"Polygon",arcs:[[13]]},{type:"Polygon",arcs:[[14]]},{type:"Polygon",arcs:[[15]]},{type:"Polygon",arcs:[[16]]},{type:"Polygon",arcs:[[17]]},{type:"Polygon",arcs:[[18]]},{type:"Polygon",arcs:[[19]]},{type:"Polygon",arcs:[[20]]},{type:"Polygon",arcs:[[21]]},{type:"Polygon",arcs:[[22]]},{type:"Polygon",arcs:[[23]]},{type:"Polygon",arcs:[[24]]},{type:"Polygon",arcs:[[25]]},{type:"Polygon",arcs:[[26]]},{type:"Polygon",arcs:[[27]]},{type:"Polygon",arcs:[[28]]},{type:"Polygon",arcs:[[29]]},{type:"Polygon",arcs:[[30]]},{type:"Polygon",arcs:[[31]]},{type:"Polygon",arcs:[[32]]},{type:"Polygon",arcs:[[33]]},{type:"Polygon",arcs:[[34]]},{type:"Polygon",arcs:[[35]]},{type:"Polygon",arcs:[[36]]},{type:"Polygon",arcs:[[37]]},{type:"Polygon",arcs:[[38]]},{type:"Polygon",arcs:[[39]]},{type:"Polygon",arcs:[[40]]},{type:"Polygon",arcs:[[41]]},{type:"Polygon",arcs:[[42]]},{type:"Polygon",arcs:[[43]]},{type:"Polygon",arcs:[[44]]},{type:"Polygon",arcs:[[45],[46]]},{type:"Polygon",arcs:[[47]]},{type:"Polygon",arcs:[[48]]},{type:"Polygon",arcs:[[49]]},{type:"Polygon",arcs:[[50]]},{type:"Polygon",arcs:[[51]]},{type:"Polygon",arcs:[[52]]},{type:"Polygon",arcs:[[53]]}],bbox:[-180,-90.00000000000003,180.00000000000014,83.64513000000002]}},arcs:[[[3345,574],[-16,-56],[-171,43],[187,13]],[[3745,688],[51,-114],[-264,-54],[116,168],[97,0]],[[3098,1097],[-9,-70],[-150,-12],[109,201],[50,-119]],[[0,304],[279,48],[330,-86],[265,-13],[157,60],[-297,50],[20,95],[-111,54],[172,-13],[108,81],[-238,50],[-45,101],[112,-11],[189,59],[50,54],[253,71],[431,-10],[160,44],[177,-85],[192,-7],[-84,155],[204,-58],[220,35],[338,-55],[203,55],[47,79],[-35,88],[21,161],[132,154],[24,-89],[-94,-80],[111,-202],[-13,-193],[-239,-126],[-185,-5],[82,-48],[-101,-48],[71,-108],[436,-122],[40,-48],[235,85],[194,-20],[396,100],[-32,62],[-165,-11],[-4,64],[191,96],[213,44],[162,104],[-2,55],[144,109],[279,-22],[271,94],[270,7],[92,-46],[262,59],[52,67],[133,-73],[365,203],[127,15],[167,-117],[181,5],[18,-101],[-44,-125],[85,-14],[79,128],[105,24],[143,129],[144,58],[74,-59],[252,-1],[87,97],[93,-79],[206,61],[202,-76],[40,37],[180,-12],[165,32],[75,-43],[224,2],[32,-56],[212,-38],[233,-126],[237,-55],[-54,-113],[-140,-104],[-21,-92],[98,-97],[-145,-24],[-55,-103],[75,-64],[298,-135],[140,-4],[-9951,-14]],[[3118,2082],[75,-49],[-86,-53],[-80,32],[66,140],[25,-70]],[[9038,2834],[80,-5],[-10,-135],[-52,-19],[-18,159]],[[9805,2826],[34,-49],[-136,-280],[-64,88],[166,241]],[[9849,3100],[109,-88],[-70,-207],[-61,102],[22,193]],[[0,4229],[9981,-14],[2,24],[-9983,18]],[[0,4257],[0,-28]],[[0,4257],[0,-28]],[[6390,4402],[11,-96],[-93,-560],[-85,-2],[-20,127],[31,378],[91,93],[41,147],[24,-87]],[[8987,4390],[28,-24],[50,-275],[180,-364],[7,-325],[-102,-395],[-87,-72],[-157,58],[-30,109],[-99,71],[-48,131],[-82,65],[-144,-42],[-69,-96],[-156,-68],[-84,50],[22,115],[-67,450],[21,152],[186,119],[60,189],[113,149],[36,-61],[111,216],[127,-71],[-42,-136],[106,-153],[45,0],[46,386],[29,-178]],[[8017,4792],[59,18],[106,-131],[-256,109],[91,4]],[[8725,5116],[37,-127],[80,95],[173,-124],[116,-302],[-23,-59],[-88,144],[-59,-98],[-110,116],[-21,111],[-118,107],[-87,149],[100,-12]],[[8478,5264],[-22,-57],[-118,-11],[83,-283],[-80,101],[3,-150],[-46,157],[59,237],[121,6]],[[7939,4845],[-90,94],[-111,348],[-89,182],[58,16],[177,-297],[63,-182],[-8,-161]],[[8274,5288],[-48,-337],[-165,63],[-31,142],[15,142],[93,63],[104,220],[68,-87],[-36,-206]],[[8510,5667],[-28,-163],[-49,130],[77,33]],[[8369,6248],[33,-81],[-21,-159],[-47,37],[35,203]],[[2984,6327],[118,-73],[-94,-32],[-24,105]],[[2786,6493],[153,-142],[-99,-25],[-54,167]],[[5431,7384],[-12,-93],[-74,57],[86,36]],[[8915,7321],[-20,-115],[-257,-72],[9,-141],[-53,107],[89,123],[85,5],[104,155],[24,172],[44,-116],[-25,-118]],[[8997,7726],[45,-52],[-66,-73],[-50,80],[17,124],[54,-79]],[[3440,8101],[74,-83],[-21,-86],[-140,-8],[87,177]],[[8989,8105],[-3,-226],[-40,-50],[14,449],[29,-173]],[[4811,8192],[-89,-26],[8,119],[112,39],[-31,-132]],[[4916,8559],[26,-157],[71,-172],[2,-124],[-176,-35],[41,60],[19,196],[-70,125],[87,107]],[[2634,8963],[57,-89],[-67,-61],[10,150]],[[4597,9009],[24,-76],[-140,-94],[-157,122],[273,48]],[[0,9154],[281,-172],[-111,-98],[-167,92],[-3,178]],[[0,9301],[9999,-40],[-35,16],[-9964,24]],[[2485,9184],[88,-132],[51,154],[118,-41],[-3,-118],[-122,-32],[-43,-103],[-162,-158],[-42,-177],[66,-107],[278,-112],[66,-227],[36,78],[-34,121],[92,108],[-55,131],[11,202],[119,7],[118,-79],[54,-165],[85,123],[77,-230],[124,-99],[46,-143],[-121,-109],[-177,-1],[-130,-196],[126,133],[58,-167],[129,-18],[-154,-137],[-44,73],[-88,-65],[4,-118],[-81,-24],[-79,-189],[0,-137],[-156,-237],[36,-263],[-31,-96],[-81,281],[-153,5],[5,-58],[-147,18],[-74,-121],[-14,-284],[96,-248],[101,66],[14,99],[90,31],[-53,-326],[161,-51],[-20,-209],[68,-149],[51,48],[76,-56],[38,114],[104,105],[9,-85],[265,-14],[-14,-45],[145,-229],[119,-32],[81,-251],[-21,-48],[298,-178],[132,-149],[3,-204],[-106,-276],[-23,-334],[-62,-194],[-74,-22],[-106,-146],[-11,-161],[-168,-361],[-99,30],[47,-142],[-68,-105],[-86,-6],[5,-107],[-82,-22],[46,-86],[-115,-216],[54,-54],[-97,-201],[28,-93],[-80,-85],[-109,90],[-20,323],[36,147],[33,402],[48,271],[38,635],[-8,175],[-157,213],[-150,571],[37,317],[82,177],[-55,296],[-25,-83],[-161,149],[-51,160],[-99,58],[-97,131],[-51,-31],[-193,152],[-62,123],[-8,135],[-173,356],[-25,127],[-43,-58],[147,-391],[-77,79],[-80,172],[-62,306],[-93,90],[-105,329],[14,300],[-18,164],[48,36],[-128,105],[-185,420],[-362,159],[-171,-116],[-175,-190],[-149,-57],[201,173],[-170,128],[-64,98],[149,189],[-116,-19],[-88,70],[101,52],[78,-26],[-126,159],[267,142],[120,-43],[241,-26],[197,-72],[232,91],[67,-58],[85,22],[244,-84],[11,-41],[204,64],[51,-45],[268,3],[-50,116],[35,106],[130,-140]],[[1829,9393],[86,-39],[157,13],[26,-97],[97,-55],[-40,-74],[-99,25],[-204,-37],[-169,174],[146,90]],[[2595,9395],[118,34],[44,-97],[81,40],[251,-128],[-1,-104],[194,-107],[-58,-108],[-78,80],[48,-214],[-105,62],[-3,-81],[-165,135],[61,150],[-176,166],[-65,-25],[-205,39],[-42,105],[101,53]],[[2212,9435],[83,-5],[-27,-143],[-115,71],[59,77]],[[2411,9373],[-36,78],[111,-16],[-75,-62]],[[1654,9294],[-152,27],[28,139],[204,-6],[57,-41],[-137,-119]],[[9029,9534],[-170,-55],[-40,77],[210,-22]],[[2264,9600],[9,-99],[-122,77],[113,22]],[[1994,9570],[53,-69],[-164,-33],[11,43],[-164,3],[64,72],[176,-58],[24,42]],[[6598,9255],[-165,43],[112,208],[154,67],[194,40],[0,-41],[-183,-56],[-171,-166],[59,-95]],[[2370,9622],[152,-86],[224,6],[-23,-73],[-291,23],[-62,130]],[[1772,9654],[-4,-45],[-181,-44],[185,89]],[[0,9154],[0,-230],[9963,-25],[19,-90],[-159,-76],[-93,-102],[-39,39],[-149,-40],[-40,-289],[-148,-221],[-37,251],[81,154],[147,178],[23,81],[-121,-115],[-23,71],[-141,-116],[-334,-42],[-196,-248],[172,-94],[-35,-268],[-144,-291],[-72,-6],[-132,-203],[53,-171],[-10,-98],[-72,-40],[-9,193],[-53,126],[-89,-60],[16,118],[-114,-127],[99,-120],[-54,-100],[77,-186],[5,-107],[-96,-304],[-77,-102],[-141,-79],[-63,18],[-80,-153],[90,-218],[9,-208],[-113,-176],[-2,76],[-138,200],[-27,-198],[118,-294],[4,-209],[-59,88],[-52,264],[-38,58],[17,178],[-45,316],[-82,-51],[3,125],[-80,262],[-124,-73],[-184,-322],[-13,-319],[-65,-138],[-111,462],[-25,309],[-60,-27],[-114,262],[-135,-20],[-189,80],[-89,80],[-39,131],[-59,-9],[106,-343],[62,5],[57,112],[104,-216],[-56,-187],[-253,-291],[-145,-79],[-23,238],[-97,261],[-2,74],[-110,315],[-66,37],[132,-581],[49,-155],[113,-203],[22,-112],[194,91],[-15,-163],[-111,-365],[-175,-313],[-41,-224],[47,-247],[8,-227],[-37,-116],[-129,-177],[7,-270],[-57,-51],[-22,-195],[-111,-232],[-67,-67],[-172,-51],[-122,445],[-26,287],[-73,313],[55,267],[-48,403],[-86,226],[28,241],[-36,98],[-73,-29],[-43,116],[-175,-90],[-154,-22],[-137,169],[-144,430],[32,81],[-14,331],[70,251],[136,212],[25,191],[76,145],[104,-34],[101,82],[224,43],[44,-233],[115,-60],[107,-115],[49,141],[224,-106],[148,20],[53,265],[-237,48],[-41,162],[86,101],[164,47],[89,-63],[86,98],[-133,150],[68,116],[-154,-81],[-78,42],[-86,-231],[32,-87],[-167,-34],[34,-130],[-66,-79],[-59,281],[-129,193],[-64,-57],[119,-210],[-40,-22],[-182,248],[-65,-71],[-95,-3],[-146,-369],[-90,-42],[-98,53],[-13,355],[39,42],[169,-19],[19,149],[-94,154],[83,-2],[151,171],[24,85],[114,53],[-7,178],[66,-179],[89,-14],[198,83],[58,230],[129,16],[2,59],[-144,-37],[-51,159],[121,144],[-89,35],[-121,-171],[26,-154],[-80,-229],[-82,-43],[-72,237],[-130,-51],[-19,195],[154,145],[117,191],[123,116],[250,79],[51,-58],[286,-130],[-53,-111],[-124,44],[28,-135],[266,134],[-30,105],[78,-18],[3,-92],[205,126],[141,2],[48,56],[240,-71],[-69,139],[90,115],[104,-266],[-67,-121],[105,83],[-54,213],[182,50],[24,76],[175,17],[10,68],[168,53],[209,23],[34,49],[253,-33],[78,-80],[-125,-66],[383,-70],[2,44],[148,-40],[75,-129],[27,60],[211,-20],[17,78],[251,-37],[96,-78],[168,1],[54,-82],[264,38],[226,-40],[-9960,-25]],[[6364,7560],[2,-213],[129,-36],[-26,225],[51,5],[-123,210],[76,38],[-52,103],[-125,-141],[68,-191]],[[7918,9692],[-157,-23],[51,76],[106,-53]],[[5506,9772],[-31,-167],[-164,119],[54,66],[141,-18]],[[5706,9813],[14,-52],[-163,3],[-75,43],[224,6]],[[7775,9725],[-184,31],[-59,53],[132,52],[118,-85],[-7,-51]],[[2583,9770],[-56,-80],[-107,4],[-107,104],[120,64],[150,-92]],[[3097,9968],[183,-43],[-258,-147],[-159,-28],[42,-46],[-143,-135],[-248,17],[122,165],[-180,147],[341,71],[300,-1]],[[4247,9992],[174,-46],[-308,-30],[243,-61],[206,44],[98,-36],[-153,-66],[-55,-80],[34,-101],[-25,-155],[-116,-57],[34,-183],[-150,-96],[-112,-20],[-67,-83],[-156,-70],[-84,-160],[-15,-149],[-136,44],[-94,159],[-64,205],[86,158],[-72,-37],[-66,137],[31,53],[-108,169],[-74,34],[-201,-3],[-129,137],[206,55],[-64,42],[215,110],[376,34],[324,59],[222,-7]]]};g.append("path").datum(i.feature(y,y.objects.land)).attr("class","land").attr("d",h);var _=20;var b=0;setInterval((function(){b+=.5;v.rotate([m(b),0]);g.selectAll("path").attr("d",h)}),_)}))};e.exports=g},227:function(e,t,n){"use strict";var a=s(n(0));var r=s(n(2));var i=n(36);var o=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var l={};var u=window.vkey||{};var c;var d;var f;var p={};var v=null;var h=false;var m=null;var g=false;var y=function e(t){if(g){h=true;return}if(t){h=t}else{h=!h}var n=(0,o.jqGetElemById)("nf-feeditem-modal");if(h){o.$body.on("click.savetogroup saveitem.open",(function(){e(false)}));(0,o.jqOffOn)(n,"scroll.saveitem",r.default.throttle(_,100))}else{o.$body.off("click.savetogroup saveitem.open");n.off("scroll.saveitem")}c.toggle(h);if(h){if(v&&v.length>0){if(v.outerHeight()<v[0].scrollHeight){v.addClass("scrollable");(0,o.jqGetElemById)("groupitem-gradient").addClass("active")}}_();f.addClass("selected");o.$body.trigger(a.default.Event("savetogroup.open"))}else{c.removeClass("success");f.removeClass("selected")}};var _=function e(){if(g||o.isMobile){return}var t=0,n=0,a=d.offset(),r="",i="",s=o.isMobile?0:28;if(d.data("position")==="left"){n=a.top;t=a.left-c.width()-s;r="adjusted";i="bottom"}else if(d.data("position")==="bottom"){n=a.top+d.outerHeight();t=a.left+d.width()/2;r="bottom"}else{n=a.top-c.height();t=a.left+d.width()/2;i="bottom"}c.addClass(r).removeClass(i).css({top:~~n,left:~~t})};var b=function e(){f=(0,o.jqGetElemById)("groups-tooltip-trigger");f.on("click",(function(e){e.preventDefault();e.stopPropagation();y()}))};var w=function e(){var t=v.find("input");var n=t.filter(".auto-checked");if(n.length>0){t.on("click.autocheck",(function(){t.off("click.autocheck");n.prop("checked",false).removeClass(".auto-checked")}))}};var k=function e(){c.on("click",(function(e){e.stopPropagation()}));var t=(0,o.jqGetElemById)("groupitem-form-groups");v=t.find(".sets");w();c.removeClass("nux new success");if(c.find(".success").length>0){c.addClass("success");y(true)}_();t.on("submit",(function(){y(false)}))};var C=function e(){d=(0,o.jqGetElemById)("groups-tooltip-target");var t=d.data("object-id");var n=(0,a.default)();["assessment_add_solvable_to_group","quizzes_add_solvable_to_group","potw_add_solvable_to_group","discussions_add_to_group"].forEach((function(e){n=n.add((0,a.default)(".saveitem-tooltip#cmp_"+e+"_id"))}));n.each((function(){var e=(0,a.default)(this);var n=e.data("object-id");if(n!==t){p[n]=e;e.detach()}}));c=n.filter("[data-object-id="+t+"]");if(c.length===0){c=p[t];if(c){c.appendTo(o.$body)}}else if(c.length>1){c.slice(1).remove();c=c.first()}if(!c||!c.length){return}if(d.length){if(c.data("inited")!==true){c.appendTo(o.$body);c.data("inited",true);c.find("form").off("submit");(0,i.initAutosubmit)(c)}b();if(h){y(true)}}else if(c.data("is-webview")===true){h=true;g=true;c.addClass("in")}};var x=function e(t){if(t===true||c&&c.length&&d.length){_();k()}};l.controller=function(e){C();x()};var E=function e(){u.handle.apply(this,arguments);x()};u.assessment_add_solvable_to_group=u.quizzes_add_solvable_to_group=u.potw_add_solvable_to_group=u.discussions_add_to_group=E;e.exports=l},228:function(e,t,n){"use strict";var a=m(n(358));var r=m(n(0));var i=m(n(2));var o=m(n(95));var s=m(n(28));var l=h(n(51));var u=n(7);var c=n(1);var d=h(n(27));var f=h(n(41));var p=n(6);var v=m(n(54));function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function m(e){return e&&e.__esModule?e:{default:e}}var g={};var y=null,_=null,b={};var w=null,k=null,C=null,x=null,E=null,I=null,T={},O,S=1e3,q=10,j=100,P,A=false,D=["wikis","problems","quizzes"],N={version:1,search_type:"wikis",wiki_quality_threshold:200,page:0,pages:0,use_page:false,topics:"",levels:"easy",allow_empty_queries:false},M={};var z=function e(t,n){return n?t.substr(0,t.length-1):t};var L=function e(t){var n="/search/_analytics/";var a=window.ga||function(){};n+="user-"+P+"/";n+=N.search_type+"/";n+="query-"+$(t.query,true)+"/";if(N._filters.length===0){N._filters.push("none")}n+="filters-"+$(N._filters.join(","))+"/";n+="total-"+t.nbHits+"/";n+="page-"+(t.page+1)+"-"+t.nbPages+"/";a("send","event","search","search_result",n);var r=t.userData&&t.userData.length?t.userData[0].card_type_name:"NONE";if(u.useAvo){l.searchResult({searchType:N.search_type,query:$(t.query,true),filters:$(N._filters.join(",")),hits:t.nbHits,page:t.page+1,pages:t.nbPages,path:window.location.pathname,isAndroid:c.isAndroid,customSearchCardType:r})}else{(0,u.track)("search_result",{search_type:N.search_type,query:$(t.query,true),filters:$(N._filters.join(",")),hits:t.nbHits,page:t.page+1,pages:t.nbPages,path:window.location.pathname,is_android:c.isAndroid,custom_search_card_type:r})}};var $=function e(t,n){t=t.replace(/\s/g,"+");if(n===true){t=escape(t)}return t};var B=function e(){var t=null;w.on("keydown input",(function(e){clearTimeout(t);if(e.which===13||e.forceSearch){A=true;se(w.val())}else{t=setTimeout((function(){A=true;se(w.val())}),S)}}));C.add((0,c.jqGetElemById)("search-hide")).on("click",(function(e){if(!(0,r.default)(e.target).closest(".search-results-wrapper").length){e.preventDefault();ie()}}));(0,c.jqGetElemById)("search-input-btn").on("click",(function(){w.focus()}))};var U=function e(){E.removeClass(D.join(" "));E.addClass(N.search_type);(0,u.setAnalyticsEvents)(C);if(!E.hasClass("inited")){var t=(0,r.default)("#search-type a"),n=(0,r.default)("#search-level-list button"),a=(0,r.default)("#search-topics-list a");(0,u.track)("ui",{action:"click",element_type:"link",element_id:"user_searched"});var i=function e(t,n){t.removeClass("active");n.addClass("active")};var o=function e(){var n=t.filter("[data-opt-value="+N.search_type+"]");i(t,n)};var s=function e(){if(["problems","quizzes"].indexOf(N.search_type)>=0){if(N.oldLevels){N.levels=N.oldLevels;N.oldLevels=null}if(N.oldTopics&&N.topics.length===0){N.topics=N.oldTopics;N.oldTopics=null}}else{if(N.levels){N.oldLevels=N.levels;N.levels=""}if(N.topics){N.oldTopics=N.topics;N.topics=""}}};var l=function e(t,n,a,r){r=r===false?false:true;if(!a.hasClass("active")){var o=a.data();i(n,a);N[t]=o["optValue"];s();se()}else if(r===true){n.removeClass("active");n.find("a").removeClass("active");N[t]="";se()}};E.addClass("inited");o();t.on("click",(function(e){e.preventDefault();l("search_type",t,(0,r.default)(this),false)}));if(N.levels.length&&typeof N.levels==="string"){n.removeClass("active");n.filter("[data-opt-value="+N.levels+"]").addClass("active")}n.on("click",(function(e){e.preventDefault();var t=(0,r.default)(this),a=t.data("opt-value");if(!t.hasClass("active")){n.removeClass("active");t.addClass("active");N.levels=a;se()}}));a.on("click",(function(e){e.preventDefault();var t=(0,r.default)(this);if(!t.hasClass("active")){(0,r.default)("#search-topic-active").html(t.html());l("topics",a,t)}}));x.on("click",".change-search-type",(function(e){e.preventDefault();N.search_type=(0,r.default)(this).data("opt-value");s();o();se()}))}};var F=function e(){var t=x.find(".load-page").last();var n=function(){if(c.isMobile){return c.$window}return C.find(".search-results-wrapper")}();var a=function e(){if(c.isMobile){return t.offset().top}return t.position().top+(0,c.jqGetElemById)("header").outerHeight()};var o=function e(){if(n.scrollTop()+n.outerHeight()+j>a()){G(t)}};if(N.page===N.pages-1){t.remove()}else{(0,c.jqOffOn)(n,"scroll",i.default.throttle((function(){if(!t.hasClass("loaded")){o()}}),q));o()}(0,c.jqOffOn)(x.find(".internal-link"),"click",(function(e){e.preventDefault();e.stopPropagation();var t=(0,r.default)(e.currentTarget).attr("href");if(e.metaKey){window.open(t)}else{window.location.href=t}}))};var G=function e(t){if(t.hasClass("loaded")){return}t.addClass("loaded");if(N.page<N.pages-1){N.page++;N.use_page=true;A=true;se()}else{c.$window.off("scroll.searchpage")}};var R=function e(t,n){k.removeClass("loading").addClass("loaded");x=(0,c.jqGetElemById)("site-search-result-list");E=(0,c.jqGetElemById)("site-search-header");if(t===null){H(n)}else{V(t)}};var H=function e(t){K();J(t);U();F();re();L(t)};var V=function e(t){var n="";if(t.message.indexOf("Cannot connect to the AlgoliaSearch API")>=0){n="You seem to be offline. Check your connection to continue searching."}else{n="".concat(t.message," Try again later.")}(0,p.showGenericModal)("Search error",n);s.default.captureMessage("Search error: ".concat(t.message))};var W=function e(t){return i.default.template((0,c.jqGetElemById)(t).text())};function K(){M={page:W("search-page-tmpl"),problems:W("search-problems-tmpl"),quizzes:W("search-quizzes-tmpl"),wikis:W("search-wiki-tmpl"),sets:W("search-sets-tmpl"),empty:W("search-empty-tmpl"),card:{course:W("search-card-course-tmpl"),topic:W("search-card-topic-tmpl"),chapter:W("search-card-chapter-tmpl"),special:W("search-card-special-tmpl")}}}var J=function e(t){var n="";if(N.page===0){var a=I.data(),i=a.enabledCardTypes;if(t.userData&&t.userData.length&&i.indexOf(t.userData[0].card_type_name)>=0){var o=t.userData[0];if(T[o.card_id]||T[o.card_id]===null){I.html(T[o.card_id])}else{I.html(M.card[o.card_type_name.toLowerCase()](o));r.default.get("/api/v1/search/grab_custom_search_card/"+o.card_id+"/").fail((function(){T[o.card_id]=null;I.empty()})).then((function(e){T[o.card_id]=e.rendered_html;I.html(e.rendered_html)}))}}else{I.empty()}}if(t.hits.length>0){E.removeClass("empty");t.hits.forEach((function(e,t){var a=M[e.document_type],r=X(e);n+=a(r)}))}else if(N.page===0){E.addClass("empty");n=M.empty(te(t))}N.page=t.page;N.pages=t.nbPages;if(n.length>0){n=M.page({page:N.page,html:Y(n)});if(N.page>0){x.append(n)}else{x.html(n)}}v.default.feeditem_modal();x.find(".load-modal").not(".inited").each((function(){var e=(0,r.default)(this),t=e.data(),n=t.fullUrl,a=t.modalUrl;if(e.data("clean-urls")===true){n="/"+n.split(/:\/\/.*?\//)[1];if(a){a="/"+a.split(/:\/\/.*?\//)[1]}}if(e.hasClass("search-problem")){e.data("modal-url",n.replace(/\-problem\/(.)/,"-problem/modal/$1").replace("/problems/","/problems/modal/"))}else{e.data("modal-url",a)}e.addClass("inited");v.default.modal_events.apply(this)}));d.checkOverflow(x)};var Y=function e(t){return t.replace(/data-src=/g,"src=")};var X=function e(t){switch(t.document_type){case"wikis":return Q(t);break;case"problems":return Z(t);break;case"quizzes":return ee(t);break;default:return t}};var Q=function e(t){t.processed_title=ne(t);t.processed_blurb=ae(t);t.is_low_quality=(t.quality_score||0)<N.wiki_quality_threshold;return t};var Z=function e(t){t.level=t.level>0&&t.level!=="None"?t.level:0;t.concept_quiz_slug=t.concept_quiz_slug||false;t.num_likes=t.num_likes||0;t.num_shares=t.num_shares||0;t.percent_solved=t.percent_solved||0;t.processed_title=ne(t);t.processed_blurb=ae(t);t.topic_name=t.topic_name==="Unknown"?null:t.topic_name;return t};var ee=function e(t){t.topic_name=t.topic_name||null;t.quiz_type=t.quiz_type||null;t.paid_quiz=t.paid_quiz&&t.paid_quiz===true;return t};var te=function e(t){var n=1,a={query:t.query};D.forEach((function(e){if(e!==N.search_type){var t="alt_search_"+n;a[t]=e;a[t+"_text"]=z(e);n++}}));return a};var ne=function e(t){if(t.rendered_title){return t.rendered_title}else if(t.title){return i.default.escape(t.title)}return null};var ae=function e(t,n){n=n!==false;var a;if(t.rendered_blurb){a=t.rendered_blurb}else if(t.blurb){if(n){a=i.default.escape(t.blurb)}else{a=t.blurb}}else{return null}return a.replace(/<a\ /g,"<span ").replace(/<\/a>/g,"</span>")};var re=function e(){if(!c.isMobile){(0,p.crop)();c.$body.addClass("search-active")}if(!C.hasClass("active")){C.hide().addClass("active").fadeIn(150)}f.loadForElement(x)};var ie=function e(){if(!c.isMobile){(0,p.crop)(false);c.$body.removeClass("search-active")}C.removeClass("active");w.val("");k.removeClass("loaded");c.$window.off("scroll.searchpage")};var oe=function e(t,n,r){n=typeof n==="string"?n:"<none>";r=r||{};if((y[t]||D.indexOf(t)>=0)&&(n.trim().length>0||N.allow_empty_queries)){if(A){A=false}else{w.val(n)}N.search_type=t;if(_===null){_=(0,a.default)(y.application_id,y.readonly_api_key)}if(!b[t]){b[t]=_.initIndex(y["problems"].index_name)}k.addClass("loading").removeClass("loaded");if(D.indexOf(t)>=0){r.facetFilters.push("document_type:"+t)}b[t].search(n,r,R)}else{ie()}};var se=function e(t){t=t||w.val();var n=[],a={facets:"*",facetFilters:[],attributesToHighlight:[]};if(N.page&&N.page>0&&N.use_page===true){N.use_page=false;a.page=N.page}else{N.page=0}if(N.search_type==="problems"){var r;if(N.levels==="hard"){r="rating>1800"}else if(N.levels==="medium"){r="(rating:1400 to 1800, rating<0)"}else{r="rating:0 to 1400"}a.numericFilters=r;n.push("levels-"+N.levels)}else if(N.search_type==="wikis"&&!O.isPrivilegedUser){a.numericFilters="quality_score>="+N.wiki_quality_threshold}if(N.topics.length>0&&["problems","quizzes"].indexOf(N.search_type)>=0){a.facetFilters.push("topic_name:"+N.topics);n.push("topic-"+$(N.topics,true))}N._filters=n;o.default.set("search_options",N);oe(N.search_type,t,a)};g.controller=function(){w=(0,c.jqGetElemById)("site-search-input");C=(0,c.jqGetElemById)("site-search-results");I=(0,c.jqGetElemById)("site-search-custom-result");if(w.length>0&&C.length>0){k=w.parent();O=(0,r.default)("#site-search-data").data();O.isPrivilegedUser=O.isPrivilegedUser===true;y=O.settings;P=O.user;B();if(w.val().length>0){var e=o.default.get("search_options")||null;if(e!==null&&e.version&&e.version===N.version){N=e}se(unescape(w.val()))}}};e.exports=g},229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.bdayExpl=l;t.showPassword=u;t.signUpModal=c;t.signUpFullPage=d;t.resetPassword=p;t.verifyEmail=v;var a=s(n(0));var r=s(n(2));var i=n(1);var o=n(11);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t;if(i.isMobile){t="left"}else if(e.parents(".public-signup-modal").length){t="bottom"}else{t="right"}var n={show:false,trigger:"manual",placement:t};if(i.isMobile&&e.hasClass("email-expl")){n.template='<div class="tooltip" id="email-expl-tooltip">'+'<div class="tooltip-arrow"></div>'+'<div class="tooltip-inner"></div>'+"</div>"}e.tooltip(n);var a=r.default.throttle((function(){e.tooltip("toggle");e.toggleClass("active")}),200);e.on("click",(function(e){e.preventDefault();e.stopPropagation();a()}));i.$body.on("click",(function(){if(e.hasClass("active")){e.click()}}))}function u(e){var t=e.data("field");var n=e.parentsUntil("form").parent().find(t);var a=false;e.on("click",(function(){a=!a;e.toggleClass("active",a);n.attr("type",a?"text":"password")}))}function c(e){var t=[n.e(175).then(n.t.bind(null,719,7))];if(i.isMobile){t.push(n.e(173).then(n.t.bind(null,720,7)))}else{t.push(n.e(170).then(n.t.bind(null,721,7)))}Promise.all(t).then((function(){return f(e)}))}function d(e){var t=e.find("#signup-email");var n=e.find("#problem-login-link");var r=e.find("#problem-signup-link-alternative");var i=e.find("#problem-login-link-alternative");var o=e.find("input");var s="show-form";var l="show-signup";var u="show-login";var c="focused";var d={SIGNUP:1,LOGIN:2};var f="Signup | Brilliant";var p="Login | Brilliant";var v=function t(){var n="input#id_email";e.removeClass("".concat(s," ").concat(u)).addClass(l).addClass(s);e.find(n).focus()};var h=function t(){var n="input#id_login";e.removeClass("".concat(s," ").concat(l)).addClass(u).addClass(s);e.find(n).focus()};var m=function t(){e.removeClass("".concat(s," ").concat(u)).addClass(l)};var g=function t(){e.removeClass("".concat(s," ").concat(l)).addClass(u)};o.on("focus",(function(e){(0,a.default)(e.target).parents(".control-group").addClass(c)}));o.on("blur",(function(e){(0,a.default)(e.target).parents(".control-group").removeClass(c)}));(0,a.default)(window).on("popstate",(function(e){var t=e.originalEvent?e.originalEvent.state||{}:{};if(t.form===true){if(t.view===d.SIGNUP){v()}else if(t.view===d.LOGIN){h()}}else if(t.view===d.SIGNUP){m()}else if(t.view===d.LOGIN){g()}else if(window.location.href.indexOf("/signup/")>=0){m()}else{g()}}));t.on("click",(function(e){e.preventDefault();v();var t={form:true,view:d.SIGNUP};window.history.pushState(t,null,"".concat(window.location.origin,"/account/signup/?signup=true"));document.title=f}));n.on("click",(function(e){e.preventDefault();h();var t={form:true,view:d.LOGIN};window.history.pushState(t,p,"".concat(window.location.origin,"/account/login/?signup=true"));document.title=p}));r.on("click",(function(e){e.preventDefault();m();var t={form:false,view:d.SIGNUP};window.history.pushState(t,f,"".concat(window.location.origin,"/account/signup/"));document.title=f}));i.on("click",(function(e){e.preventDefault();g();var t={form:false,view:d.LOGIN};window.history.pushState(t,p,"".concat(window.location.origin,"/account/login/"));document.title=p}))}function f(e){e.parent(".modal-bg").on("click",(function(){e.parents(".solv-public-form").removeClass("open");(0,a.default)(".btn-mcq.dim").removeClass("dim")}));e.on("click",(function(e){e.stopPropagation()}));var t="show-form";var n=e.find(".public-signup-right");if(e.data("show-form")){var i=e.find("#signup-email");var s=e.find("#signup-form-container");var l=e.find("#problem-login-link");var u=e.find("#login-form-container");var c=i.data();var d=s.data();var f=false;var p=l.data();var v=u.data();var h=false;i.on("click",(function(l){l.preventDefault();var u="input#id_email";if(f){n.addClass(t);e.addClass(t);n.find(u).focus()}else{var p=r.default.extend({page_key:d.pageKey},c);a.default.get(d.url,p).then((function(r){f=true;s.html(r.actions.homepage_signup_form.new_html);(0,o.initGenericControllers)(s);n.addClass(t);e.addClass(t);n.find(u).focus();var i=n.find("#id_birthday_month");var l=n.find("#id_birthday_day");var c=n.find("#id_birthday_year");i.prepend((0,a.default)('<option value="">Birth month</option>'));l.prepend((0,a.default)('<option value="">Day</option>'));c.prepend((0,a.default)('<option value="">Year</option>'));i[0].selectedIndex=0;l[0].selectedIndex=0;c[0].selectedIndex=0})).fail((function(){window.location.href=i.attr("href")}))}}));l.on("click",(function(i){i.preventDefault();var s="input#id_login";if(h){n.addClass(t);e.addClass(t);n.find(s).focus()}else{var c=r.default.extend({page_key:v.pageKey},p);a.default.get(v.url,c).then((function(a){h=true;u.html(a.actions.homepage_login_form.new_html);(0,o.initGenericControllers)(u);n.addClass(t);e.addClass(t);n.find(s).focus()})).fail((function(){window.location.href=l.attr("href")}))}}))}var m=e.find("#problem-signup-link-alternative");var g=e.find("#problem-login-link-alternative");var y="show-signup";var _="show-login";m.on("click",(function(a){a.preventDefault();n.removeClass("".concat(t," ").concat(_)).addClass(y);e.removeClass(t)}));g.on("click",(function(a){a.preventDefault();n.removeClass("".concat(t," ").concat(y)).addClass(_);e.removeClass(t)}))}function p(e){e.find("input[type=email]").focus()}function v(e){e.find("input[type=email]").focus()}},23:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.showStandardErrorModal=o;t.showTimeoutErrorModal=s;t.showBackendErrorModal=l;t.errorModalHandler=u;var a=n(1);var r=n(6);function i(){return(0,a.jqGetElemById)("default-ajax-error").data()}function o(){var e=i();if(e){(0,r.showGenericModal)(e.errorTitle,e.errorContent)}}function s(){var e=i();if(e){(0,r.showGenericModal)(e.errorTitle,e.timeoutContent)}}function l(e){if(e.responseJSON){var t=e.responseJSON.error;(0,r.showGenericModal)(t.title,t.message)}else{console.log(e)}}function u(e){if(e.statusText==="abort"){return}if(e.status===403){l(e)}else if(e.statusText==="timeout"){s()}else{o()}}},230:function(e,t,n){"use strict";var a=function e(t){t=t||false;var n=[1e3,1045,1080,1143,1166,1227,1288,1283,1299,1338,1342,1319,1343,1350,1382,1480,1510,1480,1460,1556,1548,1605,1592,1650,1684,1736,1807,1863,1848,1941,1935,1995,1965,1957,1998,2052,2098,2164];var a=[];var r=(new Date).getTime();var i=new Date(r);var o=1e3;var s=2200;var l=s;var u=1e3*60*60*24;var c=u*365;var d=function e(t,n){return~~(Math.random()*(n-t+1))+t};function f(e){i=new Date(i.getTime()-d(1,e)*u)}function p(e){i=new Date(i.getTime()-e*u)}function v(e){l-=d(1,100)-d(1,100-e)}if(t){while(true){if(r-i.getTime()>c||l===o){break}f(20);v(50);l=Math.max(l,o);l=Math.min(l,s);a.unshift({date:i,rating:l})}}else{while(n.length){p(10);a.unshift({date:i,rating:n.pop()})}}return a};e.exports={ratings_correct_incorrect_over_time:a()}},231:function(e,t,n){"use strict";var a=o(n(0));var r=o(n(2));var i=n(1);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return c(e)||u(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(e,t){var n=[];var a=true;var r=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(r)throw i}}return n}function c(e){if(Array.isArray(e))return e}var d={};var f=[1e3,1250,1500,1750,2e3,2250];var p="1-year";function v(e){if(e<1250){return 1}else if(e<1500){return 2}else if(e<1750){return 3}else if(e<2e3){return 4}else{return 5}}var h=function(){if(!i.isBrilliantPremium){return r.default.noop}var e="tooltipped",t=function t(){(0,a.default)(this).addClass(e)},n=function t(){(0,a.default)(this).removeClass(e)};if(i.isMobile){return function(e){var a;e.on("click",(function(){var e=this;if(e===a){return}t.call(e);a=e;r.default.defer((function(){i.$body.one("click",(function(){n.call(e);a=null}))}))}))}}else{return function(e){e.on("mouseenter",t).on("mouseleave",n)}}}();var m=function(){var e=1e3*60*60*24;return function(t){return t*e}}();var g=function e(t){if(p==="1-year"){return t}var n=new Date(t[t.length-1].date);if(p==="1-week"){var a=n.getTime()-m(7)}else if(p==="3-months"){var a=n.getTime()-m(90)}return t.filter((function(e){return new Date(e.date).getTime()>=a}))};var y=function e(t,n,a){var i=n.find("#canvas-graph");var o=a.ratings_correct_incorrect_over_time;var s=0;o=g(o);if(o.length===1){var l=(new Date).getTime();var u;switch(p){case"1-year":u=l-m(365);break;case"3-months":u=l-m(90);break;case"1-week":u=l-m(7)}o.push({date:l,rating:o[0].rating,artificial:true});o[0].date=u}var c=""+'<div class="stat-tooltip dropup tipsy" style="top:<%= top %>;left:<%= left %>">'+'<div class="dropdown-menu">'+'<span class="arrow"></span>'+"<p><strong><%= dateFormatted %></strong></p>"+"<p>Level <%= level %></p>"+"</div>"+"</div>";var d={width:i.width(),height:i.height(),gutter:parseInt(i.css("left")),dateFormatFull:t.timeFormat("%b. %e, %Y"),nodeTemplate:r.default.template(c)};d.scaleX=t.scaleTime().domain([new Date(o[0].date),new Date(o[o.length-1].date)]).range([0,d.width-s]);d.scaleY=function(){var e=r.default.pluck(o,"rating");var n=f.slice();var a=r.default.min(e);var i=r.default.max(e);var s=n[0];var l=n[n.length-1];if(a<s){s=a;n[0]=s}if(i>l){l=i;n[n.length-1]=l}d.ratingMilestones=n;return t.scaleLinear().domain([s,l]).range([d.height,0])}();d.ratings_over_time=o;return d};var _=function e(t,n){var a={};var o=n.ratings_over_time.length;var s={};function l(e){if(!s[e]){s[e]=~~n.scaleX(new Date(e))}return s[e]}t.select("#canvas-graph").selectAll("div.node").data(n.ratings_over_time).enter().append("div").classed("node",true).classed("left",(function(e){return n.width/2-n.scaleX(new Date(e.date))>0})).style("left",(function(e,t){if(t===0){a[t]=0}else{var r=l(n.ratings_over_time[t-1].date);var i=l(e.date);a[t]=~~((i+r)/2)}return a[t]+"px"})).style("width",(function(e,t){if(t===o-1){return n.width-a[t]+"px"}var r=l(n.ratings_over_time[t+1].date);var i=l(e.date);return~~((i+r)/2)-a[t]+"px"})).html((function(e,t){var i;for(var o=0;o<n.ratingMilestones.length;o++){if(e.rating<=n.ratingMilestones[o]){i=o;break}}return n.nodeTemplate(r.default.extend(e,{top:~~n.scaleY(e.rating)+"px",left:l(e.date)-a[t]+"px",dateFormatted:n.dateFormatFull(new Date(e.date)),level:i}))}));h((0,i.jqGetElemById)("canvas-graph").find("div.node"))};var b=function e(t,n){var a=t.line().x((function(e){return n.scaleX(new Date(e.date))})).y((function(e){return n.scaleY(e.rating)})).curve(t.curveBasis);t.select("#canvas-lines").append("path").attr("d",a(n.ratings_over_time)).classed("artificial",(function(){return n.ratings_over_time[1].artificial===true}))};var w=function e(t,n){var a=n.ratings_over_time.slice();var i=r.default.extend({},a[0]);i.rating=0;var o=r.default.extend({},a[a.length-1]);o.rating=0;a.unshift(i);a.push(o);var s=t.line().x((function(e){return n.scaleX(new Date(e.date))})).y((function(e){return n.scaleY(e.rating)})).curve(t.curveLinear);var l=t.select("#canvas-area");var u=l.append("svg:defs").append("svg:linearGradient").attr("id","area-gradient").attr("x1","100%").attr("y1","0%").attr("x2","100%").attr("y2","100%").attr("spreadMethod","pad");u.append("svg:stop").attr("offset","0%").attr("stop-color","#F7F7F7").attr("stop-opacity",0);u.append("svg:stop").attr("offset","100%").attr("stop-color","#F7F7F7").attr("stop-opacity",1);l.append("path").attr("d",s(a)).attr("fill","url(#area-gradient)")};var k=function e(t,n){var a=n.ratingMilestones.slice(1,n.ratingMilestones.length-1);var r=t.select("#canvas-legend");r.selectAll("div.y-item").data(a).enter().append("div").classed("y-item",true).style("top",(function(e){return n.scaleY(e)+"px"})).text((function(e){return"Level "+v(e)}));var o;var s;var l;switch(p){case"1-year":s=t.timeFormat("%b");l=n.scaleX.ticks(t.timeMonth,1);break;case"3-months":s=t.timeFormat("%b");l=n.scaleX.ticks(t.timeMonth,1);break;case"1-week":s=t.timeFormat("%b %e");l=n.scaleX.ticks(t.timeDay,1);break}r.selectAll("div.x-item").data(l).enter().append("div").classed("x-item",true).style("left",(function(e){return"".concat(n.scaleX(e),"px")})).text((function(e,t){var n=s(e);if(i.isMobile&&p==="1-year"){return t%2===0?"":n}return n}))};function C(e,t){var n=(0,i.jqGetElemById)("stat-btn-filters").find(".btn");n.on("click",(function(e){var t=(0,a.default)(e.currentTarget);if(!t.hasClass("active")){n.removeClass("active");t.addClass("active");p=t.data("value");d.clean();d.render()}}))}d.render=function(){var e=null,t=null;d.clean=function(){if(e){e.find(".cleanable").each((function(){(0,a.default)(this).empty()}))}};return function(a,o){var l=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var u=l===true;e=e||a;if(u){t=o}else{t=t||o}Promise.all([Promise.all([n.e(10),n.e(13)]).then(n.bind(null,373)),Promise.all([n.e(10),n.e(13)]).then(n.bind(null,371)),Promise.all([n.e(10),n.e(13)]).then(n.bind(null,712)),Promise.all([n.e(10),n.e(13)]).then(n.bind(null,713)),Promise.all([n.e(10),n.e(13)]).then(n.bind(null,711))]).then((function(n){var a=s(n,5),o=a[0].select,l=a[1],u=l.scaleLinear,c=l.scaleTime,d=a[2],f=d.timeMonth,p=d.timeDay,v=a[3].timeFormat,h=a[4],m=h.line,g=h.curveBasis,x=h.curveLinear;var E={select:o,scaleLinear:u,scaleTime:c,timeMonth:f,timeDay:p,timeFormat:v,line:m,curveBasis:g,curveLinear:x};var I=y(E,e,r.default.extend({},t));if(t.ignore!==true){_(E,I);b(E,I);w(E,I);k(E,I);C(E,I);e.find(".spinner").hide();(0,i.jqGetElemById)("percentile-text").text(t.percentile)}}))}}();e.exports=d},232:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.surveyModalController=s;var a=o(n(657));var r=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function s(e){var t=document.querySelector(".survey-modal");if(t){var n=t.querySelector(".survey-target");var i=t.querySelector(".survey-url");if(n&&i){a.makeWidget(n,i.innerText,{buttonText:"Take the survey!"})}}var o=e.data();e.modal({show:false});var s=true;if(o.trigger){(0,r.default)(o.trigger).on("click",(function(t){t.preventDefault();e.modal("show")}));s=o.autoshow===true}if(s){e.modal("show")}}},233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.controller=r;var a=n(114);function r(e){return(0,a.uploadController)(e)}},27:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.checkOverflow=c;t.scaleSVG=d;t.updateMathjax=f;t.equationEditorTrigger=p;var a=u(n(0));var r=n(7);var i=n(16);var o=n(6);var s=l(n(41));function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function u(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e?e.find(".latexprocessor-inline"):(0,a.default)(".latexprocessor-inline");t.each((function(e,t){var n=(0,a.default)(t);var r=n.outerWidth();var i=n.parent().outerWidth();if(r>i){n.addClass("overflowed")}}))}function d(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:.65;e.each((function(e,n){var r=(0,a.default)(n).find("svg");if(r.length>0){r.each((function(e,n){var r=(0,a.default)(n);var i=r.data("orig-width");if(!i){r.data("orig-width",parseFloat(r[0].style.width))}else{r[0].style.width="".concat(i,"ex")}var o=r.parent().width()+4;var s=parseInt(r[0].style.width,10);var l=~~r.width();var u=~~(s*o/l);if(l>o&&u/s>=t){r[0].style.width="".concat(u,"ex")}}))}}))}function f(e){e.each((function(e,t){var n=(0,a.default)(t);s.loadForElement(n);n.parent().find(".uses-latex, .latex").css("visibility","visible")}))}function p(e){var t=function e(t){(0,r.track)("ui",{action:"click",element_type:t,element_id:"link"})};e.on("click",(function(n){var a=e.data();t(a.axClicked);if(!n.metaKey){n.preventDefault();(0,o.showConfirmationModal)({text:e.data("text")}).then((function(n){if(n){t(a.axConfirmed);window.open(e.attr("href"))}}))}}))}(0,i.onDOMReady)((function(){c()}))},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=window.Raven;t.default=a},30:function(e,t,n){"use strict";var a=n(0);var r={};r.update=function(e,t,n){if(typeof t==="undefined"){t=true}n=n||function(){};var r=(t?"/profile/set_flag/":"/profile/unset_flag/")+e+"/";a.post(r).then((function(e){n(e)})).fail((function(e,t,a){n({success:false,error:a,status:e.status})}))};r.controller=function(e){var t=e.data("flag")||null;if(t!==null){e.on("click",(function(){r.update(t,true)}))}};e.exports=r},308:function(e,t,n){"use strict";var a=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}(0,a.default)(document).ajaxSend((function(e,t,n){if(n.type.toUpperCase()==="POST"){if(n.contentType.search(/multipart\/form-data|application\/x-www-form-urlencoded/)===-1){t.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8")}}}))},309:function(e,t,n){"use strict";var a={};a.set=function(e,t,n){n=n||{};var a=n.expires;if(typeof a=="number"&&a){var r=new Date;r.setTime(r.getTime()+a*1e3);a=n.expires=r}if(a&&a.toUTCString){n.expires=a.toUTCString()}t=encodeURIComponent(t);var i=e+"="+t;for(var o in n){if(n.hasOwnProperty(o)){i+="; "+o;var s=n[o];if(s!==true){i+="="+s}}}document.cookie=i};a.get=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):undefined};a.remove=function(e){a.set(e,null,{expires:-1})};e.exports=a},310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.newGlossaryTerm=h;t.controller=m;var a=s(n(0));var r=s(n(76));var i=n(1);var o=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var l=function e(t,n,a){var r=t.val();if(r&&n&&!r.charAt(n-1).match(/\n/)){return"\n".concat(a)}return a};var u=function e(){var t="";if(window.getSelection){t=window.getSelection().toString()}else if(document.selection&&document.selection.type!=="Control"){var n=document.selection.createRange();t=n.text}return t};var c=function e(t){var n=t.$input,a=t.cursorPosition,i=t.startStr,o=t.endStr,s=t.placeholderStr;var l;if(a===undefined){l=r.default.get(n)}else{l=a}var c=u();var d=l+i.length;var f;if(c){f=d+c.length;r.default.insert(n,i,l);r.default.insert(n,o,f)}else{f=d+s.length;r.default.insert(n,i+s+o,l)}r.default.set(n,d,f);n.trigger("input")};var d=function e(t,n,a,i,o){var s=o[0].startStr,l=o[0].placeholder,c=o[0].endStr,d=o[1].startStr,f=o[1].placeholder,p=o[1].endStr,v=u(),h,m;if(v){h=n+a.length+s.length+v.length+c.length+d.length;m=h+f.length;r.default.insert(t,a+s,n);r.default.insert(t,c+d+f+p+i,n+a.length+s.length+v.length)}else{var g=l+c+d+f;h=n+a.length+s.length;m=h+g.length;r.default.insert(t,a+s+g+p+i,n)}r.default.set(t,h,m);t.trigger("input")};var f=(0,a.default)(".glossary-admin-modal");var p;function v(){f.modal("show");o.default.track("ui",{element_id:"clicked_glossary_button",action:"staff_only_action",element_type:"btn"});function e(){f.find(".new-glossary-card-container").removeClass("hide");n.e(60).then(n.t.bind(null,714,7)).then((function(){f.find("#id_glossary_term").on("keyup",(function(){var e=f.find("#id_slug");e.val(window.URLify(f.find("#id_glossary_term").val(),50))}))}));var e=f.find("#id_filter_wiki");function t(){var t=f.find("#id_wiki");var n=e.val().toLowerCase();if(n===""){t.find("option").css("display","block")}else{t.find("option").each((function(e,t){var r=(0,a.default)(t);if(r.html().toLowerCase().indexOf(n)!==-1||r.val().indexOf(n)!==-1){r.css("display","block")}else{r.css("display","none")}}))}}e.on("keyup",t)}function t(e){o.default.track("ui",{element_id:"search_glossary_term",action:"staff_only_action",element_type:"btn"});e.preventDefault();var t=f.find(".search-glossary-card-container");a.default.get(e.target.href,{prefix:f.find(".prefix").val()}).then((function(e){var n=e.map((function(e){return'<li><button data-value="'.concat(e.value,'"\n                    class="btn-link">').concat(e.name,"</button></li>")})).join("");t.html(n);t.find("button").on("click",(function(e){c({$input:p,startStr:(0,a.default)(e.target).data("value").split("]]")[0],endStr:"]]",placeholderStr:""});f.modal("hide");o.default.track("ui",{element_id:"add_searched_glossary_term",action:"staff_only_action",element_type:"link"})}))}))}(0,i.jqOffOn)(f.find(".new-glossary-card"),"click",e);(0,i.jqOffOn)(f.find(".search-glossary"),"click",t)}function h(e){c({$input:p,startStr:e.html().split("]]")[0],endStr:"]]",placeholderStr:""});f.modal("hide");e.remove();o.default.track("ui",{element_id:"add_new_glossary_term",action:"staff_only_action",element_type:"btn"})}function m(e){var t=e.data(),n=e.find(".btn"),i=n.filter(".add-latex"),o=n.filter(".add-link"),s=n.filter(".add-image"),f=n.filter(".add-example"),h=n.filter(".add-proof"),m=n.filter(".add-glossary"),g=n.filter(".add-bold"),y=n.filter(".add-fraction"),_=n.filter(".add-list"),b=n.filter(".add-table"),w=(0,a.default)(t.target);var k=function e(){n.on("mousedown",(function(e){e.preventDefault()}));i.on("click",(function(e){e.preventDefault();var t=r.default.get(w),n="\\(",a="LaTeX",i="\\)";c({$input:w,cursorPosition:t,startStr:n,endStr:i,placeholderStr:a})}));o.on("click",(function(e){e.preventDefault();var t=r.default.get(w),n="",a="",i=[{startStr:"[",placeholder:"link text",endStr:"]"},{startStr:"(",placeholder:"https://brilliant.org",endStr:")"}];d(w,t,n,a,i)}));s.on("click",(function(e){if(e.target===this){s.find("input").trigger("click")}}));f.on("click",(function(e){e.preventDefault();var t=r.default.get(w),n=l(w,t,"[[start-example]]"),a="[[end-example]]",i="example text";c({$input:w,cursorPosition:t,startStr:n,endStr:a,placeholderStr:i})}));h.on("click",(function(e){e.preventDefault();var t=r.default.get(w),n=l(w,t,"[[start-proof]]"),a="[[end-proof]]",i="proof text";c({$input:w,cursorPosition:t,startStr:n,endStr:a,placeholderStr:i})}));m.on("click",(function(e){e.preventDefault();p=w;v()}));g.on("click",(function(e){e.preventDefault();var t=r.default.get(w),n="**",a="**",i="bold text";c({$input:w,cursorPosition:t,startStr:n,endStr:a,placeholderStr:i})}));y.on("click",(function(e){e.preventDefault();var t=r.default.get(w),n="\\(\\frac",a="\\)",i=[{startStr:"{",placeholder:"numerator",endStr:"}"},{startStr:"{",placeholder:"denominator",endStr:"}"}];d(w,t,n,a,i)}));_.on("click",(function(e){e.preventDefault();var t=w.val(),n=r.default.get(w),a=t.lastIndexOf("\n",n-1)+1,i=t.indexOf("\n",n-1),o="- ",s=u(),l=n;i=i==-1?t.length:i;if(t.slice(a,i).search(o)==-1){r.default.insert(w,o,a);l+=o.length}if(s){r.default.set(w,l,l+s.length)}else{r.default.set(w,l)}w.trigger("input")}));b.on("click",(function(e){e.preventDefault();var t=r.default.get(w),n=l(w,t,"||"),a="||",i=[{startStr:"",placeholder:"row 1 col 1||row 1 col 2",endStr:"||\n"},{startStr:"||",placeholder:"row 2 col 1||row 2 col 2",endStr:""}];d(w,t,n,a,i)}))};if(w.length){k()}else{(0,a.default)(t.target.replace("__copy","")).on("mentions.ready",(function(){w=(0,a.default)(t.target);k()}))}}},311:function(e,t,n){"use strict";var a=f(n(0));var r=n(7);var i=n(36);var o=n(8);var s=d(n(45));var l=n(1);var u=d(n(41));var c=n(11);function d(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}window.vkey=window.vkey||{};window.vkey.handle=function(e,t){var n=(0,a.default)("#cmp_".concat(t,"_id"));if(n.length===0){n=(0,a.default)(".cmp_".concat(t,"_id"))}l.$window.trigger(a.default.Event("".concat(o.EVT_VKEY_BEFORE_UPDATE,".").concat(e.component_key),{$cmp:n}));n.html(e.new_html);(0,i.initAutosubmit)(n);(0,c.initGenericControllers)(n);(0,r.setAnalyticsEvents)(n);l.$window.trigger(a.default.Event("".concat(o.EVT_VKEY_AFTER_UPDATE,".").concat(e.component_key),{$cmp:n}));u.loadForElement(n);n.find(".cmp-deferred").each((function(e,t){s.add((0,a.default)(t))}));return n}},312:function(e,t,n){"use strict";var a=u(n(0));var r=u(n(7));var i=n(8);var o=n(1);var s=n(6);var l=n(23);n(65);function u(e){return e&&e.__esModule?e:{default:e}}var c={};c.emailAddresses=function(e){var t=e.find(".verify");var n=e.find(".make-primary");var r=e.find(".remove");var i=e.find("[name=action_send]");var o=e.find("[name=action_primary]");var s=e.find("[name=action_remove]");var l=e.find(".add-email-link");var u=e.find(".add-email-form");var c=function e(t,n){t.on("click",(function(e){e.preventDefault();(0,a.default)(e.currentTarget).parents("li").find("input[type=radio]").prop("checked",true);n.click()}))};c(t,i);c(n,o);c(r,s);s.on("click",(function(){var t=e.find("input[type=radio]:checked").val();return confirm("Do you really want to remove ".concat(t,"?"))}));l.on("click",(function(e){e.preventDefault();(0,a.default)(e.currentTarget).parents("tr").hide();u.removeClass("hide").find("input").focus();l.addClass("hide")}));if(u.find(".errorlist").length>0){l.click()}};c.emailSettings=function(e){var t=5;var n=function e(t){r.default.track("email settings timeout error",{result:t})};e.find("form").each((function(r,i){var o=(0,a.default)(i);var s=o.find("input.unsubscribe");s.each((function(r,i){var s=(0,a.default)(i);var u=false;s.on("click",(function(){if(u){return}u=true;var r=o.attr("action");var i=0;var c=s.prop("checked");var d={type:"POST",timeout:3e3};r=r.replace(/\/(un)?checked\//,c?"/checked/":"/unchecked/");d.url=r;s.prop("disabled",true);var f=function e(){u=false;s.prop("disabled",false);s.prop("checked",!c)};var p=function r(){a.default.ajax(d).then((function(){u=false;o.removeClass("opt-out");s.prop("disabled",false);if(c){var t="email";if(o.hasClass("push_notif")){t="push_notif"}if(o.hasClass("global_unsubscribe")){var n=e.find("form.".concat(t,":not(.global_unsubscribe) input[type=checkbox]:checked"));n.trigger("click")}else{var a=e.find("form.".concat(t,".global_unsubscribe input[type=checkbox]:checked"));if(a.length>0){a.trigger("click")}}}})).fail((function(e,a){if(a==="timeout"){if(i<t){i++;n("retry");r()}else{(0,l.showTimeoutErrorModal)();n("limit reached");f()}}else{(0,l.errorModalHandler)(e);f()}}))};p()}))}))}));var i=(0,a.default)(".opt-out");if(i.length>0){var s=i.parents(".pref-group-row");if(o.isMobile){s=s.add(s.prev(".pref-group-row"))}s.addClass("highlighted");(0,o.setScrollPosition)(i.offset().top-o.$window.height()/2,{animate:true});setTimeout((function(){s.addClass("transition").removeClass("highlighted")}),5e3)}};c.paymentHistory=function(e){(0,o.jqGetElemById)("view-receipts").on("click",(function(t){t.preventDefault();var n=(0,a.default)(t.currentTarget);e.toggleClass("expanded");if(e.hasClass("expanded")){n.removeClass("view-receipts");n.addClass("hide-receipts")}else{n.removeClass("hide-receipts");n.addClass("view-receipts")}}))};c.deactivateAccountForm=function(e){var t=e.find(":checkbox");var n=t.filter('[value="other"]');var a=e.find(".other-text");var r=a.find("textarea");var i=e.find(".second-step");var o=e.find('[name="deactivate_method"]');var l=e.find(".how-to-reactivate");var u=e.find(".password");var c=e.find(".btn-submit");var d=function e(){a.toggleClass("hide",!n.prop("checked"))};var f=function e(){var a=t.filter(":checked").length;var o=a===0||a===1&&n.prop("checked")&&r.val().trim()==="";i.toggleClass("hide",o)};var p=function e(){var t=o.filter(":checked").val();l.toggleClass("hide",t!=="temporary");u.toggleClass("hide",t!=="permanent");if(t){c.removeClass("hide")}};t.on("change",(function(){f();if(this.value==="other"){d()}}));r.on("change click keyup",f);o.on("change",p);d();f();p();e.on("submit",(function(){c.addClass("disabled").prop("disabled",true)}));if(e.find(".errorlist").length){s.Anchors.scrollToTarget(e)}};c.uploadAvatarFormDesktop=function(e){var t=e.find(".upload-avatar-field");var n=t.find("input");var a=t.find(".filename");var r=e.find(".btn-submit");a.data("defaultValue",a.text());n.on("change",(function(){var e=n.val();a.text(e?e.replace(/^.*[\\/]/,""):a.data("defaultValue"));r.prop("disabled",!e)}))};c.changeAvatarMobile=function(e){var t=e.find(".avatar-wrapper");var n=e.find(".upload-avatar-form");var a=e.find(".upload-avatar-link input");var r=e.find(".choose-avatar-form");var s=r.find('input[type="radio"]');a.on("change",(function(){if(a.val()){t.addClass(i.CLASS_NAME_LOADING);n.submit()}}));s.on("change",(function(e){var t=e.target;s.prop("disabled",true);(0,o.jqCreateElem)("input").attr({type:"hidden",name:t.name,value:t.value}).insertAfter(t);r.submit()}))};c.deleteAvatarForm=function(e){var t=e.find('input[type="checkbox"]');var n=e.find(".btn");t.on("change",(function(){n.prop("disabled",t.filter(":checked").length===0)}))};c.b2DeactivationModal=function(e){(0,o.jqGetElemById)("deactivate-modal-trigger").on("click",(function(){e.modal("show")}))};c.pollExportState=function(e){var t=60*1e3;var n=e.data("url");var r=function r(){a.default.get(n).then((function(n){if(n.state==="ready"&&"url"in n){(0,a.default)(".download").removeClass("hidden").find("a").attr("href",n.url);e.addClass("hidden")}else{setTimeout(r,t)}}))};r();if(e.attr("data-test-url")){var i=function n(){var r=e.data("test-url");setTimeout((function(){a.default.get(r)}),.1*t)};i()}};e.exports=c},313:function(e,t,n){"use strict"},314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.reminders=y;t.mainbodySection=b;t.bodyEditor=w;t.hiddenField=k;t.card=C;t.problemAdminButtons=x;t.categorizableInput=O;t.checkSidebarHeight=S;t.expandableCalendar=q;t.nuxRedirect=j;t.nuxModal=P;t.challengeCalendar=A;var a=v(n(0));var r=v(n(169));var i=v(n(2));var o=v(n(34));var s=n(1);var l=n(35);var u=n(7);var c=v(n(13));var d=n(8);var f=n(37);var p=n(6);function v(e){return e&&e.__esModule?e:{default:e}}var h;function m(){var e=window.location.pathname+window.location.search;window.history.replaceState({},document.title,e)}function g(e){var t="#snooze-reminders";var n=e.find(".dp-reminder-snooze-form");var a=e.find(".dp-reminder-snooze-modal");var r=function e(t){(0,u.track)("ui",{action:"click",element_id:"clicked_dailyproblems_snooze_reminders_save",snooze_days:t})};n.on("submit",(function(){a.modal("hide");var e=parseInt(n.find("[name=snooze_days]:checked").val(),10);r(e)}));e.find(".snooze-disable-trigger").on("click",(function(t){t.preventDefault();var i=e.data("page-key");(0,c.default)(i).form(n[0],{snooze_days:0});a.modal("hide");r(0)}));if(window.location.hash===t){a.modal("show");m()}}function y(e){var t="#set-reminders";var n=e.find(".dp-reminder-set");var a=function e(){n.modal();(0,u.track)("ui",{action:"modal",element_type:"modal",element_id:"viewed_dailyproblems_reminders_modal"});if(window.location.hash===t){m()}};e.find(".set-reminder-trigger").on("click",a);if(n.find(".errorlist").length){a()}n.find("form").on("submit",(function(){n.modal("hide");var e={action:"click",element_id:"clicked_dailyproblems_reminders_save"};n.find("[name=tracks]").each((function(t,n){e["track_".concat(n.dataset.track)]=n.checked}));(0,u.track)("ui",e)}));g(e);if(window.location.hash===t){a()}}var _=function e(t,n){var r=(0,s.jqGetElemById)("outdated-daily-challenge-".concat(t,"-modal"));var o=(0,s.jqGetElemById)("save-outdated-daily-challenge-".concat(t,"-modal"));var l;i.default.defer((function(){var e=function e(){r=(0,s.jqGetElemById)("outdated-daily-challenge-".concat(t,"-modal"));var n=r.data();a.default.get(n.diffUrl).then((function(e){if(e.latest_change_id&&e.latest_change_id!==n.latestChange){r.modal();clearTimeout(l)}}));l=setTimeout(e,1e4)};e()}));r.find(".discard-btn").on("click",(function(){window.location.reload()}));return function(e){if(l){e.preventDefault();clearTimeout(l);var t=r.data();a.default.get(t.diffUrl).then((function(e){if(e.latest_change_id&&e.latest_change_id!==t.latestChange){o.modal();clearTimeout(l)}else{n.submit()}}));o.find(".save-btn").on("click",(function(){return n.submit()}))}}};function b(e){var t=(0,s.jqGetElemById)("dp-expand");if(t.length){t.one("click",(function(){e.addClass("expanded");s.$window.trigger(a.default.Event(d.EVT_DAILYPROBLEM_MAINBODY_EXPANDED))}))}var n=e.find(".dp-mainbody-form");var r="editing";var i=function e(){};var l=function t(){e.addClass(r);e.find("textarea").trigger("autosize.resize");i=_("main",n)};if(window.location.hash==="#edit_challenge"){l()}(0,s.jqGetElemById)("dp-edit").on("click",l);(0,s.jqGetElemById)("dp-edit-cancel").on("click",(function(){return e.removeClass(r)}));(0,s.jqGetElemById)("dp-save-mainbody").on("click",(function(e){i(e)}));var u=(0,s.jqGetElemById)("id_series");var c=(0,s.jqGetElemById)("id_insert_after_id");var f=u.data("series-items");var p=c.data("initial-value");var v=function e(){var t=+u.val();var n="";if(t>0){n+='<option value="0">[make it the first item]</option>';f[t].forEach((function(e,t,a){var r="";if(p!==undefined&&e.id===p||p===undefined&&t===a.length-1){r=" selected"}n+='<option value="'.concat(e.id,'"').concat(r,">").concat(e.title,"</option>")}))}c.html(n).prop("disabled",t===0);p=undefined};u.on("change",v);v();(0,o.default)(e.find("textarea"))}function w(e){var t=e.find("textarea");(0,f.wikiLinks)(t,false)}function k(e){e.find("button").on("click",(function(t){t.preventDefault();e.addClass("visible");e.find("input").focus()}))}function C(e){e.on("click",(function(){var t=e.data(),n=t.imageType,a=t.isSeries,r=t.hasStaffNote,i=t.hasPreviewCopy,o=t.isComplete,s=t.isArchived;var l={action:"click",element_type:"link",element_id:"clicked_daily_problem_card",is_series:a,has_staff_note:r,has_preview_copy:i,is_complete:o,is_archived:s};if(n){l.image_type=n}(0,u.track)("ui",l)}))}function x(e){e.children(".edit-problem").on("click",(function(){(0,a.default)(".question-text").trigger("edit");_("problem")}));e.children(".edit-answer").on("click",(function(){(0,a.default)(".solvable-mcq-options-btn").trigger("click");_("problem")}))}var E={};function I(e,t){var n={category_type:e,selected_category_id:t};var a={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8","X-CSRFToken":(0,l.getToken)()},credentials:"include",redirect:"follow",body:JSON.stringify(n)};return fetch("/assessment/get_course_categorization_options/",a).then((function(e){return e.json()}))}function T(e,t){if(!t){return}var n=function e(t,n){E[t].val(n)};var a=function e(t,n){E[t].find("span.hide option[disabled]").unwrap();E[t].find("option").prop("disabled",false).filter((function(e,t){if(t.value===""){return false}var a=parseInt(t.value,10);return n.indexOf(a)<0})).prop("disabled",true).wrapAll('<span class="hide"></span>');var a=parseInt(E[t].val(),10);var r=n.indexOf(a)<0;if(r){E[t].val(null)}};I(e,t).then((function(e){var t=e.data;["course","chapter","quiz"].forEach((function(e){var a=t["".concat(e,"_id")];if(a){n(e,a)}}));if(t.chapters){a("chapter",t.chapters)}if(t.quizzes){a("quiz",t.quizzes)}}))}function O(e){var t=e.data("field");var n=e.find("select");E[t]=n;n.on("change",(function(){return T(t,n.val())}));if(Object.keys(E).length===3){var a=E.course.val();if(a){T("course",a)}}}function S(e){var t="static-sidebar";var n=75;var a=e.children().last();var r=a.offset().top+a.outerHeight()+n;var o=function e(){s.$body.toggleClass(t,window.innerHeight<r)};s.$window.on("resize.dpSidebar",i.default.throttle(o,16));o()}function q(e){e.find("h3").on("click",(function(){e.toggleClass("expanded");h.update()}))}function j(e){e.find("a, button").on("click",(function(t){t.preventDefault();t.stopPropagation();window.location.href=e.data("next")}))}function P(e){var t=[n.e(169).then(n.t.bind(null,715,7))];if(s.isMobile){t.push(n.e(171).then(n.t.bind(null,716,7)))}Promise.all(t).then((function(){return(0,p.modalController)(e)}))}function A(e){var t=e.find(".current");if(s.isMobile){var n=e.find(".days");var i=n.filter((function(e,n){return a.default.contains(n,t[0])})).first();h=new r.default(e.find(".swiper-container")[0],{initialSlide:n.index(i),pagination:{el:e.find(".swiper-pagination")[0]}})}else{if(!t.length){return}var o=parseInt(e.find(".days").css("grid-template-rows"),10);e.scrollTop(t.position().top-o-15)}}},315:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.modal=i;var a=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.closest(".educator-person");var n=(0,a.default)("#educator-bio-modal");var r=n.find("ul");e.on("click",(function(){r.html(t.clone());n.modal("show")}))}},316:function(e,t,n){"use strict";var a=d(n(2));var r=d(n(34));var i=d(n(13));var o=n(36);var s=n(1);var l=n(6);var u=n(11);var c=n(37);function d(e){return e&&e.__esModule?e:{default:e}}var f={};function p(e){if(e.is(":visible")&&e.find(".errorlist").length===0){e.modal("hide")}}function v(e){(0,r.default)(e.find("textarea"));(0,c.mentions)(e.find("#id_invite_people"));e.on("show",(function(){a.default.defer((function(){e.find("textarea").trigger("autosize.resize")}))}))}function h(e){var t=e.parents(".modal");p(t);v(t)}f.creationForm=h;f.featuredGroups=function(e){e.find(".see-more").on("click",(function(){e.addClass("expanded")}))};f.editGroup=function(){var e=(0,s.jqGetElemById)("group-header");var t="editing";e.removeClass(t);(0,s.jqGetElemById)("group-edit-trigger").on("click",(function(){e.addClass(t);(0,r.default)(e.find("textarea"));(0,s.setScrollPosition)(0)}));e.find(".cancel-edit").on("click",(function(n){n.preventDefault();e.removeClass(t)}));e.find(".btn-expand").on("click",(function(){e.addClass("expanded")}))};f.inviteModal=h;f.confirmGroupAction=function(e){var t=e.find("form");(0,s.jqOffOn)(t,"submit",(function(n){n.preventDefault();var a=e.data();(0,l.showConfirmationModal)({title:a.confirmModalTitle,text:a.confirmModalText,confirmBtnText:a.confirmModalOk,cancelBtnText:a.confirmModalCancel,classes:"group-confirm-modal"}).then((function(e){if(e){(0,i.default)(t.find("#id_page_key").val()).form(t[0])}}))}))};f.seeReport=function(e){var t=e.find(".group-report-modal");e.find(".group-report-trigger").on("click",(function(){t.modal()}))};window.vkey.groups_invite_members=function(e,t){var n=(0,s.jqGetElemByCmpName)(t);var a=(0,s.jqGetElemById)("group-invite-modal");a.removeData("controller-inited").removeAttr("data-controller-inited");n.html(e.new_html);(0,o.initAutosubmit)(n);(0,u.initGenericControllers)(a.parent())};e.exports=f},34:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=c;var a=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}var i={className:"autosizejs",id:"autosizejs",append:"\n",callback:false,resizeDelay:10,placeholder:true};var o=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"];var s;var l;function u(){if(l){return}l=(0,a.default)('<textarea tabindex="-1"/>').data("autosize",true)[0];l.style.cssText=""+"position: absolute;"+"top: -999px;"+"left: 0;"+"right: auto;"+"bottom: auto;"+"border: 0;"+"padding: 0;"+"box-sizing: content-box;"+"word-wrap: break-word;"+"height: 0 !important;"+"min-height: 0 !important;"+"overflow: hidden;"+"transition: none;"+"-webkit-transition: none;";l.style.lineHeight="99px";if((0,a.default)(l).css("lineHeight")==="99px"){o.push("lineHeight")}l.style.lineHeight=""}function c(e,t){if(!e.length){return}u();var n=a.default.extend({},i,t||{});if(l.parentNode!==document.body){(0,a.default)(document.body).append(l)}e.each((function(e,t){var r=(0,a.default)(t);var i={height:t.style.height,overflow:t.style.overflow,overflowY:t.style.overflowY,wordWrap:t.style.wordWrap,resize:t.style.resize};var u=r.css("resize");var c;var d=0;var f;var p=r.width();if(r.data("autosize")){return}r.data("autosize",true);if(r.css("box-sizing")==="border-box"){d=r.outerHeight()-r.height()}var v=Math.max(parseFloat(r.css("minHeight"))-d||0,r.height());r.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"});if(u==="vertical"){r.css("resize","none")}else if(u==="both"){r.css("resize","horizontal")}function h(){var e;var n=window.getComputedStyle?window.getComputedStyle(t,null):null;if(n){e=parseFloat(n.width);if(n.boxSizing==="border-box"||n.webkitBoxSizing==="border-box"||n.mozBoxSizing==="border-box"){["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"].forEach((function(t){e-=parseFloat(n[t])}))}}else{e=r.width()}l.style.width="".concat(Math.max(e,0),"px")}function m(){var e={};s=t;l.className=n.className;l.id=n.id;c=parseFloat(r.css("maxHeight"));o.forEach((function(t){e[t]=r.css(t)}));(0,a.default)(l).css(e).attr("wrap",r.attr("wrap"));h();if(window.chrome){var i=t.style.width;t.style.width="0px";var u=t.offsetWidth;t.style.width=i}}function g(){var e;if(s!==t){m()}else{h()}if(!t.value&&n.placeholder){l.value=r.attr("placeholder")||""}else{l.value=t.value}l.value+=n.append||"";l.style.overflowY=t.style.overflowY;var a=parseFloat(t.style.height)||0;l.scrollTop=0;l.scrollTop=9e4;e=l.scrollTop;if(c&&e>c){t.style.overflowY="scroll";e=c}else{t.style.overflowY="hidden";if(e<v){e=v}}e+=d;if(Math.abs(a-e)>1/100){t.style.height="".concat(e,"px");l.className=l.className;if(typeof n.callback==="function"){n.callback.call(t,t)}r.trigger("autosize.resized")}}var y=function e(){clearTimeout(f);f=setTimeout((function(){var e=r.width();if(e!==p){p=e;g()}}),parseInt(n.resizeDelay,10))};if("onpropertychange"in t){if("oninput"in t){r.on("input.autosize keyup.autosize",g)}else{r.on("propertychange.autosize",(function(e){if(e.propertyName==="value"){g()}}))}}else{r.on("input.autosize",g)}if(n.resizeDelay!==false){(0,a.default)(window).on("resize.autosize",y)}r.on("autosize.resize",g);r.on("autosize.resizeIncludeStyle",(function(){s=null;g()}));r.on("autosize.destroy",(function(){s=null;clearTimeout(f);(0,a.default)(window).off("resize",y);r.off("autosize").off(".autosize").css(i).removeData("autosize")}));g()}))}},35:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getToken=i;t.isSameOrigin=o;var a=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=false;document.cookie.split(";").forEach((function(t){if(t.indexOf("csrftoken")>=0){e=t.split("=")[1].trim()}}));return e||null}function o(e){var t=document.location,n=t.host,a=t.protocol;var r="//".concat(n);var i=a+r;return e===i||e.slice(0,i.length+1)==="".concat(i,"/")||e===r||e.slice(0,r.length+1)==="".concat(r,"/")||!/^(\/\/|http:|https:).*/.test(e)}function s(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}function l(e,t){return!s(e)&&o(t)}function u(e){e.setRequestHeader("X-CSRFToken",i())}(0,a.default)(document).ajaxSend((function(e,t,n){if(l(n.type,n.url)){u(t)}}))},351:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.controller=c;var a=s(n(0));var r=s(n(2));var i=n(1);var o=s(n(28));function s(e){return e&&e.__esModule?e:{default:e}}var l="pubkey-7bfc8ckzpnzm6x-a4d86olnmp5lbj5p2";function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.$fields,n=e.inProgress,i=n===void 0?r.default.noop:n,o=e.onSuccess,s=o===void 0?r.default.noop:o,u=e.onError,c=u===void 0?r.default.noop:u;t.on("blur",(function(e){var t=e.target;var n=(0,a.default)(t).val();if(!n){return}var r=false;if(n.length>512){c.call(t,"address is too long (".concat(n.length,")"));return}i.call(t);a.default.ajax({type:"GET",url:"https://api.mailgun.net/v2/address/validate?callback=?",data:{address:n,api_key:l},dataType:"jsonp",crossDomain:true}).done((function(e){r=true;s.call(t,e)})).fail((function(e,n){r=true;c.call(t,"http error: ".concat(n," (").concat(e.status,")"))}));setTimeout((function(){if(!r){c.call(t,"timeout")}}),3e4)}))}function c(e){var t=e.find("#email-validation");var n=e.find("#id_email");var r=function e(a){t.removeClass("active didyoumean invalid");n.removeClass("email-invalid");if(!a.is_valid||a.did_you_mean){n.addClass("email-invalid");if(a.did_you_mean){(0,i.jqGetElemById)("didyoumean-txt").text(a.did_you_mean);t.data("didyoumean",a.did_you_mean).addClass("active didyoumean")}else{t.addClass("active invalid")}}};var s=function e(t){o.default.captureMessage("Mailgun error: ".concat(t))};if(t.length>0&&n.length>0){u({$fields:n,onSuccess:r,onError:s});t.find(".didyoumean-close").on("click",(function(e){e.preventDefault();if((0,a.default)(e.currentTarget).hasClass("accept")){n.val(t.data("didyoumean"))}t.removeClass("active");n.removeClass("email-invalid")}))}}},352:function(e,t,n){"use strict";var a=n(0);var r=n(13);var i={};i.autorefresh=function(){var e=[];var t=3e4;var n="reloading";var r;var i=function t(r){r=r||0;var i=e[r];var s=i.find(".refreshable").data();var l={page_key:s.pageKey,component_key:s.componentKey,version:window.VERSIONS[s.pageKey]||1};i.addClass(n);a.get(s.url,l).fail((function(){i.removeClass(n).addClass("error")})).then((function(a){for(var s in a.actions){window.vkey.handle(a.actions[s],s)}i.removeClass(n);if(r==e.length-1){o()}else{t(r+1)}}))};var o=function e(){setTimeout(i,t)};return function(t){e.push(t);clearTimeout(r);r=setTimeout(o,100)}}();e.exports=i},354:function(e,t,n){"use strict";var a=v(n(0));var r=v(n(2));var i=n(7);var o=n(1);var s=n(6);var l=p(n(9));var u=n(8);var c=n(23);var d=n(11);var f=n(108);n(652);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function v(e){return e&&e.__esModule?e:{default:e}}var h={};h.subtopic=function(e){var t=e.data();var n=(0,a.default)(".prac-subtopic");var i=n.filter(".expanded");if(i.length){r.default.defer((function(){s.Anchors.scrollToTarget(i)}))}e.find(".prac-subtopic .trigger").on("click",(function(){var e=(0,a.default)(this).parents(".prac-subtopic");e.toggleClass("expanded");if(e.hasClass("expanded")){var t=e.data("subtopic-slug");var n=window.location.pathname+"?subtopic="+t;var r={subtopic:t};try{window.history.replaceState(r,"",n)}catch(e){}}else{try{window.history.replaceState({},"",window.location.pathname)}catch(e){}}}))};h.quizWikiFilter=function(e){var t=e.find(".btn-group, .btn-tabs"),n=t.children(),r="active",i="";n.each((function(){i+=(0,a.default)(this).data("type")+" "}));n.on("click",(function(){var t=(0,a.default)(this),o=t.data("type");if(!t.hasClass(r)){n.removeClass(r);t.addClass(r);e.removeClass(i).addClass(o)}}))};h.trackExplorationsComingSoon=function(e){var t=e.data();var n=t.topicSlug;var a=t.chapterSlug;var r;var o;if(n){r="clicked_exploration_topic_coming_soon";o=n}else{r="clicked_exploration_chapter_coming_soon";o=a}e.on("click",(function(){(0,i.track)("ui",{action:"click",element_type:"link",element_id:r,target:o})}))};h.wikiListing=function(e){r.default.defer((function(){var t=e.height();while(e.width()<e[0].scrollWidth||e.height()<e[0].scrollHeight){t+=100;e.css({height:t})}}))};h.notifyComingSoon=function(e){var t=e.find("form");var n=false;var r=function r(){if(n===false){n=true;e.removeClass("with-form");a.default.post(t.prop("action")).fail(c.errorModalHandler).fail((function(){n=false;e.addClass("with-form")}))}};t.on("submit",(function(e){e.preventDefault();r()}));e.on("click",r)};h.explorationsNav=function(e){e.find(".courses-item").on("click",(function(){var e=(0,a.default)(this);var t=e.data();var n={action:"click",element_id:"clicked_course_card",nux_step:!!l.getParamsObject().tour,course_id:t.id,course_name:t.name,course_difficulty:t.difficulty,course_recommended:t.recommended,course_recent:t.recent,course_category:e.parents(".courses-category").find(".courses-category-name").text().trim(),course_category_number:e.parents(".courses-item-wrapper").index()+1};if(t.recommendedType){n.course_recommended_type=t.recommendedType}(0,i.track)("ui",n)}));if(o.isMobile){return}var t=null;var n=e.data("sidebarLinks")||"#nav-exploration-categories a";var u=(0,a.default)(n);var c=function n(){var r=(0,a.default)(this);var i=r.data("category");var s=e.data("offset")||40;if(t){r.data("previous-category",t)}t=i;var l=function e(t){var n="active";var a;var i;if(t==="down"){a=r.data("category");i=window.location.pathname+window.location.search+"#"+a}else{a=r.data("previous-category")||null;i=window.location.pathname+window.location.search;if(a){i+="#"+a}}u.removeClass("active");if(a){var s=u.filter("[data-subcategory="+a+"]");if(s.length){s.addClass(n);s.parents("ul").siblings("a").addClass(n)}else{u.filter("[data-category="+a+"]").addClass(n)}}else{(0,o.jqGetElemById)("exploration-sidebar-link").addClass(n)}try{window.history.replaceState({},"",i)}catch(e){}};new Waypoint({element:this,offset:r.is(":last-child")?"bottom-in-view":s,handler:l})};r.default.defer((function(){e.find("[data-category]").each(c)}));u.on("click",(function(t){t.preventDefault();var n=(0,a.default)(t.currentTarget);var r=function e(){u.removeClass("active");n.addClass("active");n.parents("ul").siblings("[data-category]").addClass("active");n.siblings("ul").find("[data-subcategory]").first().addClass("active")};s.Anchors.scrollToTarget(e.find("#".concat(n[0].href.split("#")[1])),r)}))};h.quizSidebarDropup=function(e){var t=(0,a.default)(".course-quiz-sidebar");var n=(0,a.default)(".codex-expand-toggle");e.on("open",(function(){n.filter(".active").click();t.addClass("above-quiz-content")})).on("close",(function(){t.removeClass("above-quiz-content")}))};vkey.explorations_chapter_paywall=function(e,t){vkey.handle(e,t)};h.saveForLater=function(e){var t=e.find("button");var n=e.parent().find("#first-time-save-modal");var r=function e(){if(t.hasClass("saved")){t.on("mouseenter",(function(){t.find("b").html("Remove")})).on("mouseleave",(function(){t.find("b").html("Saved")}))}else{t.off("mouseenter mouseleave")}};r();t.on("click",(function(i){i.preventDefault();a.default.post(e.attr("action"),e.serialize(),(function(a){t.toggleClass("saved");r();if(a.saved){t.html("<b>Saved</b>");e.prop("form_action").value="unsave"}else{t.html("Save");e.prop("form_action").value="save"}if(a.show_first_time_modal){n.modal()}}))}))};e.exports=h},355:function(e,t,n){"use strict";var a=u(n(0));var r=u(n(34));var i=u(n(13));var o=n(1);var s=l(n(30));function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function u(e){return e&&e.__esModule?e:{default:e}}var c={};var d=function e(){p();C()};var f=function e(t){(0,a.default)(this).parents("form").trigger("submit")};var p=function e(t){t=t||(0,a.default)("#profile,#prof-sidebar");var n=t.find(".multi .close"),o=t.find(".input").find("select,input[type=radio]"),s=t.find(".input.longtext form"),l=t.find(".input input[name=value]");(0,r.default)(t.find("textarea"));n.off("click");n.on("click",(function(e){e.preventDefault();var t=(0,a.default)(this);t.parents(".item").css({opacity:.5});(0,i.default)("assessment").form(t.parents("form").get(0),{remove:t.data("value")||""})}));s.off("submit.saving").on("submit.saving",(function(e){e.preventDefault();(0,a.default)(this).find("button[type=submit]").addClass("disabled").text("Saving...")}));s.each(v);l.off("blur.blur_force_submit");l.on("blur.blur_force_submit",f);l.off("keydown.enter_listen");l.on("keydown.enter_listen",(function(e){if(e.which===13){e.preventDefault();f.call(this)}}));(0,a.default)("a.add_or_edit_item").on("click",(function(e){e.preventDefault();var t=(0,a.default)(this).data("name");(0,a.default)("#view_"+t+"_hider").hide();(0,a.default)("#edit_"+t+"_hider").show();(0,a.default)("#edit_"+t+"_hider").find("input[type=text], textarea").focus()}));t.find(".multi.display").each((function(){var e=(0,a.default)(this);if(e.height()<this.scrollHeight){e.addClass("scrollable")}}));t.find(".multi .add").on("click",(function(e){e.preventDefault();(0,a.default)(this).hide().parents(".multi").find("input[type=text]").show().trigger("focus")}));t.find('[data-provide="typeahead"]').each(h);(0,a.default)(".click_to_answer_trigger").on("click",(function(e){e.preventDefault();var t=(0,a.default)(this);t.closest(".input").find(".click_to_answer_section").show();t.hide()}));o.off("change");o.on("change",f);b(t);g(t);y(t)};var v=function e(){var t=(0,a.default)(this),n=t.find("textarea:last");if(!t.hasClass("added-counter")){t.addClass("added-counter");var r='<div class="counter"><span></span> [type]s left</div>',i=n.data(),o=i.wordLimit||null,s=/[\s\.,]+/,l=null;var u=function e(n){t.find(".footer").prepend(n)};if(o!==null){u(r.replace("[type]","word"))}else if(i.charLimit>0){u(r.replace("[type]","character"));o=i.charLimit||140;s=""}else{o=400;u(r.replace("[type]","word"))}l=t.find(".counter span");var c=function e(){var t=n.val().length>0?a.default.trim(n.val()).split(s).length:0;t=o-t;l.parent().toggleClass("over",t<0);l.text(t)};c();n.on("keyup",c)}};var h=function e(){var t=(0,a.default)(this),n=t.parents("form");if(t.data("source").length>0){t.off("blur").off("keydown.enter_listen");t.on("blur",(function(e){e.preventDefault();var t=(0,a.default)(this);t.data("typeahead").select();t.data("has_blurred",false);n.trigger("submit")}));t.off("menued");t.on("menued",(function(e){t.next(".save-new").remove()}));t.off("unmenued");t.on("unmenued",(function(e){t.off("keyup.unmenued").on("keyup.unmenued",(function(){m(t)}));m(t,true)}));n.off("submit");n.on("submit",(function(e){e.preventDefault();var t=(0,a.default)(this);clearTimeout(n.data("prof-timeout"));n.data("prof-timeout",setTimeout((function(){(0,i.default)("assessment").form(t.get(0),{remove:"",value:t.find("input[name=value]").val()})}),10))}));t.off("change");t.on("change",(function(e){n.trigger("submit")}))}};var m=function e(t,n){n=n||false;if(t.val().length===0){t.next(".save-new").hide();return}var a=t.data("new-item-text")||null;if(t.next(".save-new").length>0){t.next(".save-new").text(a.replace("[newtag]",'"'+t.val()+'"')).show()}else{if(n&&a!==null){t.after('<a href="#" class="save-new">'+a.replace("[newtag]",'"'+t.val()+'"')+"</a>");t.next(".save-new").on("click",(function(e){e.preventDefault()}))}}};function g(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:o.$body;var t=e.find(".auto-prompt"),n=e.find(".auto-prompt-cancel"),r=t.first().data("prompts");if(r&&r.length>0){r=r.split(/\|/g);t.each((function(){var e=(0,a.default)(this),t=e.parents(".prompt"),n=t.find("input,textarea");n.data("orig-value",n.val());if(e.data("inited")!==true){e.data("inited",true);e.on("click",(function(t){t.preventDefault();var a,i=n.val(),o=i;while(o==i){a=Math.floor(Math.random()*(r.length-0));o=r[a]}e.removeClass("active");e.siblings(".auto-prompt-cancel").addClass("active");n.val(o);n.change()}))}}));n.each((function(){var e=(0,a.default)(this),t=e.parents(".prompt"),n=t.find("textarea");e.on("click",(function(t){t.preventDefault();e.removeClass("active");e.siblings(".auto-prompt").addClass("active");n.val(n.data("orig-value"));n.change()}))}))}else{t.hide()}}function y(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:o.$body;var t=e.find(".free-resp-edit").not(".inited");t.on("click",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget).parents(".prof-field");t.toggleClass("editing");t.find(".label-input").trigger("autosize.resize")}));t.addClass("inited")}var _=function e(){var t=(0,a.default)("#prof-status");if(t.length>0&&t.hasClass("editable")&&t.data("inited")!==true){t.data("inited",true);var n=t.find(".edit-status"),r=(0,a.default)("#status-form"),i=(0,a.default)("#status-input"),o=(0,a.default)("#clear-status");n.on("click",(function(e){e.preventDefault();t.addClass("editing");i.focus()}));o.on("click",(function(e){e.preventDefault();i.val("");t.removeClass("editing")}));r.on("submit",(function(){t.addClass("saving")}));i.on("keydown",(function(e){if(e.which===27){i.val("");t.removeClass("editing")}}))}};var b=function e(t){var n=".multiline";t=t.find(n)||(0,a.default)(n);if(t.length>0){t.each(w)}};var w=function e(){var t=(0,a.default)(this);if(t.data("inited")!==true){t.data("inited",true);var n=t.find(".edit"),r=t.find(".btn-cancel"),o=t.find("form");n.on("click",(function(e){e.preventDefault();t.addClass("editing");t.find("input:first").focus()}));r.on("click",(function(e){e.preventDefault();t.removeClass("editing")}));o.on("submit",(function(e){e.preventDefault();t.addClass("saving");o.attr("disabled","disabled").addClass("disabled");o.find(".btn").attr("disabled","disabled").addClass("disabled");(0,i.default)("profile_profile").form((0,a.default)(this).get(0))}))}};var k=["profile_interests","profile_languages","profile_skills","profile_competitions"];var C=function e(){var t=(0,a.default)("#prof-empty");if(t.length>0){var n=0,r=k.length,i=true,o=(0,a.default)("#multi-entries"),s;for(n;n<r;n++){s=(0,a.default)("#cmp_"+k[n]+"_id").clone();s.find(".debug_component_info").remove();if(s.text().replace(/\s|\n/g,"").length>0){i=false;break}}if(i){t.show();o.hide()}}};var x=function e(t){if(t.children().length===0){t.hide()}};function E(){(0,a.default)("#see-prof-fields").removeClass("dim").on("click",(function(e){e.preventDefault();(0,a.default)(this).toggleClass("active");var t=(0,a.default)("#hidden-prof-fields"),n=t.hasClass("active");t.toggleClass("active",!n);t.toggle(!n)}))}function I(){(0,a.default)("[id*=cmp_]").not(".nf-modal-content").not(".nf-set-modal-content").each((function(){var e=(0,a.default)(this);if(e.children().length===0){e.hide()}}))}c.onload=function(){d();_();I();if(o.isMobile){E()}};c.privacyBanner=function(e){var t=function e(){return new Promise((function(e){s.update("viewed_privacy_banner",true,e)}))};e.find("a").on("click",(function(e){e.preventDefault();t().then((function(){window.location.href=e.currentTarget.href}))}));e.find("button").on("click",(function(){t();e.hide()}))};window.vkey.profile_stats_sidebar=function(e,t){var n=vkey.handle(e,t);n.find(".upvotes").tooltip();x(n)};var T=function e(t,n){var a=vkey.handle(t,n);d(a);_();if(a.find(".error").length===0){var r=a.find(".saved:not(.animating)");if(r.length>0){r.addClass("animating");r.fadeIn(200).delay(3e3).fadeOut(200).removeClass("animating")}}a.find("input:not([type=submit]):not([type=radio]):visible:first").focus();x(a)};var O=function e(t,n){T(t,n);C()};window.vkey.profile_about=T;window.vkey.profile_free_response_1=T;window.vkey.profile_free_response_2=T;window.vkey.profile_free_response_3=T;window.vkey.profile_high_school=T;window.vkey.profile_college=T;window.vkey.profile_company=T;window.vkey.profile_status_msg=T;window.vkey.profile_interests=O;window.vkey.profile_languages=O;window.vkey.profile_competitions=O;window.vkey.profile_skills=O;e.exports=c},356:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.sidebar=E;t.addPost=I;t.postsList=T;t.commentsList=O;t.changeReportVisibility=S;var a=p(n(0));var r=p(n(2));var i=n(1);var o=p(n(34));var s=n(6);var l=n(181);var u=n(8);var c=f(n(45));var d=n(139);n(65);function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function p(e){return e&&e.__esModule?e:{default:e}}var v=0;var h=1;var m=2;var g=3;var y=10;var _=11;var b=false;function w(e){e.find(".discsol-post-wrapper").each((function(e,t){(0,d.showCommentsForSolution)((0,a.default)(t),true)}))}function k(e,t){var n=(0,i.jqGetElemById)("".concat(e,"-wrapper"));var a=n.find(".qanda-add-form header:visible");var r=t===y?n.find("#".concat(e,"-add-form textarea")):n.find("#".concat(e,"-list .discsol-list"));var o="";if(a.length){o=a.outerHeight()}r.css({top:o})}function C(e,t){var n=e.data("prefix");var r="add-question";var i="add-question-success";var o="free-trial";switch(t){case v:e.removeClass("".concat(r," ").concat(i)).addClass(o);break;case h:e.removeClass(i).addClass(r);(0,a.default)("#qanda-add-form textarea").select();k(n,y);break;case m:e.removeClass(r).addClass(i);k(n,_);break;case g:e.removeClass("".concat(r," ").concat(i," ").concat(o));k(n,_);break;default:throw new Error("Unexpected Q&A sidebar state: ".concat(t))}}function x(e,t){if(b){return}var n=e.data(),a=n.commentsSlug,r=n.commentsCmpKey;var o=new RegExp("^#!\\/".concat(a,"\\/(\\d+)\\/?(\\d+)?\\/?$"));var s=window.location.hash.match(o);if(s){var l=s[1];var c=s[2];var d=e.find(".discsol-list");var f=null;var p=null;var v=function e(){var t=f||p;if(t){var n=d.offset().top;var a=t.offset().top;var r=d.height();var o=t.height();if(a+o-n-r>0){(0,i.setScrollPosition)(a-n-50,{$container:d})}}};var h=function e(t){var n="highlight";if(t.data(n)!==true){t.addClass(n);setTimeout((function(){return t.removeClass(n)}),3e3);t.data(n,true)}};if(l&&!c){var m=(0,i.jqGetElemById)("post-".concat(l));if(m){f=m;setTimeout((function(){return h(m)}),500);v()}}i.$window.on("".concat(u.EVT_VKEY_AFTER_UPDATE,".").concat(r),(function(e){var t=e.$cmp;if(c){var n=t.find("[data-comment=".concat(c,"]"));if(n.length){p=n;if(!n.is(":visible")){t.find(".cmmnt-container.level-0").addClass("show-all-replies")}h(n)}}v()}));setTimeout(t);b=true}}function E(e){var t=e.data("prefix");var n="qanda-active";var r=e.data("target");var o=e.data("show-free-trial");var d=t==="course-feedback";var f=t==="content-reports";var p=e.data("hide-questions");var m=e.find(".discsol-post").length===0&&(0,i.jqGetElemByCmpName)("qanda_questionadd").length===0;var y=!d&&!f&&(p||m);var _=function t(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(a===true){e.removeClass("in");e.addClass("hide")}else{e.one("transitionend",(function(){return e.addClass("hide")}));e.removeClass("in")}i.$body.removeClass(n);i.$body.off(u.EVT_QUIZ_POSITION_WILL_CHANGE);(0,s.crop)(false)};var b=function r(){e.removeClass("hide");i.$body.addClass(n);(0,s.crop)();var p=e.find("#".concat(t,"-add-form textarea"));if(o){C(e,v)}else if(y||p.length&&p.val().length>0){C(e,h)}else if(d||f){C(e,g)}(0,l.hideBranchBanner)();setTimeout((function(){e.addClass("in");e.one("click",_);var t=e.find('.cmp-deferred[data-cmp_component_key="contentreports_postlist"]');if(f&&t.length){var n={};if((0,a.default)(".solv-details").hasClass("endstate")){n.solver_viewing=true}c.load(t,n)}else{w(e)}i.$body.on(u.EVT_QUIZ_POSITION_WILL_CHANGE,(function(){return _(true)}))}))};e.find(".close").not(".modal .close").on("click",_);e.find("#".concat(t,"-non-pro-premium-trigger-").concat(r)).on("click",(function(t){t.preventDefault();e.removeClass("free-trial");if(y){C(e,h)}else{C(e,g)}}));(0,i.jqOffOn)(i.$body,"click.".concat(t),"#".concat(t,"-trigger-").concat(r),b);e.children().on("click",(function(t){t.stopPropagation();e.find(".dropdown, .dropup").removeClass("open")}));e.find("[data-toggle=dropdown]").dropdown();if(!y){x(e,b)}}function I(e){var t=e.data(),n=t.prefix,r=t.success;var o=(0,i.jqGetElemById)("".concat(n,"-wrapper"));var s=(0,i.jqGetElemById)("".concat(n,"-add-form"));var l=s.find("textarea");var u=s.find("button");var c=0;var d=function e(){if(l.length===0){return}var t=l.val().length;if(t>0&&c===0){s.prop("disabled",false);u.prop("disabled",false)}else if(t===0&&c>=0){s.prop("disabled",true);u.prop("disabled",true)}c=t};l.on("input",d);if(i.isMobile){l.on("focus",(function(){return i.$body.scrollTop(0)}))}s.on("submit",(function(){setTimeout((function(){return s.trigger(a.default.Event("autosave.clear"))}))}));(0,i.jqGetElemById)("".concat(n,"-back")).on("click",(function(){if(n==="qanda"&&o.data("show-free-trial")){C(o,v)}else{C(o,g)}}));if(r===true){C(o,m)}else{k(n,y);l.select()}d()}function T(e){var t=e.data("prefix");if(e.is(":visible")){w(e)}e.find("[data-toggle=dropdown]").dropdown();(0,i.jqGetElemById)("".concat(t,"-add-post-trigger")).on("click",(function(e){var n=(0,a.default)(e.currentTarget).data("paywall");if(n){window.location.href=n}else{C((0,i.jqGetElemById)("".concat(t,"-wrapper")),h)}}));k(t,_);e.find(".staff-details-link").on("click",(function(e){var t=(0,a.default)(e.currentTarget);var n=t.closest(".discsol-post").find(".staff-details");var i="click.contentReportsStaffDetails";e.preventDefault();n.toggleClass(u.CLASS_NAME_HIDE);if(!n.hasClass(u.CLASS_NAME_HIDE)){r.default.defer((function(){(0,a.default)(".qanda-sidebar").on(i,(function(e){if((0,a.default)(e.target).closest(".staff-details").length===0){t.trigger("click")}}))}))}else{(0,a.default)(".qanda-sidebar").off(i)}}));e.find(".canned-response-template-trigger").on("click",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget);var n=t.parents(".qanda-question").find(".qanda-add-comment-trigger");var r=(0,i.jqGetElemById)(n.data("target"));var l=r.find(".top-level-comment-form").find("textarea#id_text_");var u=function e(){n.parent().addClass("hide");r.removeClass("hide")};var c=function e(n){l.val(n).trigger(a.default.Event("input"));t.closest(".discsol-post").find(".staff-details-link").trigger("click")};if(!n.parent().hasClass("hide")){u()}(0,o.default)(l);if(l.length===0){(0,s.showGenericModal)("You can only used canned response on the first reply.")}else if(l.val()){(0,s.showConfirmationModal)({title:"Overwrite reply?",text:"You have a current reply drafted already, are you sure you want to overwrite it?",cancelBtnText:"No",confirmBtnText:"Yes, overwrite"}).then((function(e){if(e){c(t.data("text"))}}))}else{c(t.data("text"))}}))}function O(e){var t=e.find(".qanda-add-comment-trigger");var n=function e(){t.parent().addClass("hide");(0,i.jqGetElemById)(t.data("target")).removeClass("hide")};t.on("click",n);e.find("[data-toggle=dropdown]").dropdown();if(e.find(".errorlist").length){n()}}function S(e){var t=e.data();var n=e.closest(".modal");e.on("click",(function(e){e.preventDefault();n.modal("hide");(0,s.showConfirmationModal)({title:t.confirmModalTitle}).then((function(e){if(e){var a=(0,i.jqGetElemById)("post-".concat(t.reportId));var r=a.find(".make-visible-to-".concat(t.visibilityType));r.trigger("submit")}else{n.modal("show")}}))}))}},357:function(e,t,n){"use strict";var a=y(n(0));var r=y(n(2));var i=y(n(34));var o=y(n(13));var s=n(7);var l=n(1);var u=n(6);var c=g(n(9));var d=n(8);var f=n(11);var p=n(37);var v=n(108);var h=y(n(83));var m=n(71);function g(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function y(e){return e&&e.__esModule?e:{default:e}}var _={};_.recommendConceptQuiz=function(e){var t=e.data("recommended-quiz");(0,l.jqGetElemById)("concept-quiz-".concat(t)).addClass("recommended")};var b=null;function w(){(0,l.jqOffOn)(b.$trigger,"click.quizendstate",(function(){var e=b.originalController;e(b.$container,b.$trigger)}))}function k(e){return function t(n){r.default.defer((function(){var t=(0,l.jqGetElemById)("endstate-trigger-btn");if(t.length){b={$trigger:t,$container:n,originalController:e}}if(b===null||!b.$trigger.length){return}if(t.data("show-immediately")){e(n,t)}w()}))}}var C=function e(t,n){if(!t.length){return null}var a=r.default.template(t.data("tmpl"));var i=(new Date).getTime();var o=10;var s=setTimeout((function(){s=setInterval((function(){var e=Math.round(((new Date).getTime()-i)/1e3);var r=o-e;t.text(a({s:r}));if(r<=0){clearInterval(s);n(t)}}),250)}),500);return{stop:function e(){clearInterval(s);clearTimeout(s)},reset:function e(){t.text(a({s:o}))}}};function x(e){var t=e.find(".content");var n=function e(){if((0,u.getScrollHeight)(t)>t.outerHeight()){t.addClass("scrollable")}};t.find("img").on("load",n);n()}_.endstateModal=k((function(e){e=e.clone(true);var t;var n=e.data();var i=function t(){if(n.nextAction==="paywall"){e.addClass((0,l.supportsAnimation)()?"flipped":"force-flipped");a.default.get(n.nextUrl,{element_id:"clicked_b2_next_quiz",target_object_id:n.targetObjectId,target_object_type:"quiz",target_object_referrer:encodeURIComponent(window.location.pathname+window.location.search)})}else{window.location.href=n.nextUrl}};t=C(e.find(".countdown span"),i);if(t){e.on("hide",(function(){t.stop();t.reset()}));e.find("a,button").on("click",t.stop)}e.find(".flip").on("click",i);e.on("show",(function(){r.default.defer((function(){e.parent().addClass("b2-endstate-modal-backdrop");x(e)}))}));e.modal();(0,s.setAnalyticsEvents)(e)}));_.endstateTakeover=k((function(e){if(e.parents(".course-quiz-wrapper").length===0){(0,a.default)(".course-quiz-wrapper").find(".prac-solvable").append(e)}e.parents(".course-quiz-wrapper").addClass("show-quiz-endstate");if(l.isMobile){(0,l.setScrollPosition)(0)}(0,v.twinklingStars)(e.find(".endstate"));C(e.find(".countdown span"),(function(){var t=e.data("next-url");if(t){window.location.href=t}}))}));_.preemptiveWiki=function(){var e=false;return function(t){if(e){return}var n=t.data("ax-prefix");var a=(0,l.jqGetElemById)("quiz-wrapper").data("set-number");var r=function e(t){return function(){(0,s.track)("ui",{action:"modal",element_type:"modal",element_id:"".concat(n,"_").concat(t),path:window.location.pathname,full_path:window.location.pathname+window.location.search})}};var i=t.find("a");i.attr("href",c.appendGetParam(i.attr("href"),"sn",a));t.on("show",r("displayed"));t.on("hide",r("closed"));t.modal();e=true}}();_.editablePane=function(e){var t=e.find(".pane-edit-trigger");var n=e.find(".pane-cancel-editing");var r=e.find(".pane-save-trigger");var s=e.find(".pane-preview-trigger");var c=e.find('[name="preview"]');var f=e.hasClass("is-previewing-pane");var v=function e(t){c.val(t.toString())};if(t.length===0){t=(0,a.default)(".pane-edit-trigger")}t.on("click",(function(t){t.preventDefault();e.toggleClass("editing");v(true);var n=e.find("textarea");(0,p.mentionsAndWikiLinks)(n);(0,i.default)(n)}));n.on("click",(function(t){t.preventDefault();if(f){var n=e.data();(0,u.showConfirmationModal)({title:n.cancelConfirmText}).then((function(e){if(e){var t=n.cmpUrl,a=n.cmpKey,r=n.pageKey,i=n.paramKey;l.$body.data(d.CMP_RELOADING_FLAGS.PANE,true);(0,o.default)(r).get(t,{component_key:a,param_key:i})}}))}else{e.toggleClass("editing")}}));r.on("click",(function(t){var n=c.val()==="false";if(!n){var a=e.data();t.preventDefault();(0,u.showConfirmationModal)({title:a.saveConfirmText}).then((function(e){if(e){v(false);r.parents("form").trigger("submit")}}))}}));s.on("click",(function(){v(true)}))};_.replaceContinueButton=function(e){if(b!==null){w();e.find(".solv-done-btn, .btn-next").filter(":visible").replaceWith(b.$trigger.clone(true))}};e.exports=_},359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.navigation=a;function a(e){var t=e.find("a");t.on("click",(function(){t.toggleClass("active")}))}},36:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.preventDefaultSubmitHandler=l;t.initAutosubmit=u;var a=o(n(0));var r=o(n(13));var i=n(1);function o(e){return e&&e.__esModule?e:{default:e}}var s=['[action*="account/"]','[action*="avatar/"]'];function l(e){e.each((function(e,t){var n=(0,a.default)(t);var r=[];var o=[];var s=a.default._data(t),l=s.events;if(l){o=l.submit||[];o=o.slice(0)}if(t.onsubmit){r.push(t.onsubmit)}o.forEach((function(e){r.push(e.handler)}));var u=function e(t){var a=t.target;var o=!!(t.isDefaultPrevented&&t.isDefaultPrevented());var s=false;r.forEach((function(e){try{a.next_handler=e;if(a.next_handler(t)===false){s=true}}catch(e){}}));if(!s&&!o){(0,i.jqOffOn)(n,"submit",(function(e){e.preventDefault()}));(0,i.jqOffOn)(i.$window,"pageshow.auto_disable",(function(t){if(t.originalEvent.persisted){(0,i.jqOffOn)(n,"submit",e)}}))}return!s};t.onsubmit=function(){};(0,i.jqOffOn)(n,"submit",u)}))}function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:i.$body;if(window.django){return}e.find("form").each((function(e,t){var n=(0,a.default)(t);if(n.is(":not(.disable-auto-submit, ".concat(s.join(","),")"))){(0,i.jqOffOn)(n,"submit.auto_submit",(function(e){e.preventDefault();(0,r.default)("assessment").form(e.currentTarget)}));if(n.not(".disable-submit-auto-disabling")){l(n)}}}))}},360:function(e,t,n){"use strict";var a=u(n(0));var r=u(n(2));var i=n(1);var o=n(23);var s=u(n(230));var l=u(n(231));function u(e){return e&&e.__esModule?e:{default:e}}var c={};var d={ratingsGraph:l.default};var f=null;function p(e){f=f||(0,i.jqGetElemById)("stats-topic-links");f.toggleClass("disabled",e)}var v=function e(t,n){var r=t.data("source")||null;a.default.get(r).then(n).fail((function(e){(0,o.errorModalHandler)(e);t.find(".spinner").hide();p(false)}))};c.graph=function(){var e=[];(0,i.jqOffOn)(i.$window,"resize",r.default.debounce((function(){e.forEach((function(e){return e()}))}),200));var t=(0,i.jqGetElemById)("stats-webview-wrapper").data("is-webview");return function(n){p(true);v(n,(function(a){setTimeout((function(){var r=(0,i.jqGetElemById)("stat-empty");var o=(0,i.jqGetElemById)("stat-btn-filters");if(a.ratings_correct_incorrect_over_time.length===0){r.show();o.hide();n.find(".spinner").hide()}else{var s=d[n.data("graph")];a.isWebview=t;r.hide();o.show();s.render(n,a,true);e.push((function(){s.clean(n);s.render(n,a)}))}p(false)}),200)}))}}();c.graphTopicSwitcher=function(e){f=f||(0,i.jqGetElemById)("stats-topic-links");var t=f.find("a");var n=(0,i.jqGetElemById)("stats-topic-name");var r=(0,i.jqGetElemById)("canvas");var o=e.data();var s="current";e.modal({show:false});function l(a,o){if(a===null&&i.isMobile){e.modal("show");i.$window.trigger("resize");return}t.removeClass(s);t.filter('[data-topic-name="'.concat(a.topicName,'"]')).addClass(s);r.find(".cleanable").html("");r.find(".spinner").show();r.data("source",a.topicDataUrl);n.text(a.topicName);(0,i.jqGetElemById)("stat-empty").hide();if(i.isMobile){e.modal("show")}c.graph(r);if(o!==true){try{window.history.pushState(a,null,a.href)}catch(e){}}}t.on("click",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget);if(t.hasClass(s)||f.hasClass("disabled")){if(i.isMobile){l(null)}return}var n=t.data();n.href=t.attr("href");l(n)}));if(!i.isMobile){i.$window.on("popstate",(function(e){var t=e.originalEvent.state;if(t&&t.href!==window.location.href){l(t,true)}else if(!t){l(o,true)}}))}};c.exampleGraphModal=function(){var e=(0,i.jqGetElemById)("stats-topic-links").find("a");var t=(0,i.jqGetElemById)("stat-graph-container");var n=(0,i.jqGetElemById)("canvas");t.modal({show:false});e.on("click",(function(e){e.preventDefault();t.modal();var a=d[n.data("graph")];a.clean(n);c.exampleLineGraph(n)}))};c.exampleLineGraph=function(e){var t=d.ratingsGraph;t.render(e,s.default);(0,i.jqOffOn)(i.$window,"resize",r.default.debounce((function(){t.clean(e);t.render(e,s.default)}),200))};c.attemptPunchcard=function(e){var t=e.find(".clickable");var n=(0,i.jqGetElemById)("attempt-table");var s=(0,i.jqGetElemById)("attempt-table-content");var l=(0,i.jqGetElemById)("attempt-table-date");var u=n.find(".btn");var c=r.default.template((0,i.jqGetElemById)("attempt-table-row").text());var d=null;if(i.isMobile){e.find(".calendar").scrollLeft(1500)}if(t.length===0){(0,i.jqGetElemById)("stat-punchard-nodata").show();return}t.on("click",(function(e){var r=(0,a.default)(this);if(!r.hasClass("active")){var f=r.data();if(d!==null){d.abort()}t.removeClass("active");r.addClass("active");u.addClass("hide");n.removeClass("hide");s.html('<tr><td colspan="4"><span class="spinner"></span></td></tr>');l.text(f.date);d=a.default.ajax({url:f.details});d.fail(o.errorModalHandler).then((function(e){d=null;var t=e.details.map((function(e){e.r=(0,i.commaFormat)(e.r);return c(e)})).join("");s.html(t);u.removeClass("hide")}))}}))};e.exports=c},361:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toggleFeatured=d;t.loadMore=f;var a=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}var i="active";var o=1;var s=(0,a.default)("a.active").text().toLowerCase();var l=(0,a.default)(".testimonials-reviews ul");var u=(0,a.default)(".testimonials-reviews a.load");var c=function e(t){t.page_key="flatpage_testimonials";t.version=1;a.default.get("/testimonials/",t).done((function(e){var n=(0,a.default)(e.actions.flatpage_testimonials.new_html);if(t.page===1){l.html(n.find("li"))}else{l.append(n.find("li"))}u.toggle(n.filter("a.load.hidden").length===0)}))};function d(e){var t=e.parent().find("a");e.click((function(n){n.preventDefault();if(!e.hasClass(i)){o=1;s=e.text().toLowerCase();c({view:s,page:o});t.removeClass(i);e.addClass(i)}}))}function f(e){e.toggle(!e.hasClass("hidden"));e.click((function(e){e.preventDefault();o+=1;c({view:s,page:o})}))}},362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.loggedOut=l;var a=s(n(0));var r=n(1);var i=o(n(27));function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function s(e){return e&&e.__esModule?e:{default:e}}function l(){var e=(0,r.jqGetElemById)("lvllist").find(".lvl");var t=(0,r.jqGetElemById)("lvlcontent").find(".lvl");var n=t.find(".selectors a");var o="active";var s=".".concat(o);e.on("click",(function(n){n.preventDefault();var r=(0,a.default)(n.currentTarget);if(!r.hasClass(o)){e.filter(s).removeClass(o);r.addClass(o);t.filter(":visible").hide();var l=t.eq(r.index()+1);if(typeof MathJax!=="undefined"){i.updateMathjax(l);l.show()}else{l.css({visibility:"visible"}).show()}}}));n.on("click",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget);if(!t.hasClass(o)){var n=t.parents(".lvl").find(".problem");var r=n.eq(t.index());t.siblings(s).removeClass(o);t.addClass(o);n.filter(":visible").hide();if(typeof MathJax!=="undefined"){i.updateMathjax(r);r.show()}else{r.css({visibility:"visible"}).show()}}}));var l=window.location.hash||null;if(l!==null){var u=parseInt(l.replace(/[#!/]/g,""),10)||null;if(u!==null){window.location="/levels/".concat(u,"/")}}else{try{var c=window.location.pathname.match(/\/levels\/([^/]*)/)[1];if(c){e.filter(".lvl").eq(c-1).trigger("click")}}catch(e){}}}},363:function(e,t,n){"use strict";var a=y(n(0));var r=y(n(2));var i=y(n(34));var o=y(n(95));var s=y(n(13));var l=n(7);var u=g(n(126));var c=n(8);var d=g(n(45));var f=n(1);var p=g(n(27));var v=y(n(127));var h=n(6);var m=n(37);function g(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function y(e){return e&&e.__esModule?e:{default:e}}var _={};var b;var w;var k;var C=function e(t){if(!w){w=(0,f.jqGetElemById)("outdated-wiki-modal")}r.default.defer((function(){t.find("textarea").on("input",r.default.once((function(){var e=t.data(),n=e.autosaveUser+"_"+e.autosaveKey,r=u.getEditHash(n);var i=function t(){a.default.get(e.hashUrl).then((function(e){if(e.summary_hash&&e.summary_hash!=r){w.modal();u.discardEdit(n);clearTimeout(b)}}));b=setTimeout(t,3e4)};i()})))}));w.find(".discard-btn").on("click",(function(){window.location.reload()}))};var x=function e(t){var n=t.parents("form"),r=n.find(".preview-button");var i=function e(){if(n.hasClass("summary-text-editor")){(0,a.default)(".wiki-main-column").removeClass("editing")}u.discardEdit(s);r.val("");n.submit()};if(b){if(!k){k=(0,f.jqGetElemById)("save-outdated-wiki-modal")}clearTimeout(b);var o=t.data(),s=o.autosaveUser+"_"+o.autosaveKey,l=u.getEditHash(s);a.default.get(o.hashUrl).then((function(e){if(e.summary_hash&&e.summary_hash!==l){k.modal()}else{i()}}));k.find(".save-btn").on("click",i)}else{i()}};var E=function e(t){if(t.hasClass("stuck")){var n=t.parent();t.css({width:n.width(),left:n.offset().left-f.$document.scrollLeft(),margin:0})}else{t.css({width:"",left:"",margin:""})}};_.editSummary=function(e){var t;if(e.data("is-logged-out")){t=function e(){(0,a.default)(".signup-modal").removeClass("hide")}}else{t=function e(){(0,a.default)(".wiki-main-column").addClass("editing");var t=(0,a.default)(".edit-summary-container").data();(0,s.default)(t.pageKey).get(t.url,{component_key:t.componentKey})};p.updateMathjax((0,a.default)(".summary"))}e.on("click",t)};var I=function e(t,n){var a=30;var r=30;var i=[];var o=false;var s;var u=function e(t){var n=0;t.forEach((function(e){n+=e}));return n/t.length};t.on("keydown.timecheck",(function(){s=(new Date).getTime()}));t.on("input.timecheck",(function(){if(s){var e=(new Date).getTime();if(i.length>=a){i.shift()}i.push(e-s);if(!o&&i.length>=a){var c=u(i);if(c>=r){o=true;t.off(".timecheck");(0,l.track)("ui",{element_id:"input_timings_wiki",path:window.location.pathname,input_timing_avg:Math.round(c),input_timing_content_length:t.val().length,input_timing_form_type:n,input_timing_threshold:r})}}}}))};_.editSummaryForm=function(e){var t=e.data();var n=t.isPreview,r=t.hasErrors,o=t.isUnchanged;var s=(0,a.default)(".wiki-main-column");var l=(0,f.jqGetElemById)("summary_text_editor");var u=l.find(".button-container");var c=l.find("textarea");var d=(0,f.jqGetElemById)("summary_text_preview");var g=d.find(".button-container");var y=e.find(".preview-button");var _=e.find(".cancel-button");var b=e.find(".edit-button");var w=e.find(".save-button");var k=function t(){(0,i.default)(c);(0,m.wikiLinks)(c,true);v.default.stick(u,{bottom:u.offset().top+e.outerHeight(),handler:E});I(c,"wiki_summary")};var T=function t(){(0,f.setScrollPosition)(0);p.updateMathjax(d);setTimeout((function(){v.default.stick(g,{bottom:g.offset().top+e.outerHeight(),handler:E})}),100);(0,m.wikiLinks)(c)};if(!n&&!r&&!o){k();C(l)}else if(n){T()}else if(o){s.removeClass("editing")}y.on("click",(function(){w.val("")}));_.on("click",(function(e){e.preventDefault();if(n){(0,h.showConfirmationModal)({title:t.cancelConfirmText}).then((function(e){if(e){s.removeClass("editing")}}))}else{s.removeClass("editing")}}));b.on("click",(function(){e.addClass("editing");(0,f.setScrollPosition)(0);k()}));w.on("click",(function(e){e.preventDefault();if(!n){(0,h.showConfirmationModal)({title:t.saveConfirmText}).then((function(e){if(e){x(l)}}))}else{x(l)}}))};_.editSection=function(e){var t=e.data();var n=t.id;var i=t.heading;var o=(0,f.jqGetElemById)("wiki-sidebar");var l=(0,f.jqGetElemById)("section-".concat(n));var u=l.find(".edit-section-container");var c=u.data();var d=(0,f.jqGetElemById)("edit-another-section-modal");var p=function e(){if(l.length&&o.length){var t=o.offset().top+o.outerHeight();if(l.offset().top<t){o.addClass("hide")}}l.addClass("editing");u.addClass("cmp_"+c.componentKey+"_id");(0,s.default)(c.pageKey).get(c.url,{component_key:c.componentKey,heading:i})};e.on("click",(function(){var e=(0,a.default)(".cmp_wiki_canonical_edit_section_id");if(e.length){var t=e.find("#id_old_heading").val();var n=r.default.template((0,f.jqGetElemById)("discard-changes-text").text());d.find(".modal-body").html(n({currentHeading:t,buttonHeading:i}));d.modal();d.find(".discard-btn").on("click",(function(){var e=(0,a.default)(".cmp_wiki_canonical_edit_section_id");var t=e.parent(".section");var n=t.prev(".skill-heading");e.removeClass("cmp_wiki_canonical_edit_section_id");t.removeClass("editing");n.removeClass("hide");p()}))}else{p()}}))};_.editSectionForm=function(e){var t=e.data(),n=t.isPreview,a=t.isUnchanged,r=e.parents(".section"),o=r.prev(".skill-heading"),s=e.parent(".edit-section-container"),l=e.find(".section-text-editor"),u=e.children(".button-container"),c=l.find(".autosave-field"),d=l.find("textarea"),f=e.find(".section-preview"),g=f.find(".button-container"),y=e.find(".preview-button"),_=e.find(".cancel-button"),b=e.find(".edit-button"),w=e.find(".save-button");var k=function t(){r.addClass("editing");o.addClass("hide");(0,i.default)(d);(0,m.wikiLinks)(d,true);v.default.stick(u,{bottom:u.offset().top+e.outerHeight(),handler:E});I(d,"wiki_section")};var T=function t(){p.updateMathjax(f);setTimeout((function(){v.default.stick(g,{bottom:g.offset().top+e.outerHeight(),handler:E})}),100);(0,m.wikiLinks)(d)};var O=function e(){s.removeClass("cmp_wiki_canonical_edit_section_id");r.removeClass("editing");o.removeClass("hide")};if(!n&&!a){k();C(c)}else if(n){T()}else if(a){O()}y.on("click",(function(){w.val("");e.removeClass("editing")}));_.on("click",(function(e){e.preventDefault();if(n){(0,h.showConfirmationModal)({title:t.cancelConfirmText}).then((function(e){if(e){O()}}))}else{O()}}));b.on("click",(function(){e.addClass("editing");(0,i.default)(d);(0,m.wikiLinks)(d);v.default.stick(u,{bottom:u.offset().top+e.outerHeight(),handler:E})}));w.on("click",(function(e){e.preventDefault();if(!n){(0,h.showConfirmationModal)({title:t.saveConfirmText}).then((function(e){if(e){x(c)}}))}else{x(c)}}))};_.expandOrCollapse=function(e){var t=e.find("header");var n=e.attr("id");var a=window.location.hash.substr(1);t.on("click",(function(){var t=e.next(".section");if(e.hasClass("collapsed")){e.removeClass("collapsed");t.removeClass("collapsed");p.checkOverflow(t)}else{e.addClass("collapsed");t.addClass("collapsed")}}));var i=function e(){t.trigger("click");r.default.delay((function(){h.Anchors.scrollToTarget(t)}),100)};if(f.isMobile&&a===n){i()}};_.summary=function(){var e=(0,a.default)(".skill-heading");if(f.isMobile&&e.length===1){r.default.defer((function(){e.find("header").trigger("click")}))}var t=function e(){var t=window.location.hash;if(t.substr(1,9)==="citation-"){(0,f.jqGetElemById)(t.substr(1)).addClass("highlight-citation")}};t();(0,a.default)(".citation-link").on("click",(function(){r.default.defer(t)}))};_.rateWiki=function(e){var t=e.find("li");var n=e.data("rating");var r=false;if(n){t.find("input[value="+n+"]").parents("li").addClass("selected")}else{t.on("click",(function(){var n=(0,a.default)(this);if(!r){r=true;t.find("input:checked").prop("checked",false);n.addClass("selected");n.find("input").prop("checked",true);e.submit()}}))}};_.reportDisputedWiki=function(e){var t=e.find("#submit");t.on("click",(function(){e.submit();(0,a.default)(".disputed-container").addClass("hide")}))};_.confirmModeratorAction=function(e){e.on("click",(function(){var t=e.data();var n=(0,a.default)("#".concat(t.logId));var r=(0,f.jqGetElemById)("wiki-logs-confirm").prop("checked");if(r){(0,h.showConfirmationModal)({title:t.confirmModalTitle,text:t.confirmModalText}).then((function(a){if(a){n.val(t.value);e.parents("form").submit()}}))}else{n.val(t.value);e.parents("form").submit()}}))};_.logsPager=function(e){e.on("click",(function(){var t=e.data("page");(0,a.default)("#pagination_page_id").val(t);e.parents("form").submit()}))};_.showStaffActions=function(e){var t=(0,a.default)(".wiki-staff-container");var n=(0,a.default)(".wiki-overlay");e.on("click",(function(e){e.stopPropagation();t.show();n.show()}));(0,a.default)("body").on("click",(function(e){t.hide();n.hide()}));t.on("click",(function(e){e.stopPropagation()}))};_.feedback=function(e){var t=(0,f.jqGetElemById)("wiki-feedback-trigger");var n=e.hasClass(c.CLASS_NAME_ACTIVE);var r=function t(r,i){n=!n;if(n){if(i!==true){h.Anchors.scrollToTarget(e)}e.find(".cmp-deferred").each((function(e,t){d.load((0,a.default)(t))}))}e.toggleClass(c.CLASS_NAME_ACTIVE,n)};t.on("click",r);if(window.location.hash.indexOf("feedback")!==-1){r(null,true)}};_.getCitationTime=function(e){var t=r.default.template((0,f.jqGetElemById)("retrieval-time-content").text());var n=new Date;var a=["January","February","March","April","May","June","July","August","September","October","November","December"];e.find(".retrieval-time").html(t({hour:"0".concat(n.getHours()).slice(-2),minute:"0".concat(n.getMinutes()).slice(-2),month:a[n.getMonth()],day:n.getDate(),year:n.getFullYear()}))};_.wikiFooter=function(e){var t=(0,f.jqGetElemById)("footer").outerHeight();if(t){r.default.defer((function(){var n=0;f.$window.on("scroll",r.default.throttle((function(){var a=f.$window.scrollTop()-((0,h.getScrollHeight)(f.$body)-t-f.$window.height());if(a>0){e.css({transform:"translate(0, -".concat(a,"px)")})}else if(n>0){e.css({transform:"translate(0, 0)"})}n=a}),16))}))}var n=e.data("ax-id");if(n){r.default.defer((function(){(0,l.track)("ui",{element_id:n,path:window.location.pathname,full_path:window.location.pathname+window.location.search})}))}};_.showSignUpModal=function(e){var t=(0,f.jqGetElemById)("signup-modal-wiki");var n="numLoggedOutWikiViews";var a=2;var i=o.default.get(n);var s=function e(){t.modal("show");var n=t.find(".public-signup-left");if(n.length&&!n.data("already-opened")){n.data("already-opened",true);n.attr("data-already-opened",true);(0,l.track)("ui",{action:"viewed_prenux_slide",step_position:1,is_first_step:true,is_last_step:false})}};if(!i){o.default.set(n,1)}else{i++;o.default.set(n,i)}if(i>=a){r.default.delay(s,3e3)}e.find(".signup-btn").on("click",(function(e){e.preventDefault();s()}))};_.examplesContribModal=function(e){e.modal()};_.expandableSidebar=function(e){var t=e.find(".header");t.on("click",(function(){e.toggleClass("expanded")}))};_.sidebarAfterSummary=function(e){var t=(0,f.jqGetElemById)("section-pre-header-section");e.insertAfter(t).removeClass("hide")};_.editLog=function(e){setInterval((function(){var t=[];e.find("#log_entry_list li.unreviewed").each((function(e){t.push((0,a.default)(this).data("log_entry_id"))}));if(t.length>0){a.default.ajax({url:"/wiki/__edit_logs/check_status/",type:"POST",data:{log_entry_ids:t},dataType:"json",success:function e(t){var n,r;t.reviewed_ids.forEach((function(e,t){console.log("Reviewed:",e);n="/wiki/__edit_logs/"+e+"/";r={param_key:(0,a.default)('li[data-log_entry_id="'+e+'"]').data("param_key")};(0,s.default)("wiki_all_edit_log").get(n,r)}))}})}}),1e3)};e.exports=_},364:function(e,t,n){"use strict";var a=n(1);var r=n(9);var i={};var o="v3.2";function s(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:550;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:440;var r=a.$window.width()/2-t/2;var i=a.$window.height()/2-n/2;var o="width=".concat(t,",height=").concat(n);if(r>0&&i>0){o+=",left=".concat(r,",top=").concat(i)}window.open(e,"socialpopup",o)}var l=function e(t){return t.indexOf(encodeURIComponent("/"))===-1?encodeURIComponent(t):t};i.facebook=function(e){e.on("click",(function(t){t.preventDefault();var n=window.FB||null,i=e.data();var u={utm_content:i.axId,ref:i.axId};if(i.gifUrl&&i.gifUrl.length>0){u.gif_url=l(i.gifUrl)}if(i.ogType&&i.ogType.length>0){u.og_type=encodeURIComponent(i.ogType)}if(i.ogSharingMethod&&i.ogSharingMethod.length>0){u.og_sharing_method=encodeURIComponent(i.ogSharingMethod)}i.url=(0,r.appendGetParams)(i.url,u);var c=function e(){window.location=(0,r.appendGetParams)("share://facebook",{link:l(i.url),caption:encodeURIComponent(i.title),elementId:i.axId})};var d=function e(){var t;if(n!==null){t={method:i["method"],display:"popup"};switch(i["method"]){case"feed":t["link"]=i["url"];t["description"]=i["title"];if(i["image"]){t["picture"]=i["image"]}break;case"share_open_graph":t["action_type"]="og.shares";t["action_properties"]=JSON.stringify({object:i["url"],ref:i["axId"]});break}n.ui(t)}else{var a="https://www.facebook.com/"+o+"/dialog/"+i["method"];t={app_id:i["appId"],display:"popup",redirect_uri:l(url)};var u=l(i["url"]);switch(i["method"]){case"feed":t["link"]=u;t["description"]=i["title"];if(i["image"]){t["picture"]=encodeURIComponent(i["image"])}break;case"share_open_graph":t["action_type"]="og.shares";t["action_properties"]=JSON.stringify({object:u,ref:i["axId"]});break}var c=(0,r.appendGetParams)(a,t);s(c,undefined,200)}};if(a.isAndroid&&a.appVersion.isGreaterThanOrEqualTo("1.10.0")){c()}else if(a.isAndroid){try{Android.shareFacebook(i.url)}catch(e){d()}}else if(a.isIos&&a.appVersion.isGreaterThanOrEqualTo("0.9.2")){c()}else{d()}}))};i.twitter=function(e){e.on("click",(function(t){t.preventDefault();var n=e.data();var a="https://twitter.com/intent/tweet";var i={text:encodeURIComponent(n.title)};if(n.url){i.url=l(n.url)}if(n.via){i.via="brilliantorg"}s((0,r.appendGetParams)(a,i))}))};i.remind=function(e){e.on("click",(function(t){t.preventDefault();var n=e.data();var a=l(n.url);var r="https://www.remind.com/v1/share"+"?url="+a+"&referrer="+a+"&text="+encodeURIComponent(n.title);s(r,880,600)}))};i.pinterest=function(e){e.on("click",(function(t){t.preventDefault();var n=e.data(),a="https://pinterest.com/pin/create/button/"+"?url="+l(n.url)+"&media="+encodeURIComponent(n.media)+"&description="+encodeURIComponent(n.title)+" | via Brilliant.org";s(a,750,320)}))};i.whatsapp=function(e){var t=navigator.userAgent.match(/iPhone/i)&&!navigator.userAgent.match(/iPod/i);if(t){e.removeClass("disabled")}else{e.parent().addClass("whatsapp-removed");e.remove()}};i.nativeEmail=function(e){e.on("click",(function(t){t.preventDefault();window.location=(0,r.appendGetParams)(e.attr("href").replace("mailto:","share://email"),{elementId:e.data("ax-id")})}))};if(window.location.href.indexOf("fb_close_window")!==-1){window.self.close()}e.exports=i},37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mentions=f;t.wikiLinks=p;t.mentionsAndWikiLinks=v;var a=s(n(0));var r=s(n(2));var i=n(572);var o=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var l=null;var u={stopTriggerRegex:/\n/,elastic:false,templates:{mentionItemSyntax:r.default.template("mention[<%= id %>:<%= value %>]"),autocompleteListItem:r.default.template('<li data-ref-id="<%= id %>" '+'data-ref-type="" data-display="<%= display %>">'+"<strong><%= content %></strong> <%= age %><%= country %></li>")},mentionRegex:/mention\[[\d]+:(.*?)]/g,onDataRequest:function e(t,n,r){var i=this;l.prefix=n;a.default.getJSON(l.url,l,(function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];e.map((function(e){e.id=e.user_id;e.name="".concat(e.first_name," ").concat(e.last_name);e.age=e.age!==null?e.age.toString():"";e.country=e.country||"";e.age=e.age.length&&e.country.length?"".concat(e.age,", "):e.age;e.isUser=true;return e}));r.call(i,e)}))}};var c={triggerChar:"[[wiki-",stopTriggerRegex:/[|\]]/,allowRepeat:true,showAvatars:true,elastic:false,onCaret:true,templates:{mentionItemSyntax:r.default.template("<%= value %>"),mentionItemHighlight:r.default.template("<%= value %>")},onDataRequest:function e(t,n,r){var i=this;var o="/wiki/wiki_suggestions/";var s={prefix:n};a.default.getJSON(o,s,(function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];e.map((function(e){e.icon="wiki-icon";e.isWiki=true;return e}));r.call(i,e)}))}};function d(e){var t=/\[\[(start|end)(.*?)(]]|<br \/>)/g;var n=function e(t){var n='<span class="wiki-syntax-highlight start-end">'.concat(t);if(n.indexOf("<br />")===-1){n+="</span>"}else{n=n.replace("<br />","</span><br />")}return n};return e.replace(t,n)}function f(e){l=(0,o.jqGetElemById)("mentions-data").data()||null;if(l!==null){l["".concat(l.type,"_id")]=l.id}var t=u;t.existingMentions=t.existingMentions||[];t.mentionsStorage={get:function e(){return t.existingMentions},set:function e(n){t.existingMentions=n}};e.each((function(e,n){(0,i.mentionsInput)((0,a.default)(n),t)}))}function p(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=c;if(t){n.highlightFunction=d}e.each((function(e,t){(0,i.mentionsInput)((0,a.default)(t),n)}))}function v(e){l=(0,o.jqGetElemById)("mentions-data").data()||null;if(l!==null){l["".concat(l.type,"_id")]=l.id}var t=u;t.existingMentions=t.existingMentions||[];t.mentionsStorage={get:function e(){return t.existingMentions},set:function e(n){t.existingMentions=n}};var n={elastic:false,onCaret:true,mentions:t,wikiLinks:c};e.each((function(e,t){(0,i.mentionsInput)((0,a.default)(t),n)}))}},41:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.textContainsUnrenderedMath=p;t.useKatex=m;t.formPreloader=w;t.loadForElement=k;t.onLoad=C;t.loadForElementAsync=x;t.redrawExpression=E;t.controller=I;var a=r(n(111));function r(e){return e&&e.__esModule?e:{default:e}}var i={BrilliantLightBlue:"#95D3FE",BrilliantBlue:"#3D99F6",BrilliantDarkBlue:"#0C6AC7",BrilliantSeaGreen:"#1E93A5",BrilliantAqua:"#27D2E7",BrilliantLightGreen:"#67D94C",BrilliantGreen:"#20A900",BrilliantDarkGreen:"#456461",BrilliantYellow:"#CEBB00",BrilliantLightYellow:"#FEDF53",BrilliantYellowOrange:"#FCA04A",BrilliantOrange:"#EC7300",BrilliantRedOrange:"#FF664D",BrilliantRed:"#D61F06",BrilliantPink:"#E81990",BrilliantRosePink:"#F970BF",BrilliantViolet:"#BA33D6",BrilliantAmethyst:"#625CDB",BrilliantIndigo:"#302B94",BrilliantPurple:"#69047E",BrilliantPaleYellow:"#FFF7E6",BrilliantBeige:"#FBE6B8",BrilliantSandyBrown:"#FEDABE",BrilliantPeachy:"#FCC9A1",BrilliantTan:"#DBA97F",BrilliantLightBrown:"#B4825D",BrilliantMediumLightBrown:"#AA7956",BrilliantBronze:"#815331",BrilliantBrown:"#624F41",BrilliantWhite:"#FFFFFF",BrilliantLightGray:"#FBFBFB",BrilliantMediumLightGray:"#F0F0F0",BrilliantMediumGray:"#D8D8D8",BrilliantGray:"#BBBBBB",BrilliantMediumDarkGray:"#919191",BrilliantDarkGray:"#777777",BrilliantBlack:"#333333",BrilliantDarkBlack:"#161616"};var o=false;var s=false;var l=[];var u=[];var c=/\\\(.*?\\\)/;var d=/\\\[.*?\\\]/;var f=[/<script[\s\S]*?<\/script>/gm,/title=".*?"/g,/data-answers-list=".*?"/g,/data-registered-choice=".*?"/g,/<textarea[\s\S]*?<\/textarea>/gm,/<span>\\(\(|\)|\[|\])<\/span>/g];function p(e){var t=e;for(var n=0;n<f.length;n+=1){t=t.replace(f[n],"")}return c.test(t)||d.test(t)}function v(e){return p(e.innerHTML)}function h(){return window.location.pathname==="/latex-image-export/"}function m(){return document.body.classList.contains("use_katex")&&!h()}function g(e){if(m()){(0,a.default)(e);return}try{window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,e])}catch(e){}}function y(){l.forEach(g);l=[]}function _(){if(s||o){return}if(m()){s=true;return}o=true;var e=document.createElement("script");var t=h()?"TeX-AMS_SVG":"TeX-AMS_HTML";e.type="text/javascript";e.src="".concat(document.body.dataset.mediaHost,"/site_media/version-99mq9F5EZ8d8/js/mathjax/MathJax.js?config=").concat(t);e.addEventListener("load",(function(){if(!s){o=false;s=true;window.MathJax.Hub.Config({messageStyle:"none",jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["\\(","\\)"]],displayMath:[["\\[","\\]"]],processEnvironments:false,ignoreClass:"mentions-input-box"},TeX:{extensions:["color.js","mhchem.js","siunitx.js"],Macros:{bra:["{\\mathinner{\\langle{#1}|}}",1],ket:["{\\mathinner{|{#1}\\rangle}}",1],braket:["{\\mathinner{\\langle{#1}\\rangle}}",1],Bra:["{\\left\\langle#1\\right|}",1],Ket:["{\\left|#1\\right\\rangle}",1],ketbra:["{\\ket{#1}\\bra{#2}}",2]},Augment:{Definitions:{macros:{overparen:["UnderOver","23DC"],underparen:["UnderOver","23DD"]}}}},"HTML-CSS":{imageFont:null},showMathMenu:false,positionToHash:false});window.MathJax.Hub.processSectionDelay=0;window.MathJax.Hub.Register.StartupHook("TeX color Ready",(function(){Object.assign(window.MathJax.Extension["TeX/color"].colors,i)}));u.forEach((function(e){return e()}));y()}}));setTimeout((function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}),0)}function b(e){if(m()){setTimeout((function(){return(0,a.default)(e)}))}else if(s){g(e)}else{l.push(e);if(!o){_()}}}function w(e){var t=e.find("input[type=text], textarea");var n="keydown.mjxpreload";t.on(n,(function(){t.off(n);_()}))}function k(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(typeof e.each==="function"){e.each((function(e,n){if(t||v(n)){b(n)}}))}else{var n=Array.isArray(e)?e:[e];n.forEach((function(e){if(t||v(e)){b(e)}}))}}function C(e){if(s){e()}else{u.push(e)}}function x(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return new Promise((function(n){if(m()){k(e,t);n()}else{C((function(){setTimeout((function(){k(e,t);window.MathJax.Hub.Queue((function(){return n()}))}))}))}}))}function E(e,t,n,a){if(m()){return n(e,t)}return new Promise((function(r){try{var i=window.MathJax.Hub.getAllJax(e)[0];if(!i){e.classList.add(a);n(e,t).then(r)}else{window.MathJax.Hub.Queue(["Text",i,t]);window.MathJax.Hub.Queue((function(){r()}))}}catch(e){r()}}))}function I(){var e=function e(){return b(document.body)};if(window.isLoaded){e()}else{window.addEventListener("load",e)}}},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.load=p;t.add=m;t.addCmpsInContainer=g;var a=l(n(0));var r=l(n(2));var i=l(n(13));var o=n(1);var s=n(6);function l(e){return e&&e.__esModule?e:{default:e}}var u=/opera mini|series40/i;var c=[];var d=0;var f=false;function p(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=e.data();e.find(".js").addClass("spinner");(0,i.default)(n.cmp_page_key).get(n.cmp_url,Object.assign({param_key:n.cmp_param_key,deferred:true},t))}function v(){f=true;o.$window.on("scroll.deferred",r.default.throttle((function(){var e=c.length;var t=false;for(var n=0;n<e;n++){t=c[n];if(t!==false&&(0,s.isInViewport)(t)){p(t);c[n]=false;d--;if(d===0){f=false;o.$window.off("scroll.deferred")}}}}),16))}var h=r.default.once((function(){var e=a.default.fn.show;a.default.fn.show=function t(n,r){return(0,a.default)(this).each((function(t,i){var o=(0,a.default)(i);e.apply(o,[n,r]);o.find(".cmp-deferred").each((function(e,t){var n=(0,a.default)(t);if(n.is(":visible")){p(n)}}))}))}}));function m(e){if(u.test(navigator.userAgent)){p(e);return}if(e.is(":visible")){if((0,s.isInViewport)(e)){p(e)}else{c.push(e);d++;if(!f){v()}}}else{h()}}function g(e,t){var n=c.length;var a=n-d;var r=t;var i=false;for(a;a<n;a++){i=c[a];if(i!==false){if((0,s.isVisibleInContainer)(i,e)){p(i);c[a]=false;d--;r--;if(r===0){e.off("scroll.deferred")}}}}}},475:function(e,t,n){"use strict";n(476);n(570);var a=l(n(0));var r=n(11);var i=n(36);var o=n(45);var s=n(16);function l(e){return e&&e.__esModule?e:{default:e}}(0,s.onDOMReady)((function(){(0,r.initGenericControllers)();(0,a.default)(".cmp-deferred").each((function(e,t){(0,o.add)((0,a.default)(t))}));var e=(0,a.default)("form:not(.disable-submit-auto-disabling, #_fb_login)");(0,i.preventDefaultSubmitHandler)(e);(0,a.default)("form").each((function(e,t){var n=(0,a.default)(t);if(n.attr("action")===""){n.attr("action",window.location.href)}}));(0,i.initAutosubmit)()}))},476:function(e,t,n){"use strict";n(477);n(482);n(486);n(489);n(492);n(496);n(500);n(508);n(512);n(515);n(519);n(522);n(527);n(543);n(547);n(65);n(95);n(34);n(56);n(1);n(6);n(7);n(181);n(35);n(308);n(27);n(126);n(127);n(30);n(187);n(309);n(41);n(310);n(50);n(9);n(76);n(16)},50:function(e,t,n){"use strict";function a(e){if(e){if(e.substring){var t=e.split(".");try{this.major=parseInt(t[0],10)}catch(e){this.major=0}try{this.minor=parseInt(t[1],10)}catch(e){this.minor=0}try{this.patch=parseInt(t[2],10)}catch(e){this.patch=0}}else if(e.toFixed){this.major=e}}}a.prototype.major=0;a.prototype.minor=0;a.prototype.patch=0;a.prototype.toString=function(){return this.major+"."+this.minor+"."+this.patch};a.prototype.compare=function(e){if(this.major==e.major){if(this.minor==e.minor){if(this.patch==e.patch){return 0}else{return this.patch>e.patch?1:-1}}else{return this.minor>e.minor?1:-1}}else{return this.major>e.major?1:-1}};a.prototype.isGreaterThanOrEqualTo=function(e){var t=new a(e);return this.compare(t)>=0};e.exports=a},51:function(e,t,n){"use strict";function a(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){a=function e(t){return typeof t}}else{a=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return a(e)}(function(){if(typeof window==="undefined"){return}var e={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};function t(e){return e&&DataView.prototype.isPrototypeOf(e)}if(e.arrayBuffer){var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var a=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1}}function r(e){if(typeof e!=="string"){e=String(e)}if(/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e)){throw new TypeError("Invalid character in header field name")}return e.toLowerCase()}function i(e){if(typeof e!=="string"){e=String(e)}return e}function o(t){var n={next:function e(){var n=t.shift();return{done:n===undefined,value:n}}};if(e.iterable){n[Symbol.iterator]=function(){return n}}return n}function s(e){this.map={};if(e instanceof s){e.forEach((function(e,t){this.append(t,e)}),this)}else if(Array.isArray(e)){e.forEach((function(e){this.append(e[0],e[1])}),this)}else if(e){Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}}s.prototype.append=function(e,t){e=r(e);t=i(t);var n=this.map[e];this.map[e]=n?n+", "+t:t};s.prototype["delete"]=function(e){delete this.map[r(e)]};s.prototype.get=function(e){e=r(e);return this.has(e)?this.map[e]:null};s.prototype.has=function(e){return this.map.hasOwnProperty(r(e))};s.prototype.set=function(e,t){this.map[r(e)]=i(t)};s.prototype.forEach=function(e,t){for(var n in this.map){if(this.map.hasOwnProperty(n)){e.call(t,this.map[n],n,this)}}};s.prototype.keys=function(){var e=[];this.forEach((function(t,n){e.push(n)}));return o(e)};s.prototype.values=function(){var e=[];this.forEach((function(t){e.push(t)}));return o(e)};s.prototype.entries=function(){var e=[];this.forEach((function(t,n){e.push([n,t])}));return o(e)};if(e.iterable){s.prototype[Symbol.iterator]=s.prototype.entries}function l(e){if(e.bodyUsed){return Promise.reject(new TypeError("Already read"))}e.bodyUsed=true}function u(e){return new Promise((function(t,n){e.onload=function(){t(e.result)};e.onerror=function(){n(e.error)}}))}function c(e){var t=new FileReader;var n=u(t);t.readAsArrayBuffer(e);return n}function d(e){var t=new FileReader;var n=u(t);t.readAsText(e);return n}function f(e){var t=new Uint8Array(e);var n=new Array(t.length);for(var a=0;a<t.length;a++){n[a]=String.fromCharCode(t[a])}return n.join("")}function p(e){if(e.slice){return e.slice(0)}else{var t=new Uint8Array(e.byteLength);t.set(new Uint8Array(e));return t.buffer}}function v(){this.bodyUsed=false;this._initBody=function(n){this._bodyInit=n;if(!n){this._bodyText=""}else if(typeof n==="string"){this._bodyText=n}else if(e.blob&&Blob.prototype.isPrototypeOf(n)){this._bodyBlob=n}else if(e.formData&&FormData.prototype.isPrototypeOf(n)){this._bodyFormData=n}else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)){this._bodyText=n.toString()}else if(e.arrayBuffer&&e.blob&&t(n)){this._bodyArrayBuffer=p(n.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(e.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(n)||a(n))){this._bodyArrayBuffer=p(n)}else{this._bodyText=n=Object.prototype.toString.call(n)}if(!this.headers.get("content-type")){if(typeof n==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(e.blob){this.blob=function(){var e=l(this);if(e){return e}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return l(this)||Promise.resolve(this._bodyArrayBuffer)}else{return this.blob().then(c)}}}this.text=function(){var e=l(this);if(e){return e}if(this._bodyBlob){return d(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(f(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}};if(e.formData){this.formData=function(){return this.text().then(y)}}this.json=function(){return this.text().then(JSON.parse)};return this}var h=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e){var t=e.toUpperCase();return h.indexOf(t)>-1?t:e}function g(e,t){t=t||{};var n=t.body;if(e instanceof g){if(e.bodyUsed){throw new TypeError("Already read")}this.url=e.url;this.credentials=e.credentials;if(!t.headers){this.headers=new s(e.headers)}this.method=e.method;this.mode=e.mode;this.signal=e.signal;if(!n&&e._bodyInit!=null){n=e._bodyInit;e.bodyUsed=true}}else{this.url=String(e)}this.credentials=t.credentials||this.credentials||"same-origin";if(t.headers||!this.headers){this.headers=new s(t.headers)}this.method=m(t.method||this.method||"GET");this.mode=t.mode||this.mode||null;this.signal=t.signal||this.signal;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&n){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(n)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})};function y(e){var t=new FormData;e.trim().split("&").forEach((function(e){if(e){var n=e.split("=");var a=n.shift().replace(/\+/g," ");var r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(r))}}));return t}function _(e){var t=new s;var n=e.replace(/\r?\n[\t ]+/g," ");n.split(/\r?\n/).forEach((function(e){var n=e.split(":");var a=n.shift().trim();if(a){var r=n.join(":").trim();t.append(a,r)}}));return t}v.call(g.prototype);function b(e,t){if(!t){t={}}this.type="default";this.status=t.status===undefined?200:t.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in t?t.statusText:"OK";this.headers=new s(t.headers);this.url=t.url||"";this._initBody(e)}v.call(b.prototype);b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})};b.error=function(){var e=new b(null,{status:0,statusText:""});e.type="error";return e};var w=[301,302,303,307,308];b.redirect=function(e,t){if(w.indexOf(t)===-1){throw new RangeError("Invalid status code")}return new b(null,{status:t,headers:{location:e}})};self.DOMException=self.DOMException;try{new self.DOMException}catch(e){self.DOMException=function(e,t){this.message=e;this.name=t;var n=Error(e);this.stack=n.stack};self.DOMException.prototype=Object.create(Error.prototype);self.DOMException.prototype.constructor=self.DOMException}function k(t,n){return new Promise((function(a,r){var i=new g(t,n);if(i.signal&&i.signal.aborted){return r(new self.DOMException("Aborted","AbortError"))}var o=new XMLHttpRequest;function s(){o.abort()}o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:_(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;a(new b(t,e))};o.onerror=function(){r(new TypeError("Network request failed"))};o.ontimeout=function(){r(new TypeError("Network request failed"))};o.onabort=function(){r(new self.DOMException("Aborted","AbortError"))};o.open(i.method,i.url,true);if(i.credentials==="include"){o.withCredentials=true}else if(i.credentials==="omit"){o.withCredentials=false}if("responseType"in o&&e.blob){o.responseType="blob"}i.headers.forEach((function(e,t){o.setRequestHeader(t,e)}));if(i.signal){i.signal.addEventListener("abort",s);o.onreadystatechange=function(){if(o.readyState===4){i.signal.removeEventListener("abort",s)}}}o.send(typeof i._bodyInit==="undefined"?null:i._bodyInit)}))}k.polyfill=true;if(!self.fetch){self.fetch=k;self.Headers=s;self.Request=g;self.Response=b}})();(function(e){var t=false;var n=null;var r=null;var i=null;var o=true;if(!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}if(typeof Object.assign!=="function"){Object.defineProperty(Object,"assign",{value:function e(t,n){if(t==null){throw new TypeError("Cannot convert undefined or null to object")}var a=Object(t);for(var r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null){for(var o in i){if(Object.prototype.hasOwnProperty.call(i,o)){a[o]=i[o]}}}}return a},writable:true,configurable:true})}if(!Object.keys){Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if(typeof i!=="function"&&(a(i)!=="object"||i===null)){throw new TypeError("Object.keys called on non-object")}var o=[],s,l;for(s in i){if(e.call(i,s)){o.push(s)}}if(t){for(l=0;l<r;l++){if(e.call(i,n[l])){o.push(n[l])}}}return o}}()}if(!Array.prototype.indexOf)Array.prototype.indexOf=function(e,t,n){"use strict";return function a(r,i){if(this===null||this===undefined)throw TypeError("Array.prototype.indexOf called on null or undefined");var o=e(this),s=o.length>>>0,l=n(i|0,s);if(l<0)l=t(0,s+l);else if(l>=s)return-1;if(r===void 0){for(;l!==s;++l){if(o[l]===void 0&&l in o)return l}}else if(r!==r){for(;l!==s;++l){if(o[l]!==o[l])return l}}else for(;l!==s;++l){if(o[l]===r)return l}return-1}}(Object,Math.max,Math.min);var s,l,u;s=function e(t,n){var a=[];for(var r=0;r<t.length;r++){if(n.indexOf(t[r])===-1){a.push(t[r])}}return a};l={assertObject:function e(t,n,r){if(a(r)!=="object"){var i=n+" should be of type object but you provided type "+a(r)+" with value "+JSON.stringify(r);return[{tag:"expectedObjectType",propertyId:t,message:i,actualType:a(r)}]}else{return[]}},assertString:function e(t,n,r){if(typeof r!=="string"){var i=n+" should be of type string but you provided type "+a(r)+" with value "+JSON.stringify(r);return[{tag:"expectedStringType",propertyId:t,message:i,actualType:a(r)}]}else{return[]}},assertInt:function e(t,n,r){if(typeof r==="number"&&r!==Math.round(r)){var i=n+" should be of type int but you provided type float with value "+JSON.stringify(r);return[{tag:"expectedIntType",propertyId:t,actualType:"float"}]}else if(typeof r!=="number"){var i=n+" should be of type int but you provided type "+a(r)+" with value "+JSON.stringify(r);return[{tag:"expectedIntType",propertyId:t,message:i,actualType:a(r)}]}else{return[]}},assertLong:function e(t,n,r){if(typeof r==="number"&&r!==Math.round(r)){var i=n+" should be of type long but you provided type float with value "+JSON.stringify(r);return[{tag:"expectedLongType",propertyId:t,actualType:"float"}]}else if(typeof r!=="number"){var i=n+" should be of type long but you provided type "+a(r)+" with value "+JSON.stringify(r);return[{tag:"expectedLongType",propertyId:t,message:i,actualType:a(r)}]}else{return[]}},assertFloat:function e(t,n,r){if(typeof r!=="number"){var i=n+" should be of type float but you provided type "+a(r)+" with value "+JSON.stringify(r);return[{tag:"expectedFloatType",propertyId:t,message:i,actualType:a(r)}]}else{return[]}},assertBool:function e(t,n,r){if(typeof r!=="boolean"){var i=n+" should be of type boolean but you provided type "+a(r)+" with value "+JSON.stringify(r);return[{tag:"expectedBoolType",propertyId:t,message:i,actualType:a(r)}]}else{return[]}},assertMax:function e(t,n,a,r){if(r>a){var i=n+" has a maximum value of "+a+" but you provided the value "+JSON.stringify(r);return[{tag:"expectedMax",propertyId:t,message:i}]}else{return[]}},assertMin:function e(t,n,a,r){if(r<a){var i=n+" has a minimum value of "+a+" but you provided the value "+JSON.stringify(r);return[{tag:"expectedMin",propertyId:t,message:i}]}else{return[]}},assertList:function e(t,n,r){if(!Array.isArray(r)){var i=n+" should be of type list but you provided type "+a(r);return[{tag:"expectedList",propertyId:t,message:i,actualType:a(r)}]}else{return[]}},assertNoAdditionalProperties:function e(t,n,a){var r=s(n,a);if(r.length){var i="Additional properties when sending event "+t+": "+JSON.stringify(r);return[{tag:"expectedNoAdditionalProperties",additionalProperties:r,message:i}]}else{return[]}},assertNoAdditionalUserProperties:function e(t,n,a){var r=s(n,a);if(r.length){var i="Additional user properties when sending event "+t+": "+JSON.stringify(r);return[{tag:"expectedNoAdditionalUserProperties",additionalProperties:r,message:i}]}else{return[]}}};u={logEventSent:function e(t,n,a){console.log("[avo] Event Sent:",t,"Event Props:",n,"User Props:",a)}};var c,d;var f=1;function p(e){if(typeof window==="undefined"){return}if(f>0){if(Math.random()<f){fetch("https://api.avo.app/i",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){f=e.sa})).catch((function(){}))}}}c=function e(t,n,a,r,i){p({ac:"2yRLCMNsP73YfY1M6LcB",br:"master",en:t,ev:n,ha:a,sc:"vwFXzvEVl7YL9ZHhbVJY",se:(new Date).toISOString(),so:"5_qZ4zTyK",va:r.length===0,me:r,or:i})};d=function e(t,n,a,r){p({ac:"2yRLCMNsP73YfY1M6LcB",br:"master",en:t,ty:n,sc:"vwFXzvEVl7YL9ZHhbVJY",se:(new Date).toISOString(),so:"5_qZ4zTyK",va:a.length===0,me:a,or:r})};var v;var h=[];var m=false;if(typeof window!=="undefined"){window.addEventListener("message",(function(e){if(e.origin!=="https://www.avo.app"){return}var t=document.getElementById("avo-debugger");if(t&&e&&e.data&&e.data.type_==="avo-debugger-update-style"){t.style=e.data.style}else if(t&&e&&e.data&&e.data.type_==="avo-debugger-ready"){var n={type_:"avo-debugger-boot-events",schemaId:"vwFXzvEVl7YL9ZHhbVJY",href:window.location.href,events:h};h=[];m=true;t.contentWindow.postMessage(n,"https://www.avo.app/_debugger")}}))}v=function e(t,n,a,r,i){if(typeof window==="undefined"){return}var o={eventId:t,eventName:n,messages:a,timestamp:Date.now(),eventProperties:r,userProperties:i};if(m){var s={type_:"avo-debugger-events",events:[o]};document.getElementById("avo-debugger").contentWindow.postMessage(s,"https://www.avo.app/_debugger")}else{h.push(o)}};function g(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertInt("1QCQCkw4Ph",t?"quiz_search_position"+": "+t:"quiz_search_position",e))}return n}function y(e,t){var n=[];n=n.concat(l.assertInt("5vn6k8qMwf",t?"course_id"+": "+t:"course_id",e));return n}function _(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertString("6e-cDrq3PM",t?"course_query_id"+": "+t:"course_query_id",e))}return n}function b(e,t){var n=[];n=n.concat(l.assertInt("7_QxEWZea-",t?"hits"+": "+t:"hits",e));return n}function w(e,t){var n=[];n=n.concat(l.assertString("BndLouvVWt",t?"filters"+": "+t:"filters",e));return n}function k(e,t){var n=[];n=n.concat(l.assertString("CYWqMDO7TU",t?"query"+": "+t:"query",e));return n}function C(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertString("H3iRyDVVUt",t?"search_result_type"+": "+t:"search_result_type",e))}return n}function x(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertInt("H9MrZZ7TKo",t?"quiz_id"+": "+t:"quiz_id",e))}return n}function E(e,t){var n=[];n=n.concat(l.assertString("Ig_YDgwAeo",t?"action"+": "+t:"action",e));return n}function I(e,t){var n=[];n=n.concat(l.assertString("Ougio4Hgqc",t?"path"+": "+t:"path",e));return n}function T(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertString("PaQ7fmmaJc",t?"quiz_query_id"+": "+t:"quiz_query_id",e))}return n}function O(e,t){var n=[];n=n.concat(l.assertString("R2oAa95CDZ",t?"query_id"+": "+t:"query_id",e));return n}function S(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertBool("RKjFsLS2I9",t?"is_course_search"+": "+t:"is_course_search",e))}return n}function q(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertString("T0lyCWVfDN",t?"custom_search_card_type"+": "+t:"custom_search_card_type",e))}return n}function j(e,t){var n=[];n=n.concat(l.assertString("ZZHdQbQnrh",t?"search_type"+": "+t:"search_type",e));return n}function P(e,t){var n=[];n=n.concat(l.assertInt("_EoHIjL2Uw",t?"page"+": "+t:"page",e));return n}function A(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertBool("haZfTd8G3u",t?"from_suggested_search"+": "+t:"from_suggested_search",e))}return n}function D(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertString("jLr2ENtGk7",t?"course_search_group_query_id"+": "+t:"course_search_group_query_id",e))}return n}function N(e,t){var n=[];n=n.concat(l.assertBool("oWTfBx2nOY",t?"is_android"+": "+t:"is_android",e));return n}function M(e,t){var n=[];n=n.concat(l.assertInt("tCe7MdWHMi",t?"pages"+": "+t:"pages",e));return n}function z(e,t){var n=[];n=n.concat(l.assertInt("zRASu4V1KP",t?"course_search_position"+": "+t:"course_search_position",e));return n}var L;function $(e,a,r,i){o=false;if(e.validateProperties===true){t=true}i=i||{};if(e.useProductionKey){}else{}L=r;L.make(e.useProductionKey);if(t){d(n,"setup",[],"setup")}}function B(e,a,s,l){if(n!==null){return}n=e.env.toLowerCase();if(e.strict!==undefined){i=e.strict!==false}if(e.reportFailureAs!==undefined){r=e.reportFailureAs}o=typeof window!=="undefined"&&window.location.search.indexOf("avo_debug=1")>-1||e.webDebugger!==false&&n!=="prod";if(n!=="prod"){t=true}s=s||{};if(o){(function(){if(typeof window==="undefined"){return}var e=function e(){if(document.getElementById("avo-debugger")===null){var t=document.createElement("iframe");document.body.appendChild(t);t.id="avo-debugger";t.src="https://www.avo.app/_debugger";t.style="display: none;"}};if(document.body){e()}else{document.addEventListener("DOMContentLoaded",e)}})()}if(n==="prod"){}if(n==="dev"){}L=l;L.make(n);if(t){d(n,"init",[],"init")}}function U(e){e=e||{};if(t||o){var a=[];a=a.concat(j(e.searchType));a=a.concat(k(e.query));a=a.concat(w(e.filters));a=a.concat(P(e.page));a=a.concat(M(e.pages));a=a.concat(I(e.path));a=a.concat(N(e.isAndroid));a=a.concat(q(e.customSearchCardType));a=a.concat(C(e.searchResultType));a=a.concat(S(e.isCourseSearch));a=a.concat(A(e.fromSuggestedSearch));a=a.concat(_(e.courseQueryId));a=a.concat(b(e.hits));a=a.concat(T(e.quizQueryId));a=a.concat(D(e.courseSearchGroupQueryId));a=a.concat(l.assertNoAdditionalProperties("search_result",Object.keys(e),["searchType","query","filters","page","pages","path","isAndroid","customSearchCardType","searchResultType","isCourseSearch","fromSuggestedSearch","courseQueryId","hits","quizQueryId","courseSearchGroupQueryId"]));c(n,"ScWrQ9ytR","597246c746d6092b6f5bc0a6d1c5f0affb91b93c6fb784ecb05cff2456959a5a",a.map((function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})})),"event");u.logEventSent("search_result",{search_type:e.searchType,query:e.query,filters:e.filters,page:e.page,pages:e.pages,path:e.path,is_android:e.isAndroid,custom_search_card_type:e.customSearchCardType,search_result_type:e.searchResultType,is_course_search:e.isCourseSearch,from_suggested_search:e.fromSuggestedSearch,course_query_id:e.courseQueryId,hits:e.hits,quiz_query_id:e.quizQueryId,course_search_group_query_id:e.courseSearchGroupQueryId},{});if(o){v("ScWrQ9ytR","search_result",a,[{id:"6e-cDrq3PM",name:"course_query_id",value:e.courseQueryId},{id:"7_QxEWZea-",name:"hits",value:e.hits},{id:"BndLouvVWt",name:"filters",value:e.filters},{id:"CYWqMDO7TU",name:"query",value:e.query},{id:"H3iRyDVVUt",name:"search_result_type",value:e.searchResultType},{id:"Ougio4Hgqc",name:"path",value:e.path},{id:"PaQ7fmmaJc",name:"quiz_query_id",value:e.quizQueryId},{id:"RKjFsLS2I9",name:"is_course_search",value:e.isCourseSearch},{id:"T0lyCWVfDN",name:"custom_search_card_type",value:e.customSearchCardType},{id:"ZZHdQbQnrh",name:"search_type",value:e.searchType},{id:"_EoHIjL2Uw",name:"page",value:e.page},{id:"haZfTd8G3u",name:"from_suggested_search",value:e.fromSuggestedSearch},{id:"jLr2ENtGk7",name:"course_search_group_query_id",value:e.courseSearchGroupQueryId},{id:"oWTfBx2nOY",name:"is_android",value:e.isAndroid},{id:"tCe7MdWHMi",name:"pages",value:e.pages}],[])}if(t&&(i===null||i)){if(a.length!==0){throw new Error("Error sending event 'search_result': "+a[0].message)}}else{a.forEach((function(e){console[r||"error"]("[avo] "+e.message)}))}}L.logEvent("search_result",{search_type:e.searchType,query:e.query,filters:e.filters,page:e.page,pages:e.pages,path:e.path,is_android:e.isAndroid,custom_search_card_type:e.customSearchCardType,search_result_type:e.searchResultType,is_course_search:e.isCourseSearch,from_suggested_search:e.fromSuggestedSearch,course_query_id:e.courseQueryId,hits:e.hits,quiz_query_id:e.quizQueryId,course_search_group_query_id:e.courseSearchGroupQueryId})}function F(e){e=e||{};if(t||o){var a=[];a=a.concat(E(e.action));a=a.concat(y(e.courseId));a=a.concat(x(e.quizId));a=a.concat(z(e.courseSearchPosition));a=a.concat(g(e.quizSearchPosition));a=a.concat(k(e.query));a=a.concat(O(e.queryId));a=a.concat(l.assertNoAdditionalProperties("course_search_event",Object.keys(e),["action","courseId","quizId","courseSearchPosition","quizSearchPosition","query","queryId"]));c(n,"Fhafx5S6kK","24c7598ad9ca0ca13cb7eb7def75a55c70f64fdc3b67bf3c80bf636335d8103c",a.map((function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})})),"event");u.logEventSent("course_search_event",{action:e.action,course_id:e.courseId,quiz_id:e.quizId,course_search_position:e.courseSearchPosition,quiz_search_position:e.quizSearchPosition,query:e.query,query_id:e.queryId},{});if(o){v("Fhafx5S6kK","course_search_event",a,[{id:"1QCQCkw4Ph",name:"quiz_search_position",value:e.quizSearchPosition},{id:"5vn6k8qMwf",name:"course_id",value:e.courseId},{id:"CYWqMDO7TU",name:"query",value:e.query},{id:"H9MrZZ7TKo",name:"quiz_id",value:e.quizId},{id:"Ig_YDgwAeo",name:"action",value:e.action},{id:"R2oAa95CDZ",name:"query_id",value:e.queryId},{id:"zRASu4V1KP",name:"course_search_position",value:e.courseSearchPosition}],[])}if(t&&(i===null||i)){if(a.length!==0){throw new Error("Error sending event 'course_search_event': "+a[0].message)}}else{a.forEach((function(e){console[r||"error"]("[avo] "+e.message)}))}}L.logEvent("course_search_event",{action:e.action,course_id:e.courseId,quiz_id:e.quizId,course_search_position:e.courseSearchPosition,quiz_search_position:e.quizSearchPosition,query:e.query,query_id:e.queryId})}function G(e){var t=null;var r=null;var i=null;var o=typeof n!=="undefined"&&n!==null?n:e.env;r=typeof window!=="undefined"&&window.location.search.indexOf("avo_debug=1")>-1||e.webDebugger!==false&&o!=="prod";if(r){(function(){if(typeof window==="undefined"){return}var e=function e(){if(document.getElementById("avo-debugger")===null){var t=document.createElement("iframe");document.body.appendChild(t);t.id="avo-debugger";t.src="https://www.avo.app/_debugger";t.style="display: none;"}};if(document.body){e()}else{document.addEventListener("DOMContentLoaded",e)}})()}if(e.strict!==undefined){t=e.strict!==false}if(e.reportFailureAs!==undefined){i=e.reportFailureAs}var s=e.eventName;var u=e.eventProperties||e.properties||{};var f=e.userProperties||{};var p=[];switch(s){case"search_result":p=p.concat(j(u["search_type"]));p=p.concat(k(u["query"]));p=p.concat(w(u["filters"]));p=p.concat(P(u["page"]));p=p.concat(M(u["pages"]));p=p.concat(I(u["path"]));p=p.concat(N(u["is_android"]));p=p.concat(q(u["custom_search_card_type"]));p=p.concat(C(u["search_result_type"]));p=p.concat(S(u["is_course_search"]));p=p.concat(A(u["from_suggested_search"]));p=p.concat(_(u["course_query_id"]));p=p.concat(b(u["hits"]));p=p.concat(T(u["quiz_query_id"]));p=p.concat(D(u["course_search_group_query_id"]));p=p.concat(l.assertNoAdditionalProperties("search_result",Object.keys(u),["search_type","query","filters","page","pages","path","is_android","custom_search_card_type","search_result_type","is_course_search","from_suggested_search","course_query_id","hits","quiz_query_id","course_search_group_query_id"]));c(o,"ScWrQ9ytR","597246c746d6092b6f5bc0a6d1c5f0affb91b93c6fb784ecb05cff2456959a5a",p.map((function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})})),"validate");if(r){v("ScWrQ9ytR","search_result",p,[{id:"search_type",name:"search_type",value:u["search_type"]},{id:"query",name:"query",value:u["query"]},{id:"filters",name:"filters",value:u["filters"]},{id:"page",name:"page",value:u["page"]},{id:"pages",name:"pages",value:u["pages"]},{id:"path",name:"path",value:u["path"]},{id:"is_android",name:"is_android",value:u["is_android"]},{id:"custom_search_card_type",name:"custom_search_card_type",value:u["custom_search_card_type"]},{id:"search_result_type",name:"search_result_type",value:u["search_result_type"]},{id:"is_course_search",name:"is_course_search",value:u["is_course_search"]},{id:"from_suggested_search",name:"from_suggested_search",value:u["from_suggested_search"]},{id:"course_query_id",name:"course_query_id",value:u["course_query_id"]},{id:"hits",name:"hits",value:u["hits"]},{id:"quiz_query_id",name:"quiz_query_id",value:u["quiz_query_id"]},{id:"course_search_group_query_id",name:"course_search_group_query_id",value:u["course_search_group_query_id"]}],[])}if(o!=="prod"&&(t===null||t)){if(p.length!==0){throw new Error("Error sending event 'search_result': "+p[0].message)}}else{p.forEach((function(e){console[i||"error"]("[avo] "+e.message)}))}break;case"course_search_event":p=p.concat(E(u["action"]));p=p.concat(y(u["course_id"]));p=p.concat(x(u["quiz_id"]));p=p.concat(z(u["course_search_position"]));p=p.concat(g(u["quiz_search_position"]));p=p.concat(k(u["query"]));p=p.concat(O(u["query_id"]));p=p.concat(l.assertNoAdditionalProperties("course_search_event",Object.keys(u),["action","course_id","quiz_id","course_search_position","quiz_search_position","query","query_id"]));c(o,"Fhafx5S6kK","24c7598ad9ca0ca13cb7eb7def75a55c70f64fdc3b67bf3c80bf636335d8103c",p.map((function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})})),"validate");if(r){v("Fhafx5S6kK","course_search_event",p,[{id:"action",name:"action",value:u["action"]},{id:"course_id",name:"course_id",value:u["course_id"]},{id:"quiz_id",name:"quiz_id",value:u["quiz_id"]},{id:"course_search_position",name:"course_search_position",value:u["course_search_position"]},{id:"quiz_search_position",name:"quiz_search_position",value:u["quiz_search_position"]},{id:"query",name:"query",value:u["query"]},{id:"query_id",name:"query_id",value:u["query_id"]}],[])}if(o!=="prod"&&(t===null||t)){if(p.length!==0){throw new Error("Error sending event 'course_search_event': "+p[0].message)}}else{p.forEach((function(e){console[i||"error"]("[avo] "+e.message)}))}break;default:p.push({tag:"unexpectedEvent",eventName:s,shape:Object.keys(u).map((function(e){return[e,a(u[e])]})).reduce((function(e,t){e[t[0]]=t[1];return e}),{}),shapeUserProps:Object.keys(f).map((function(e){return[e,a(f[e])]})).reduce((function(e,t){e[t[0]]=t[1];return e}),{})});d(o,"unexpectedEvent",p,"validate");if(r){v(s,s,p,Object.keys(u).map((function(e){return{id:e,name:e,value:u[e]}})),Object.keys(f).map((function(e){return{id:e,name:e,value:f[e]}})))}}}e.validateAvoEvent=G;e.searchResult=U;e.courseSearchEvent=F;e.setup_=$;e.initAvo=B})(false?undefined:t)},54:function(e,t,n){"use strict";var a=v(n(0));var r=v(n(2));var i=v(n(13));var o=n(36);var s=n(1);var l=p(n(27));var u=n(6);var c=n(23);var d=n(11);var f=n(128);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function v(e){return e&&e.__esModule?e:{default:e}}var h={urlStack:[]};var m=window,g=m.vkey;var y,_,b,w=null,k=false,C=false,x=false,E=false,I=null,T=[],O,S="assessment_modal_public_solvable_component",q="discussions_modal_single_component",j=false;var P={},A={};var D=function e(){var t=(0,a.default)(this),n=t.data(),r=n.modalUrl||null;t.addClass("inited");if(!y||y.length===0||r===null){return}(0,s.jqOffOn)(t.find(".modal-link"),"click",(function(e){if(!e.metaKey){e.preventDefault();var i=t.parents(".nf-feed-item");if(i.data("just-dragged")){i.removeData("just-dragged");return}w=t;z(n);k=n.isSolvable;C=n.isSet;x=n.refreshable;y.addClass("loading");y.removeClass("loaded");if(k){y.addClass("solvable").removeClass("note set")}else if(C){y.addClass("set").removeClass("solvable note")}else{y.addClass("note").removeClass("solvable set")}if(A[r]){F(r,n)}else{if(P[r]){var o=setInterval((function(){if(A[r]){clearInterval(o);F(r,n)}}),200)}else{I=a.default.ajax({url:r,data:{force_full_page:"true"},success:N,error:M})}}}}))};var N=function e(t){I=null;if(t.redirect){window.location=t.redirect}else{y.toggleClass("loading loaded");var i=O.modalUrl.replace("/modal","").replace("/_modal","").replace("-thread","/thread");if(i&&window.history.pushState){var o=(0,s.getRelativeUrl)();if(i!==o){var u={modalContent:true};if(O.isPost||O.isSolvable){u.isPostOrSolvable=true;if(window.history.state&&window.history.state.isPostOrSolvable){window.history.replaceState(u,"",i)}else{h.urlStack.push(o);window.history.pushState(u,"",i)}}else{h.urlStack.push(o);window.history.pushState(u,"",i)}}}if(k){_.html(t);b.html("");U()}else{b.html(t);(0,d.initGenericControllers)(b);_.html("");U()}l.updateMathjax(y);l.checkOverflow(y);var c=y.find(".mini-profile");y.on("scroll",r.default.throttle((function(){c.each((function(e,t){(0,f.toggleMiniProfile)((0,a.default)(t),"hide")}))}),16));if(k){n(71)[S](_)}else{n(130)[q](b)}}};var M=function e(t,n){if(n!=="abort"){if(t.status===404){I=null;L();(0,a.default)(".cmp_"+w.data("param_key")+"_id").parents(".nf-feed-item").remove()}else{E=true;I=null;L();(0,c.errorModalHandler)(t)}}};var z=function e(t){if(C&&y.is(":visible")){T.push({view:y.clone(),data:O,current_open_feed_item:w});y.addClass("sub-view")}O=t;y.show().addClass("clearfix");(0,u.crop)();(0,s.jqOffOn)(s.$window,"keydown.nfmodal",(function(e){if(e.which===27){L()}}))};var L=function e(t){t=t||{};var n=false;if(I!==null){I.abort();I=null;n=true}if(!E&&w&&w.data("refreshable")){var r=w.data(),l={version:r.version,deferred:r.deferred,page_key:r.page_key,cmp_url:r.cmp_url,individual_reload:r.individual_reload,param_key:r.param_key};var f=new i.default(l.page_key);f.error=function(e){if(e.status===404){(0,a.default)(".cmp_"+l.param_key+"_id").parents(".nf-feed-item").remove()}else if(e.status>0){(0,c.errorModalHandler)(e)}};setTimeout((function(){f.get(l.cmp_url,l)}),100)}if(!t.backButtonClicked&&window.history&&window.history.pushState&&!n){j=true;window.history.back()}if(T.length){var p=T.pop();w=p.current_open_feed_item;y.replaceWith(p.view);y=(0,s.jqGetElemById)("nf-feeditem-modal").removeClass("inited");C=true;(0,o.initAutosubmit)();$(y);(0,d.initGenericControllers)(y)}else{w=null;E=false;y.hide().removeClass("clearfix");(0,u.crop)(false);s.$window.off("keydown.nfmodal")}};var $=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:s.$body;var n=arguments.length>1?arguments[1]:undefined;y=(0,s.jqGetElemById)("nf-feeditem-modal");_=(0,s.jqGetElemByCmpName)(S);b=(0,s.jqGetElemByCmpName)(q);if(n!==true&&y.length>0){t.find(".modal-feed-item").each(D);if(!y.hasClass("inited")){y.addClass("inited");y.on("click",(function(e){if(e.target===y[0]){L()}else if(C||T.length){var t=e.target===_[0]||e.target===b[0]||e.target===(0,s.jqGetElemById)("setview-header")[0];if(t){L()}}else if((0,a.default)(e.target).hasClass("refresh")){e.preventDefault();(0,a.default)(e.target).parents("form").submit();setTimeout((function(){window.location.href=window.location.href}),1e3)}}));y.on("click",".close-modal",(function(e){e.preventDefault();L()}));(0,a.default)("#nf-modal-close").on("click",L)}}};var B=function e(t){if(t.length===0){return}var n=t.data(),r=n.modalUrl;if(r&&P[r]!==true){P[r]=true;a.default.get(r,{is_preloading:true,force_full_page:true}).then((function(e){A[r]=e})).fail((function(){P[r]=false}))}};var U=function e(){var t=_.add(b).find(".modal-target");if(t.length){t.each((function(){B((0,a.default)(this))}))}};var F=function e(t,n){N(A[t]);delete A[t];delete P[t];if(n.isSolvable&&s.userIsAuthenticated){var r=t.replace("?","start_attempt/?");n.version=window.VERSIONS[n.page_key]||1;a.default.post(r,n).fail(c.errorModalHandler)}};h.preloadFirstItem=function(e){B(e.find(".modal-feed-item").first())};h.popstateHandlerHook=function(){if(j){j=false;h.urlStack.pop();return true}var e=h.urlStack;if(e.length>0&&(0,s.getRelativeUrl)()===e[e.length-1]){h.urlStack.pop();L({backButtonClicked:true});return true}return false};h.modal_events=D;h.feeditem_modal=$;h.feeditem_modal_close=L;e.exports=h},56:function(module,exports,__webpack_require__){"use strict";(function(process){var __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function e(t){return typeof t}}else{_typeof=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return _typeof(e)}(function e(t){if((false?undefined:_typeof(exports))==="object"){module.exports=t("1")}else if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return t("1")}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})(function e(t,n,a){var r=function(){return this}();function i(e){if(n[e])return n[e].exports;if(t[e])return o(e,i);throw new Error('cannot find module "'+e+'"')}function o(r,i){var o=n[r]={exports:{}};var s=t[r];var l=s[2];var u=s[0];var c=true;try{u.call(o.exports,(function(e){var n=t[r][1][e];return i(n||e)}),o,o.exports,e,t,n,a);c=false}finally{if(c){delete n[r]}else if(l){n[l]=n[r]}}return n[r].exports}for(var s in a){if(a[s]){r[a[s]]=i(s)}else{i(s)}}i.duo=true;i.cache=n;i.modules=t;return i}({1:[function(e,t,n){var a=e("segmentio/analytics.js-core");var r=e("./integrations");var i=e("each");t.exports=n=a;a._require=e;n.VERSION=e("../bower.json").version;i(r,(function(e,t){a.use(t)}))},{"segmentio/analytics.js-core":2,"./integrations":3,each:4,"../bower.json":5}],2:[function(e,t,n){var a=e("./analytics");var r=t.exports=n=new a;r._require=e;n.VERSION=e("../bower.json").version},{"./analytics":6,"../bower.json":7}],6:[function(e,t,n){var a=window.analytics;var r=e("emitter");var i=e("facade");var o=e("after");var s=e("bind");var l=e("callback");var u=e("clone");var c=e("./cookie");var d=e("debug");var f=e("defaults");var p=e("each");var v=e("./group");var h=e("is");var m=e("is-meta");var g=e("object").keys;var y=e("./memory");var _=e("./normalize");var b=e("event").bind;var w=e("./pageDefaults");var k=e("pick");var C=e("prevent");var x=e("querystring");var E=e("object").length;var I=e("./store");var T=e("./user");var O=i.Alias;var S=i.Group;var q=i.Identify;var j=i.Page;var P=i.Track;n=t.exports=A;n.cookie=c;n.store=I;n.memory=y;function A(){this._options({});this.Integrations={};this._integrations={};this._readied=false;this._timeout=300;this._user=T;this.log=d("analytics.js");s.all(this);var e=this;this.on("initialize",(function(t,n){if(n.initialPageview)e.page();e._parseQuery()}))}r(A.prototype);A.prototype.use=function(e){e(this);return this};A.prototype.addIntegration=function(e){var t=e.prototype.name;if(!t)throw new TypeError("attempted to add an invalid integration");this.Integrations[t]=e;return this};A.prototype.init=A.prototype.initialize=function(e,t){e=e||{};t=t||{};this._options(t);this._readied=false;var n=this;p(e,(function(t){var a=n.Integrations[t];if(!a)delete e[t]}));p(e,(function(e,t){var a=n.Integrations[e];var r=new a(u(t));n.log("initialize %o - %o",e,t);n.add(r)}));var a=this._integrations;T.load();v.load();var r=o(E(a),(function(){n._readied=true;n.emit("ready")}));p(a,(function(e,a){if(t.initialPageview&&a.options.initialPageview===false){a.page=o(2,a.page)}a.analytics=n;a.once("ready",r);a.initialize()}));this.initialized=true;this.emit("initialize",e,t);return this};A.prototype.setAnonymousId=function(e){this.user().anonymousId(e);return this};A.prototype.add=function(e){this._integrations[e.name]=e;return this};A.prototype.identify=function(e,t,n,a){if(h.fn(n))a=n,n=null;if(h.fn(t))a=t,n=null,t=null;if(h.object(e))n=t,t=e,e=T.id();T.identify(e,t);var r=this.normalize({options:n,traits:T.traits(),userId:T.id()});this._invoke("identify",new q(r));this.emit("identify",e,t,n);this._callback(a);return this};A.prototype.user=function(){return T};A.prototype.group=function(e,t,n,a){if(!arguments.length)return v;if(h.fn(n))a=n,n=null;if(h.fn(t))a=t,n=null,t=null;if(h.object(e))n=t,t=e,e=v.id();v.identify(e,t);var r=this.normalize({options:n,traits:v.traits(),groupId:v.id()});this._invoke("group",new S(r));this.emit("group",e,t,n);this._callback(a);return this};A.prototype.track=function(e,t,n,a){if(h.fn(n))a=n,n=null;if(h.fn(t))a=t,n=null,t=null;var r=this.options.plan||{};var i=r.track||{};var o=this.normalize({properties:t,options:n,event:e});r=i[e];if(r){this.log("plan %o - %o",e,r);if(r.enabled===false)return this._callback(a);f(o.integrations,r.integrations||{})}this._invoke("track",new P(o));this.emit("track",e,t,n);this._callback(a);return this};A.prototype.trackClick=A.prototype.trackLink=function(e,t,n){if(!e)return this;if(h.element(e))e=[e];var a=this;p(e,(function(e){if(!h.element(e))throw new TypeError("Must pass HTMLElement to `analytics.trackLink`.");b(e,"click",(function(r){var i=h.fn(t)?t(e):t;var o=h.fn(n)?n(e):n;var s=e.getAttribute("href")||e.getAttributeNS("http://www.w3.org/1999/xlink","href")||e.getAttribute("xlink:href");a.track(i,o);if(s&&e.target!=="_blank"&&!m(r)){C(r);a._callback((function(){window.location.href=s}))}}))}));return this};A.prototype.trackSubmit=A.prototype.trackForm=function(e,t,n){if(!e)return this;if(h.element(e))e=[e];var a=this;p(e,(function(e){if(!h.element(e))throw new TypeError("Must pass HTMLElement to `analytics.trackForm`.");function r(r){C(r);var i=h.fn(t)?t(e):t;var o=h.fn(n)?n(e):n;a.track(i,o);a._callback((function(){e.submit()}))}var i=window.jQuery||window.Zepto;if(i){i(e).submit(r)}else{b(e,"submit",r)}}));return this};A.prototype.page=function(e,t,n,a,r){if(h.fn(a))r=a,a=null;if(h.fn(n))r=n,a=n=null;if(h.fn(t))r=t,a=n=t=null;if(h.object(e))a=t,n=e,t=e=null;if(h.object(t))a=n,n=t,t=null;if(h.string(e)&&!h.string(t))t=e,e=null;n=u(n)||{};if(t)n.name=t;if(e)n.category=e;var i=w();f(n,i);var o=k(g(i),n);if(!h.empty(o)){a=a||{};a.context=a.context||{};a.context.page=o}var s=this.normalize({properties:n,category:e,options:a,name:t});this._invoke("page",new j(s));this.emit("page",e,t,n,a);this._callback(r);return this};A.prototype.pageview=function(e){var t={};if(e)t.path=e;this.page(t);return this};A.prototype.alias=function(e,t,n,a){if(h.fn(n))a=n,n=null;if(h.fn(t))a=t,n=null,t=null;if(h.object(t))n=t,t=null;var r=this.normalize({options:n,previousId:t,userId:e});this._invoke("alias",new O(r));this.emit("alias",e,t,n);this._callback(a);return this};A.prototype.ready=function(e){if(h.fn(e)){if(this._readied){l.async(e)}else{this.once("ready",e)}}return this};A.prototype.timeout=function(e){this._timeout=e};A.prototype.debug=function(e){if(!arguments.length||e){d.enable("analytics:"+(e||"*"))}else{d.disable()}};A.prototype._options=function(e){e=e||{};this.options=e;c.options(e.cookie);I.options(e.localStorage);T.options(e.user);v.options(e.group);return this};A.prototype._callback=function(e){l.async(e,this._timeout);return this};A.prototype._invoke=function(e,t){this.emit("invoke",t);p(this._integrations,(function(n,a){if(!t.enabled(n))return;a.invoke.call(a,e,t)}));return this};A.prototype.push=function(e){var t=e.shift();if(!this[t])return;this[t].apply(this,e)};A.prototype.reset=function(){this.user().logout();this.group().logout()};A.prototype._parseQuery=function(){var e=x.parse(window.location.search);if(e.ajs_uid)this.identify(e.ajs_uid);if(e.ajs_event)this.track(e.ajs_event);if(e.ajs_aid)T.anonymousId(e.ajs_aid);return this};A.prototype.normalize=function(e){e=_(e,g(this._integrations));if(e.anonymousId)T.anonymousId(e.anonymousId);e.anonymousId=T.anonymousId();e.context.page=f(e.context.page||{},w());return e};A.prototype.noConflict=function(){window.analytics=a;return this}},{emitter:8,facade:9,after:10,bind:11,callback:12,clone:13,"./cookie":14,debug:15,defaults:16,each:4,"./group":17,is:18,"is-meta":19,object:20,"./memory":21,"./normalize":22,event:23,"./pageDefaults":24,pick:25,prevent:26,querystring:27,"./store":28,"./user":29}],8:[function(e,t,n){var a=e("indexof");t.exports=r;function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype){e[t]=r.prototype[t]}return e}r.prototype.on=r.prototype.addEventListener=function(e,t){this._callbacks=this._callbacks||{};(this._callbacks[e]=this._callbacks[e]||[]).push(t);return this};r.prototype.once=function(e,t){var n=this;this._callbacks=this._callbacks||{};function a(){n.off(e,a);t.apply(this,arguments)}t._off=a;this.on(e,a);return this};r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var n=this._callbacks[e];if(!n)return this;if(1==arguments.length){delete this._callbacks[e];return this}var r=a(n,t._off||t);if(~r)n.splice(r,1);return this};r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var a=0,r=n.length;a<r;++a){n[a].apply(this,t)}}return this};r.prototype.listeners=function(e){this._callbacks=this._callbacks||{};return this._callbacks[e]||[]};r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{indexof:30}],30:[function(e,t,n){t.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n){if(e[n]===t)return n}return-1}},{}],9:[function(e,t,n){var a=e("./facade");t.exports=a;a.Alias=e("./alias");a.Group=e("./group");a.Identify=e("./identify");a.Track=e("./track");a.Page=e("./page");a.Screen=e("./screen")},{"./facade":31,"./alias":32,"./group":33,"./identify":34,"./track":35,"./page":36,"./screen":37}],31:[function(e,t,n){var a=e("isodate-traverse");var r=e("./is-enabled");var i=e("./utils").clone;var o=e("./utils").type;var s=e("./address");var l=e("obj-case");var u=e("new-date");t.exports=c;function c(e){e=i(e);if(!e.hasOwnProperty("timestamp"))e.timestamp=new Date;else e.timestamp=u(e.timestamp);a(e);this.obj=e}s(c.prototype);c.prototype.proxy=function(e){var t=e.split(".");e=t.shift();var n=this[e]||this.field(e);if(!n)return n;if(typeof n==="function")n=n.call(this)||{};if(t.length===0)return d(n);n=l(n,t.join("."));return d(n)};c.prototype.field=function(e){var t=this.obj[e];return d(t)};c.proxy=function(e){return function(){return this.proxy(e)}};c.field=function(e){return function(){return this.field(e)}};c.multi=function(e){return function(){var t=this.proxy(e+"s");if("array"==o(t))return t;var n=this.proxy(e);if(n)n=[i(n)];return n||[]}};c.one=function(e){return function(){var t=this.proxy(e);if(t)return t;var n=this.proxy(e+"s");if("array"==o(n))return n[0]}};c.prototype.json=function(){var e=i(this.obj);if(this.type)e.type=this.type();return e};c.prototype.context=c.prototype.options=function(e){var t=i(this.obj.options||this.obj.context)||{};if(!e)return i(t);if(!this.enabled(e))return;var n=this.integrations();var a=n[e]||l(n,e);if("boolean"==typeof a)a={};return a||{}};c.prototype.enabled=function(e){var t=this.proxy("options.providers.all");if(typeof t!=="boolean")t=this.proxy("options.all");if(typeof t!=="boolean")t=this.proxy("integrations.all");if(typeof t!=="boolean")t=true;var n=t&&r(e);var a=this.integrations();if(a.providers&&a.providers.hasOwnProperty(e)){n=a.providers[e]}if(a.hasOwnProperty(e)){var i=a[e];if(typeof i==="boolean"){n=i}else{n=true}}return n?true:false};c.prototype.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};c.prototype.active=function(){var e=this.proxy("options.active");if(e===null||e===undefined)e=true;return e};c.prototype.sessionId=c.prototype.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};c.prototype.groupId=c.proxy("options.groupId");c.prototype.traits=function(e){var t=this.proxy("options.traits")||{};var n=this.userId();e=e||{};if(n)t.id=n;for(var a in e){var r=null==this[a]?this.proxy("options.traits."+a):this[a]();if(null==r)continue;t[e[a]]=r;delete t[a]}return t};c.prototype.library=function(){var e=this.proxy("options.library");if(!e)return{name:"unknown",version:null};if(typeof e==="string")return{name:e,version:null};return e};c.prototype.userId=c.field("userId");c.prototype.channel=c.field("channel");c.prototype.timestamp=c.field("timestamp");c.prototype.userAgent=c.proxy("options.userAgent");c.prototype.ip=c.proxy("options.ip");function d(e){var t=i(e);return t}},{"isodate-traverse":38,"./is-enabled":39,"./utils":40,"./address":41,"obj-case":42,"new-date":43}],38:[function(e,t,n){var a=e("is");var r=e("isodate");var i;try{i=e("each")}catch(t){i=e("each-component")}t.exports=o;function o(e,t){if(t===undefined)t=true;if(a.object(e))return s(e,t);if(a.array(e))return l(e,t);return e}function s(e,t){i(e,(function(n,i){if(r.is(i,t)){e[n]=r.parse(i)}else if(a.object(i)||a.array(i)){o(i,t)}}));return e}function l(e,t){i(e,(function(n,i){if(a.object(n)){o(n,t)}else if(r.is(n,t)){e[i]=r.parse(n)}}));return e}},{is:44,isodate:45,each:4}],44:[function(e,t,n){var a=e("is-empty");try{var r=e("type")}catch(t){var r=e("component-type")}var i=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"];for(var o=0,s;s=i[o];o++){n[s]=l(s)}n.fn=n["function"];n.empty=a;n.nan=function(e){return n.number(e)&&e!=e};function l(e){return function(t){return e===r(t)}}},{"is-empty":46,type:47,"component-type":47}],46:[function(e,t,n){t.exports=r;var a=Object.prototype.hasOwnProperty;function r(e){if(null==e)return true;if("number"==typeof e)return 0===e;if(undefined!==e.length)return 0===e.length;for(var t in e){if(a.call(e,t))return false}return true}},{}],47:[function(e,t,n){var a=Object.prototype.toString;t.exports=function(e){switch(a.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}if(e===null)return"null";if(e===undefined)return"undefined";if(e!==e)return"nan";if(e&&e.nodeType===1)return"element";e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e);return _typeof(e)}},{}],45:[function(e,t,n){var a=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;n.parse=function(e){var t=[1,5,6,7,11,12];var n=a.exec(e);var r=0;if(!n)return new Date(e);for(var i=0,o;o=t[i];i++){n[o]=parseInt(n[o],10)||0}n[2]=parseInt(n[2],10)||1;n[3]=parseInt(n[3],10)||1;n[2]--;n[8]=n[8]?(n[8]+"00").substring(0,3):0;if(n[4]==" "){r=(new Date).getTimezoneOffset()}else if(n[9]!=="Z"&&n[10]){r=n[11]*60+n[12];if("+"==n[10])r=0-r}var s=Date.UTC(n[1],n[2],n[3],n[5],n[6]+r,n[7],n[8]);return new Date(s)};n.is=function(e,t){if(t&&false===/^\d{4}-\d{2}-\d{2}/.test(e))return false;return a.test(e)}},{}],4:[function(e,t,n){var a=e("type");var r=Object.prototype.hasOwnProperty;t.exports=function(e,t){switch(a(e)){case"array":return s(e,t);case"object":if("number"==typeof e.length)return s(e,t);return o(e,t);case"string":return i(e,t)}};function i(e,t){for(var n=0;n<e.length;++n){t(e.charAt(n),n)}}function o(e,t){for(var n in e){if(r.call(e,n)){t(n,e[n])}}}function s(e,t){for(var n=0;n<e.length;++n){t(e[n],n)}}},{type:47}],39:[function(e,t,n){var a={Salesforce:true};t.exports=function(e){return!a[e]}},{}],40:[function(e,t,n){try{n.inherit=e("inherit");n.clone=e("clone");n.type=e("type")}catch(t){n.inherit=e("inherit-component");n.clone=e("clone-component");n.type=e("type-component")}},{inherit:48,clone:49,type:47}],48:[function(e,t,n){t.exports=function(e,t){var n=function e(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}},{}],49:[function(e,t,n){var a;try{a=e("component-type")}catch(t){a=e("type")}t.exports=r;function r(e){switch(a(e)){case"object":var t={};for(var n in e){if(e.hasOwnProperty(n)){t[n]=r(e[n])}}return t;case"array":var t=new Array(e.length);for(var i=0,o=e.length;i<o;i++){t[i]=r(e[i])}return t;case"regexp":var s="";s+=e.multiline?"m":"";s+=e.global?"g":"";s+=e.ignoreCase?"i":"";return new RegExp(e.source,s);case"date":return new Date(e.getTime());default:return e}}},{"component-type":47,type:47}],41:[function(e,t,n){var a=e("obj-case");t.exports=function(e){e.zip=t("postalCode","zip");e.country=t("country");e.street=t("street");e.state=t("state");e.city=t("city");function t(e,t){return function(){var n=this.traits();var r=this.properties?this.properties():{};return a(n,"address."+e)||a(n,e)||(t?a(n,"address."+t):null)||(t?a(n,t):null)||a(r,"address."+e)||a(r,e)||(t?a(r,"address."+t):null)||(t?a(r,t):null)}}}},{"obj-case":42}],42:[function(e,t,n){var a=function e(t){return t};t.exports=r(i);t.exports.find=t.exports;t.exports.replace=function(e,t,n,a){r(s).call(this,e,t,n,a);return e};t.exports.del=function(e,t,n){r(o).call(this,e,t,null,n);return e};function r(e){return function(t,n,a,r){var i=r&&u(r.normalizer)?r.normalizer:l;n=i(n);var o;var s=false;while(!s){c()}function c(){for(o in t){var e=i(o);if(0===n.indexOf(e)){var a=n.substr(e.length);if(a.charAt(0)==="."||a.length===0){n=a.substr(1);var r=t[o];if(null==r){s=true;return}if(!n.length){s=true;return}t=r;return}}}o=undefined;s=true}if(!o)return;if(null==t)return t;return e(t,o,a)}}function i(e,t){if(e.hasOwnProperty(t))return e[t]}function o(e,t){if(e.hasOwnProperty(t))delete e[t];return e}function s(e,t,n){if(e.hasOwnProperty(t))e[t]=n;return e}function l(e){return e.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function u(e){return typeof e==="function"}},{}],43:[function(e,t,n){var a=e("is");var r=e("isodate");var i=e("./milliseconds");var o=e("./seconds");t.exports=function e(t){if(a.date(t))return t;if(a.number(t))return new Date(s(t));if(r.is(t))return r.parse(t);if(i.is(t))return i.parse(t);if(o.is(t))return o.parse(t);return new Date(t)};function s(e){if(e<315576e5)return e*1e3;return e}},{is:50,isodate:45,"./milliseconds":51,"./seconds":52}],50:[function(e,t,n){var a=e("is-empty"),r=e("type");var i=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"];for(var o=0,s;s=i[o];o++){n[s]=l(s)}n.fn=n["function"];n.empty=a;n.nan=function(e){return n.number(e)&&e!=e};function l(e){return function(t){return e===r(t)}}},{"is-empty":46,type:47}],51:[function(e,t,n){var a=/\d{13}/;n.is=function(e){return a.test(e)};n.parse=function(e){e=parseInt(e,10);return new Date(e)}},{}],52:[function(e,t,n){var a=/\d{10}/;n.is=function(e){return a.test(e)};n.parse=function(e){var t=parseInt(e,10)*1e3;return new Date(t)}},{}],32:[function(e,t,n){var a=e("./utils").inherit;var r=e("./facade");t.exports=i;function i(e){r.call(this,e)}a(i,r);i.prototype.type=i.prototype.action=function(){return"alias"};i.prototype.from=i.prototype.previousId=function(){return this.field("previousId")||this.field("from")};i.prototype.to=i.prototype.userId=function(){return this.field("userId")||this.field("to")}},{"./utils":40,"./facade":31}],33:[function(e,t,n){var a=e("./utils").inherit;var r=e("./address");var i=e("is-email");var o=e("new-date");var s=e("./facade");t.exports=l;function l(e){s.call(this,e)}a(l,s);l.prototype.type=l.prototype.action=function(){return"group"};l.prototype.groupId=s.field("groupId");l.prototype.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return o(e)};l.prototype.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();if(i(t))return t};l.prototype.traits=function(e){var t=this.properties();var n=this.groupId();e=e||{};if(n)t.id=n;for(var a in e){var r=null==this[a]?this.proxy("traits."+a):this[a]();if(null==r)continue;t[e[a]]=r;delete t[a]}return t};l.prototype.name=s.proxy("traits.name");l.prototype.industry=s.proxy("traits.industry");l.prototype.employees=s.proxy("traits.employees");l.prototype.properties=function(){return this.field("traits")||this.field("properties")||{}}},{"./utils":40,"./address":41,"is-email":53,"new-date":43,"./facade":31}],53:[function(e,t,n){t.exports=r;var a=/.+\@.+\..+/;function r(e){return a.test(e)}},{}],34:[function(e,t,n){var a=e("./address");var r=e("./facade");var i=e("is-email");var o=e("new-date");var s=e("./utils");var l=e("obj-case");var u=e("trim");var c=s.inherit;var d=s.clone;var f=s.type;t.exports=p;function p(e){r.call(this,e)}c(p,r);p.prototype.type=p.prototype.action=function(){return"identify"};p.prototype.traits=function(e){var t=this.field("traits")||{};var n=this.userId();e=e||{};if(n)t.id=n;for(var a in e){var r=null==this[a]?this.proxy("traits."+a):this[a]();if(null==r)continue;t[e[a]]=r;if(a!==e[a])delete t[a]}return t};p.prototype.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();if(i(t))return t};p.prototype.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return o(e)};p.prototype.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return o(e)};p.prototype.name=function(){var e=this.proxy("traits.name");if(typeof e==="string")return u(e);var t=this.firstName();var n=this.lastName();if(t&&n)return u(t+" "+n)};p.prototype.firstName=function(){var e=this.proxy("traits.firstName");if(typeof e==="string")return u(e);var t=this.proxy("traits.name");if(typeof t==="string")return u(t).split(" ")[0]};p.prototype.lastName=function(){var e=this.proxy("traits.lastName");if(typeof e==="string")return u(e);var t=this.proxy("traits.name");if(typeof t!=="string")return;var n=u(t).indexOf(" ");if(n===-1)return;return u(t.substr(n+1))};p.prototype.uid=function(){return this.userId()||this.username()||this.email()};p.prototype.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};p.prototype.age=function(){var e=this.birthday();var t=l(this.traits(),"age");if(null!=t)return t;if("date"!=f(e))return;var n=new Date;return n.getFullYear()-e.getFullYear()};p.prototype.avatar=function(){var e=this.traits();return l(e,"avatar")||l(e,"photoUrl")||l(e,"avatarUrl")};p.prototype.position=function(){var e=this.traits();return l(e,"position")||l(e,"jobTitle")};p.prototype.username=r.proxy("traits.username");p.prototype.website=r.one("traits.website");p.prototype.websites=r.multi("traits.website");p.prototype.phone=r.one("traits.phone");p.prototype.phones=r.multi("traits.phone");p.prototype.address=r.proxy("traits.address");p.prototype.gender=r.proxy("traits.gender");p.prototype.birthday=r.proxy("traits.birthday")},{"./address":41,"./facade":31,"is-email":53,"new-date":43,"./utils":40,"obj-case":42,trim:54}],54:[function(e,t,n){n=t.exports=a;function a(e){if(e.trim)return e.trim();return e.replace(/^\s*|\s*$/g,"")}n.left=function(e){if(e.trimLeft)return e.trimLeft();return e.replace(/^\s*/,"")};n.right=function(e){if(e.trimRight)return e.trimRight();return e.replace(/\s*$/,"")}},{}],35:[function(e,t,n){var a=e("./utils").inherit;var r=e("./utils").clone;var i=e("./utils").type;var o=e("./facade");var s=e("./identify");var l=e("is-email");var u=e("obj-case");t.exports=c;function c(e){o.call(this,e)}a(c,o);c.prototype.type=c.prototype.action=function(){return"track"};c.prototype.event=o.field("event");c.prototype.value=o.proxy("properties.value");c.prototype.category=o.proxy("properties.category");c.prototype.id=o.proxy("properties.id");c.prototype.sku=o.proxy("properties.sku");c.prototype.tax=o.proxy("properties.tax");c.prototype.name=o.proxy("properties.name");c.prototype.price=o.proxy("properties.price");c.prototype.total=o.proxy("properties.total");c.prototype.coupon=o.proxy("properties.coupon");c.prototype.shipping=o.proxy("properties.shipping");c.prototype.discount=o.proxy("properties.discount");c.prototype.description=o.proxy("properties.description");c.prototype.plan=o.proxy("properties.plan");c.prototype.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.orderId")};c.prototype.subtotal=function(){var e=u(this.properties(),"subtotal");var t=this.total();var n;if(e)return e;if(!t)return 0;if(n=this.tax())t-=n;if(n=this.shipping())t-=n;if(n=this.discount())t+=n;return t};c.prototype.products=function(){var e=this.properties();var t=u(e,"products");return"array"==i(t)?t:[]};c.prototype.quantity=function(){var e=this.obj.properties||{};return e.quantity||1};c.prototype.currency=function(){var e=this.obj.properties||{};return e.currency||"USD"};c.prototype.referrer=o.proxy("properties.referrer");c.prototype.query=o.proxy("options.query");c.prototype.properties=function(e){var t=this.field("properties")||{};e=e||{};for(var n in e){var a=null==this[n]?this.proxy("properties."+n):this[n]();if(null==a)continue;t[e[n]]=a;delete t[n]}return t};c.prototype.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};c.prototype.email=function(){var e=this.proxy("traits.email");e=e||this.proxy("properties.email");if(e)return e;var t=this.userId();if(l(t))return t};c.prototype.revenue=function(){var e=this.proxy("properties.revenue");var t=this.event();if(!e&&t&&t.match(/completed ?order/i)){e=this.proxy("properties.total")}return d(e)};c.prototype.cents=function(){var e=this.revenue();return"number"!=typeof e?this.value()||0:e*100};c.prototype.identify=function(){var e=this.json();e.traits=this.traits();return new s(e)};function d(e){if(!e)return;if(typeof e==="number")return e;if(typeof e!=="string")return;e=e.replace(/\$/g,"");e=parseFloat(e);if(!isNaN(e))return e}},{"./utils":40,"./facade":31,"./identify":34,"is-email":53,"obj-case":42}],36:[function(e,t,n){var a=e("./utils").inherit;var r=e("./facade");var i=e("./track");t.exports=o;function o(e){r.call(this,e)}a(o,r);o.prototype.type=o.prototype.action=function(){return"page"};o.prototype.category=r.field("category");o.prototype.name=r.field("name");o.prototype.title=r.proxy("properties.title");o.prototype.path=r.proxy("properties.path");o.prototype.url=r.proxy("properties.url");o.prototype.referrer=function(){return this.proxy("properties.referrer")||this.proxy("context.referrer.url")};o.prototype.properties=function(){var e=this.field("properties")||{};var t=this.category();var n=this.name();if(t)e.category=t;if(n)e.name=n;return e};o.prototype.fullName=function(){var e=this.category();var t=this.name();return t&&e?e+" "+t:t};o.prototype.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"};o.prototype.track=function(e){var t=this.properties();return new i({event:this.event(e),timestamp:this.timestamp(),context:this.context(),properties:t})}},{"./utils":40,"./facade":31,"./track":35}],37:[function(e,t,n){var a=e("./utils").inherit;var r=e("./page");var i=e("./track");t.exports=o;function o(e){r.call(this,e)}a(o,r);o.prototype.type=o.prototype.action=function(){return"screen"};o.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"};o.prototype.track=function(e){var t=this.properties();return new i({event:this.event(e),timestamp:this.timestamp(),context:this.context(),properties:t})}},{"./utils":40,"./page":36,"./track":35}],10:[function(e,t,n){t.exports=function e(t,n){if(t<=0)return n();return function(){if(--t<1){return n.apply(this,arguments)}}}},{}],11:[function(e,t,n){try{var a=e("bind")}catch(t){var a=e("bind-component")}var r=e("bind-all");t.exports=n=a;n.all=r;n.methods=i;function i(e,t){t=[].slice.call(arguments,1);for(var n=0,r;r=t[n];n++){e[r]=a(e,e[r])}return e}},{bind:55,"bind-all":56}],55:[function(e,t,n){var a=[].slice;t.exports=function(e,t){if("string"==typeof t)t=e[t];if("function"!=typeof t)throw new Error("bind() _requires a function");var n=a.call(arguments,2);return function(){return t.apply(e,n.concat(a.call(arguments)))}}},{}],56:[function(e,t,n){try{var a=e("bind");var r=e("type")}catch(t){var a=e("bind-component");var r=e("type-component")}t.exports=function(e){for(var t in e){var n=e[t];if(r(n)==="function")e[t]=a(e,e[t])}return e}},{bind:55,type:47}],12:[function(e,t,n){var a=e("next-tick");t.exports=r;function r(e){if("function"===typeof e)e()}r.async=function(e,t){if("function"!==typeof e)return;if(!t)return a(e);setTimeout(e,t)};r.sync=r},{"next-tick":57}],57:[function(e,t,n){"use strict";if(typeof setImmediate=="function"){t.exports=function(e){setImmediate(e)}}else if(typeof process!="undefined"&&typeof process.nextTick=="function"){t.exports=process.nextTick}else if(typeof window=="undefined"||window.ActiveXObject||!window.postMessage){t.exports=function(e){setTimeout(e)}}else{var a=[];window.addEventListener("message",(function(){var e=0;while(e<a.length){try{a[e++]()}catch(t){a=a.slice(e);window.postMessage("tic!","*");throw t}}a.length=0}),true);t.exports=function(e){if(!a.length)window.postMessage("tic!","*");a.push(e)}}},{}],13:[function(e,t,n){var a;try{a=e("type")}catch(t){a=e("type-component")}t.exports=r;function r(e){switch(a(e)){case"object":var t={};for(var n in e){if(e.hasOwnProperty(n)){t[n]=r(e[n])}}return t;case"array":var t=new Array(e.length);for(var i=0,o=e.length;i<o;i++){t[i]=r(e[i])}return t;case"regexp":var s="";s+=e.multiline?"m":"";s+=e.global?"g":"";s+=e.ignoreCase?"i":"";return new RegExp(e.source,s);case"date":return new Date(e.getTime());default:return e}}},{type:47}],14:[function(e,t,n){var a=e("bind");var r=e("clone");var i=e("cookie");var o=e("debug")("analytics.js:cookie");var s=e("defaults");var l=e("json");var u=e("top-domain");function c(e){this.options(e)}c.prototype.options=function(e){if(arguments.length===0)return this._options;e=e||{};var t="."+u(window.location.href);if(t===".")t=null;this._options=s(e,{maxage:31536e6,path:"/",domain:t});this.set("ajs:test",true);if(!this.get("ajs:test")){o("fallback to domain=null");this._options.domain=null}this.remove("ajs:test")};c.prototype.set=function(e,t){try{t=l.stringify(t);i(e,t,r(this._options));return true}catch(e){return false}};c.prototype.get=function(e){try{var t=i(e);t=t?l.parse(t):null;return t}catch(e){return null}};c.prototype.remove=function(e){try{i(e,null,r(this._options));return true}catch(e){return false}};t.exports=a.all(new c);t.exports.Cookie=c},{bind:11,clone:13,cookie:58,debug:15,defaults:16,json:59,"top-domain":60}],58:[function(e,t,n){var a=e("debug")("cookie");t.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return r(e,t,n);case 1:return o(e);default:return i()}};function r(e,t,n){n=n||{};var a=l(e)+"="+l(t);if(null==t)n.maxage=-1;if(n.maxage){n.expires=new Date(+new Date+n.maxage)}if(n.path)a+="; path="+n.path;if(n.domain)a+="; domain="+n.domain;if(n.expires)a+="; expires="+n.expires.toUTCString();if(n.secure)a+="; secure";document.cookie=a}function i(){return s(document.cookie)}function o(e){return i()[e]}function s(e){var t={};var n=e.split(/ *; */);var a;if(""==n[0])return t;for(var r=0;r<n.length;++r){a=n[r].split("=");t[u(a[0])]=u(a[1])}return t}function l(e){try{return encodeURIComponent(e)}catch(t){a("error `encode(%o)` - %o",e,t)}}function u(e){try{return decodeURIComponent(e)}catch(t){a("error `decode(%o)` - %o",e,t)}}},{debug:15}],15:[function(e,t,n){if("undefined"==typeof window){t.exports=e("./lib/debug")}else{t.exports=e("./debug")}},{"./lib/debug":61,"./debug":62}],61:[function(e,t,n){var a=e("tty");t.exports=f;var r=[],i=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach((function(e){e=e.replace("*",".*?");if(e[0]==="-"){i.push(new RegExp("^"+e.substr(1)+"$"))}else{r.push(new RegExp("^"+e+"$"))}}));var o=[6,2,3,4,5,1];var s={};var l=0;var u=a.isatty(2);function c(){return o[l++%o.length]}function d(e){var t=1e3,n=60*1e3,a=60*n;if(e>=a)return(e/a).toFixed(1)+"h";if(e>=n)return(e/n).toFixed(1)+"m";if(e>=t)return(e/t|0)+"s";return e+"ms"}function f(e){function t(){}t.enabled=false;var n=i.some((function(t){return t.test(e)}));if(n)return t;n=r.some((function(t){return t.test(e)}));if(!n)return t;var a=c();function o(t){t=p(t);var n=new Date;var r=n-(s[e]||n);s[e]=n;t="  [9"+a+"m"+e+" "+"[3"+a+"m[90m"+t+"[3"+a+"m"+" +"+d(r)+"[0m";console.error.apply(this,arguments)}function l(t){t=p(t);t=(new Date).toUTCString()+" "+e+" "+t;console.error.apply(this,arguments)}o.enabled=l.enabled=true;return u||process.env.DEBUG_COLORS?o:l}function p(e){if(e instanceof Error)return e.stack||e.message;return e}},{}],62:[function(e,t,n){t.exports=a;function a(e){if(!a.enabled(e))return function(){};return function(t){t=r(t);var n=new Date;var i=n-(a[e]||n);a[e]=n;t=e+" "+t+" +"+a.humanize(i);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}}a.names=[];a.skips=[];a.enable=function(e){try{localStorage.debug=e}catch(e){}var t=(e||"").split(/[\s,]+/),n=t.length;for(var r=0;r<n;r++){e=t[r].replace("*",".*?");if(e[0]==="-"){a.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{a.names.push(new RegExp("^"+e+"$"))}}};a.disable=function(){a.enable("")};a.humanize=function(e){var t=1e3,n=60*1e3,a=60*n;if(e>=a)return(e/a).toFixed(1)+"h";if(e>=n)return(e/n).toFixed(1)+"m";if(e>=t)return(e/t|0)+"s";return e+"ms"};a.enabled=function(e){for(var t=0,n=a.skips.length;t<n;t++){if(a.skips[t].test(e)){return false}}for(var t=0,n=a.names.length;t<n;t++){if(a.names[t].test(e)){return true}}return false};function r(e){if(e instanceof Error)return e.stack||e.message;return e}try{if(window.localStorage)a.enable(localStorage.debug)}catch(e){}},{}],16:[function(e,t,n){"use strict";var a=function e(t,n,a){for(var r in n){if(a&&t[r]instanceof Object&&n[r]instanceof Object){t[r]=e(t[r],n[r],true)}else if(!(r in t)){t[r]=n[r]}}return t};t.exports=a},{}],59:[function(e,t,n){var a=window.JSON||{};var r=a.stringify;var i=a.parse;t.exports=i&&r?JSON:e("json-fallback")},{"json-fallback":63}],63:[function(_require,module,exports){(function(){"use strict";var JSON=module.exports={};function f(e){return e<10?"0"+e:e}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var cx,escapable,gap,indent,meta,rep;function quote(e){escapable.lastIndex=0;return escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return typeof t==="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,a,r,i,o=gap,s,l=t[e];if(l&&_typeof(l)==="object"&&typeof l.toJSON==="function"){l=l.toJSON(e)}if(typeof rep==="function"){l=rep.call(t,e,l)}switch(_typeof(l)){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l){return"null"}gap+=indent;s=[];if(Object.prototype.toString.apply(l)==="[object Array]"){i=l.length;for(n=0;n<i;n+=1){s[n]=str(n,l)||"null"}r=s.length===0?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+o+"]":"["+s.join(",")+"]";gap=o;return r}if(rep&&_typeof(rep)==="object"){i=rep.length;for(n=0;n<i;n+=1){if(typeof rep[n]==="string"){a=rep[n];r=str(a,l);if(r){s.push(quote(a)+(gap?": ":":")+r)}}}}else{for(a in l){if(Object.prototype.hasOwnProperty.call(l,a)){r=str(a,l);if(r){s.push(quote(a)+(gap?": ":":")+r)}}}}r=s.length===0?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+o+"}":"{"+s.join(",")+"}";gap=o;return r}}if(typeof JSON.stringify!=="function"){escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(e,t,n){var a;gap="";indent="";if(typeof n==="number"){for(a=0;a<n;a+=1){indent+=" "}}else if(typeof n==="string"){indent=n}rep=t;if(t&&typeof t!=="function"&&(_typeof(t)!=="object"||typeof t.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":e})}}if(typeof JSON.parse!=="function"){cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;JSON.parse=function(text,reviver){var j;function walk(e,t){var n,a,r=e[t];if(r&&_typeof(r)==="object"){for(n in r){if(Object.prototype.hasOwnProperty.call(r,n)){a=walk(r,n);if(a!==undefined){r[n]=a}else{delete r[n]}}}}return reviver.call(e,t,r)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})()},{}],60:[function(e,t,n){var a=e("url").parse;var r=e("cookie");n=t.exports=i;n.cookie=r;function i(e){var t=n.cookie;var a=n.levels(e);for(var r=0;r<a.length;++r){var i="__tld__";var o=a[r];var s={domain:"."+o};t(i,1,s);if(t(i)){t(i,null,s);return o}}return""}i.levels=function(e){var t=a(e).hostname;var n=t.split(".");var r=n[n.length-1];var i=[];if(4==n.length&&parseInt(r,10)==r){return i}if(1>=n.length){return i}for(var o=n.length-2;0<=o;--o){i.push(n.slice(o).join("."))}return i}},{url:64,cookie:65}],64:[function(e,t,n){n.parse=function(e){var t=document.createElement("a");t.href=e;return{href:t.href,host:t.host||location.host,port:"0"===t.port||""===t.port?a(t.protocol):t.port,hash:t.hash,hostname:t.hostname||location.hostname,pathname:t.pathname.charAt(0)!="/"?"/"+t.pathname:t.pathname,protocol:!t.protocol||":"==t.protocol?location.protocol:t.protocol,search:t.search,query:t.search.slice(1)}};n.isAbsolute=function(e){return 0==e.indexOf("//")||!!~e.indexOf("://")};n.isRelative=function(e){return!n.isAbsolute(e)};n.isCrossDomain=function(e){e=n.parse(e);var t=n.parse(window.location.href);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol};function a(e){switch(e){case"http:":return 80;case"https:":return 443;default:return location.port}}},{}],65:[function(e,t,n){var a=e("debug")("cookie");t.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return r(e,t,n);case 1:return o(e);default:return i()}};function r(e,t,n){n=n||{};var a=l(e)+"="+l(t);if(null==t)n.maxage=-1;if(n.maxage){n.expires=new Date(+new Date+n.maxage)}if(n.path)a+="; path="+n.path;if(n.domain)a+="; domain="+n.domain;if(n.expires)a+="; expires="+n.expires.toUTCString();if(n.secure)a+="; secure";document.cookie=a}function i(){var e;try{e=document.cookie}catch(e){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(e.stack||e)}return{}}return s(e)}function o(e){return i()[e]}function s(e){var t={};var n=e.split(/ *; */);var a;if(""==n[0])return t;for(var r=0;r<n.length;++r){a=n[r].split("=");t[u(a[0])]=u(a[1])}return t}function l(e){try{return encodeURIComponent(e)}catch(t){a("error `encode(%o)` - %o",e,t)}}function u(e){try{return decodeURIComponent(e)}catch(t){a("error `decode(%o)` - %o",e,t)}}},{debug:15}],17:[function(e,t,n){var a=e("./entity");var r=e("bind");var i=e("debug")("analytics:group");var o=e("inherit");s.defaults={persist:true,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}};function s(e){this.defaults=s.defaults;this.debug=i;a.call(this,e)}o(s,a);t.exports=r.all(new s);t.exports.Group=s},{"./entity":66,bind:11,debug:15,inherit:67}],66:[function(e,t,n){var a=e("clone");var r=e("./cookie");var i=e("debug")("analytics:entity");var o=e("defaults");var s=e("extend");var l=e("./memory");var u=e("./store");var c=e("isodate-traverse");t.exports=d;function d(e){this.options(e);this.initialize()}d.prototype.initialize=function(){r.set("ajs:cookies",true);if(r.get("ajs:cookies")){r.remove("ajs:cookies");this._storage=r;return}if(u.enabled){this._storage=u;return}i("warning using memory store both cookies and localStorage are disabled");this._storage=l};d.prototype.storage=function(){return this._storage};d.prototype.options=function(e){if(arguments.length===0)return this._options;this._options=o(e||{},this.defaults||{})};d.prototype.id=function(e){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(e);default:}};d.prototype._getId=function(){var e=this._options.persist?this.storage().get(this._options.cookie.key):this._id;return e===undefined?null:e};d.prototype._setId=function(e){if(this._options.persist){this.storage().set(this._options.cookie.key,e)}else{this._id=e}};d.prototype.properties=d.prototype.traits=function(e){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(e);default:}};d.prototype._getTraits=function(){var e=this._options.persist?u.get(this._options.localStorage.key):this._traits;return e?c(a(e)):{}};d.prototype._setTraits=function(e){e=e||{};if(this._options.persist){u.set(this._options.localStorage.key,e)}else{this._traits=e}};d.prototype.identify=function(e,t){t=t||{};var n=this.id();if(n===null||n===e)t=s(this.traits(),t);if(e)this.id(e);this.debug("identify %o, %o",e,t);this.traits(t);this.save()};d.prototype.save=function(){if(!this._options.persist)return false;r.set(this._options.cookie.key,this.id());u.set(this._options.localStorage.key,this.traits());return true};d.prototype.logout=function(){this.id(null);this.traits({});r.remove(this._options.cookie.key);u.remove(this._options.localStorage.key)};d.prototype.reset=function(){this.logout();this.options({})};d.prototype.load=function(){this.id(r.get(this._options.cookie.key));this.traits(u.get(this._options.localStorage.key))}},{clone:13,"./cookie":14,debug:15,defaults:16,extend:68,"./memory":21,"./store":28,"isodate-traverse":38}],68:[function(e,t,n){t.exports=function e(t){var n=Array.prototype.slice.call(arguments,1);for(var a=0,r;r=n[a];a++){if(!r)continue;for(var i in r){t[i]=r[i]}}return t}},{}],21:[function(e,t,n){var a=e("bind");var r=e("clone");var i=Object.prototype.hasOwnProperty;t.exports=a.all(new o);function o(){this.store={}}o.prototype.set=function(e,t){this.store[e]=r(t);return true};o.prototype.get=function(e){if(!i.call(this.store,e))return;return r(this.store[e])};o.prototype.remove=function(e){delete this.store[e];return true}},{bind:11,clone:13}],28:[function(e,t,n){var a=e("bind");var r=e("defaults");var i=e("store.js");function o(e){this.options(e)}o.prototype.options=function(e){if(arguments.length===0)return this._options;e=e||{};r(e,{enabled:true});this.enabled=e.enabled&&i.enabled;this._options=e};o.prototype.set=function(e,t){if(!this.enabled)return false;return i.set(e,t)};o.prototype.get=function(e){if(!this.enabled)return null;return i.get(e)};o.prototype.remove=function(e){if(!this.enabled)return false;return i.remove(e)};t.exports=a.all(new o);t.exports.Store=o},{bind:11,defaults:16,"store.js":69}],69:[function(e,t,n){var a=e("json"),r={},i=window,o=i.document,s="localStorage",l="__storejs__",u;r.disabled=false;r.set=function(e,t){};r.get=function(e){};r.remove=function(e){};r.clear=function(){};r.transact=function(e,t,n){var a=r.get(e);if(n==null){n=t;t=null}if(typeof a=="undefined"){a=t||{}}n(a);r.set(e,a)};r.getAll=function(){};r.serialize=function(e){return a.stringify(e)};r.deserialize=function(e){if(typeof e!="string"){return undefined}try{return a.parse(e)}catch(t){return e||undefined}};function c(){try{return s in i&&i[s]}catch(e){return false}}if(c()){u=i[s];r.set=function(e,t){if(t===undefined){return r.remove(e)}u.setItem(e,r.serialize(t));return t};r.get=function(e){return r.deserialize(u.getItem(e))};r.remove=function(e){u.removeItem(e)};r.clear=function(){u.clear()};r.getAll=function(){var e={};for(var t=0;t<u.length;++t){var n=u.key(t);e[n]=r.get(n)}return e}}else if(o.documentElement.addBehavior){var d=function e(t){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(u);p.appendChild(u);u.addBehavior("#default#userData");u.load(s);var n=t.apply(r,e);p.removeChild(u);return n}};var f=function e(t){return t.replace(h,"___")};var p,v;try{v=new ActiveXObject("htmlfile");v.open();v.write("<s"+"cript>document.w=window</s"+'cript><iframe src="/favicon.ico"></iframe>');v.close();p=v.w.frames[0].document;u=p.createElement("div")}catch(e){u=o.createElement("div");p=o.body}var h=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");r.set=d((function(e,t,n){t=f(t);if(n===undefined){return r.remove(t)}e.setAttribute(t,r.serialize(n));e.save(s);return n}));r.get=d((function(e,t){t=f(t);return r.deserialize(e.getAttribute(t))}));r.remove=d((function(e,t){t=f(t);e.removeAttribute(t);e.save(s)}));r.clear=d((function(e){var t=e.XMLDocument.documentElement.attributes;e.load(s);for(var n=0,a;a=t[n];n++){e.removeAttribute(a.name)}e.save(s)}));r.getAll=d((function(e){var t=e.XMLDocument.documentElement.attributes;var n={};for(var a=0,i;i=t[a];++a){var o=f(i.name);n[i.name]=r.deserialize(e.getAttribute(o))}return n}))}try{r.set(l,l);if(r.get(l)!=l){r.disabled=true}r.remove(l)}catch(e){r.disabled=true}r.enabled=!r.disabled;t.exports=r},{json:59}],67:[function(e,t,n){t.exports=function(e,t){var n=function e(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}},{}],18:[function(e,t,n){var a=e("is-empty");try{var r=e("type")}catch(t){var r=e("component-type")}var i=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"];for(var o=0,s;s=i[o];o++){n[s]=l(s)}n.fn=n["function"];n.empty=a;n.nan=function(e){return n.number(e)&&e!=e};function l(e){return function(t){return e===r(t)}}},{"is-empty":46,type:47,"component-type":47}],19:[function(e,t,n){t.exports=function e(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return true;var n=t.which,a=t.button;if(!n&&a!==undefined){return!a&1&&!a&2&&a&4}else if(n===2){return true}return false}},{}],20:[function(e,t,n){var a=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e){if(a.call(e,n)){t.push(n)}}return t};n.values=function(e){var t=[];for(var n in e){if(a.call(e,n)){t.push(e[n])}}return t};n.merge=function(e,t){for(var n in t){if(a.call(t,n)){e[n]=t[n]}}return e};n.length=function(e){return n.keys(e).length};n.isEmpty=function(e){return 0==n.length(e)}},{}],22:[function(e,t,n){var a=e("debug")("analytics.js:normalize");var r=e("defaults");var i=e("each");var o=e("includes");var s=e("is");var l=e("component/map");var u=Object.prototype.hasOwnProperty;t.exports=d;var c=["integrations","anonymousId","timestamp","context"];function d(e,t){var n=l(t,(function(e){return e.toLowerCase()}));var d=e.options||{};var f=d.integrations||{};var p=d.providers||{};var v=d.context||{};var h={};a("<-",e);i(d,(function(e,t){if(!m(e))return;if(!u.call(f,e))f[e]=t;delete d[e]}));delete d.providers;i(p,(function(e,t){if(!m(e))return;if(s.object(f[e]))return;if(u.call(f,e)&&typeof p[e]==="boolean")return;f[e]=t}));i(d,(function(e){if(o(e,c)){h[e]=d[e]}else{v[e]=d[e]}}));delete e.options;h.integrations=f;h.context=v;h=r(h,e);a("->",h);return h;function m(e){return!!(o(e,t)||e.toLowerCase()==="all"||o(e.toLowerCase(),n))}}},{debug:15,defaults:16,each:4,includes:70,is:18,"component/map":71}],70:[function(e,t,n){"use strict";var a;try{a=e("@ndhoule/each")}catch(t){a=e("each")}var r=String.prototype.indexOf;var i=function e(t,n){if(t===n){return t!==0||1/t===1/n}return t!==t&&n!==n};var o=function e(t,n){var o=false;if(typeof n==="string"){return r.call(n,t)!==-1}a((function(e){if(i(e,t)){o=true;return false}}),n);return o};t.exports=o},{each:72}],72:[function(e,t,n){"use strict";var a;try{a=e("@ndhoule/keys")}catch(t){a=e("keys")}var r=Object.prototype.toString;var i=function e(t){var n=_typeof(t);return n==="number"||n==="object"&&r.call(t)==="[object Number]"};var o=typeof Array.isArray==="function"?Array.isArray:function e(t){return r.call(t)==="[object Array]"};var s=function e(t){return t!=null&&(o(t)||t!=="function"&&i(t.length))};var l=function e(t,n){for(var a=0;a<n.length;a+=1){if(t(n[a],a,n)===false){break}}};var u=function e(t,n){var r=a(n);for(var i=0;i<r.length;i+=1){if(t(n[r[i]],r[i],n)===false){break}}};var c=function e(t,n){return(s(n)?l:u).call(this,t,n)};t.exports=c},{keys:73}],73:[function(e,t,n){"use strict";var a=String.prototype.charAt;var r=function e(t,n){return a.call(t,n)};var i=Object.prototype.hasOwnProperty;var o=Object.prototype.toString;var s=function e(t,n){return i.call(t,n)};var l=function e(t){return o.call(t)==="[object String]"};var u=function e(t){return t!=null&&typeof t!=="function"&&typeof t.length==="number"};var c=function e(t,n){n=n||s;var a=[];for(var r=0,i=t.length;r<i;r+=1){if(n(t,r)){a.push(String(r))}}return a};var d=function e(t,n){n=n||s;var a=[];for(var r in t){if(n(t,r)){a.push(String(r))}}return a};t.exports=function e(t){if(t==null){return[]}if(l(t)){return c(t,r)}if(u(t)){return c(t,s)}return d(t)}},{}],71:[function(e,t,n){var a=e("to-function");t.exports=function(e,t){var n=[];t=a(t);for(var r=0;r<e.length;++r){n.push(t(e[r],r))}return n}},{"to-function":74}],74:[function(e,t,n){var a;try{a=e("props")}catch(t){a=e("component-props")}t.exports=r;function r(e){switch({}.toString.call(e)){case"[object Object]":return l(e);case"[object Function]":return e;case"[object String]":return s(e);case"[object RegExp]":return o(e);default:return i(e)}}function i(e){return function(t){return e===t}}function o(e){return function(t){return e.test(t)}}function s(e){if(/^ *\W+/.test(e))return new Function("_","return _ "+e);return new Function("_","return "+u(e))}function l(e){var t={};for(var n in e){t[n]=typeof e[n]==="string"?i(e[n]):r(e[n])}return function(e){if(_typeof(e)!=="object")return false;for(var n in t){if(!(n in e))return false;if(!t[n](e[n]))return false}return true}}function u(e){var t=a(e);if(!t.length)return"_."+e;var n,r,i;for(r=0;r<t.length;r++){i=t[r];n="_."+i;n="('function' == typeof "+n+" ? "+n+"() : "+n+")";e=c(i,e,n)}return e}function c(e,t,n){return t.replace(new RegExp("(\\.)?"+e,"g"),(function(e,t){return t?e:n}))}},{props:75,"component-props":75}],75:[function(e,t,n){var a=/\b(this|Array|Date|Object|Math|JSON)\b/g;t.exports=function(e,t){var n=o(r(e));if(t&&"string"==typeof t)t=s(t);if(t)return i(e,n,t);return n};function r(e){return e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(a,"").match(/[$a-zA-Z_]\w*/g)||[]}function i(e,t,n){var a=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g;return e.replace(a,(function(e){if("("==e[e.length-1])return n(e);if(!~t.indexOf(e))return e;return n(e)}))}function o(e){var t=[];for(var n=0;n<e.length;n++){if(~t.indexOf(e[n]))continue;t.push(e[n])}return t}function s(e){return function(t){return e+t}}},{}],23:[function(e,t,n){n.bind=function(e,t,n,a){if(e.addEventListener){e.addEventListener(t,n,a||false)}else{e.attachEvent("on"+t,n)}return n};n.unbind=function(e,t,n,a){if(e.removeEventListener){e.removeEventListener(t,n,a||false)}else{e.detachEvent("on"+t,n)}return n}},{}],24:[function(e,t,n){var a=e("canonical");var r=e("includes");var i=e("url");function o(){return{path:s(),referrer:document.referrer,search:location.search,title:document.title,url:l(location.search)}}function s(){var e=a();if(!e)return window.location.pathname;var t=i.parse(e);return t.pathname}function l(e){var t=a();if(t)return r("?",t)?t:t+e;var n=window.location.href;var i=n.indexOf("#");return i===-1?n:n.slice(0,i)}t.exports=o},{canonical:76,includes:70,url:77}],76:[function(e,t,n){t.exports=function e(){var t=document.getElementsByTagName("link");for(var n=0,a;a=t[n];n++){if("canonical"==a.getAttribute("rel"))return a.getAttribute("href")}}},{}],77:[function(e,t,n){n.parse=function(e){var t=document.createElement("a");t.href=e;return{href:t.href,host:t.host||location.host,port:"0"===t.port||""===t.port?a(t.protocol):t.port,hash:t.hash,hostname:t.hostname||location.hostname,pathname:t.pathname.charAt(0)!="/"?"/"+t.pathname:t.pathname,protocol:!t.protocol||":"==t.protocol?location.protocol:t.protocol,search:t.search,query:t.search.slice(1)}};n.isAbsolute=function(e){return 0==e.indexOf("//")||!!~e.indexOf("://")};n.isRelative=function(e){return!n.isAbsolute(e)};n.isCrossDomain=function(e){e=n.parse(e);var t=n.parse(window.location.href);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol};function a(e){switch(e){case"http:":return 80;case"https:":return 443;default:return location.port}}},{}],25:[function(e,t,n){"use strict";var a=Object.prototype.toString;var r=function e(t){return t!=null};var i=function e(t){return a.call(t)==="[object Array]"};var o=function e(t){return typeof t==="string"||a.call(t)==="[object String]"};var s=function e(t){return t!=null&&_typeof(t)==="object"};var l=function e(t,n){if(!r(n)||!s(n)){return{}}if(o(t)){t=[t]}if(!i(t)){t=[]}var a={};for(var l=0;l<t.length;l+=1){if(o(t[l])&&t[l]in n){a[t[l]]=n[t[l]]}}return a};t.exports=l},{}],26:[function(e,t,n){t.exports=function(e){e=e||window.event;return e.preventDefault?e.preventDefault():e.returnValue=false}},{}],27:[function(e,t,n){var a=e("trim");var r=e("type");var i=/(\w+)\[(\d+)\]/;var o=function e(t){try{return encodeURIComponent(t)}catch(e){return t}};var s=function e(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}};n.parse=function(e){if("string"!=typeof e)return{};e=a(e);if(""==e)return{};if("?"==e.charAt(0))e=e.slice(1);var t={};var n=e.split("&");for(var r=0;r<n.length;r++){var o=n[r].split("=");var l=s(o[0]);var u;if(u=i.exec(l)){t[u[1]]=t[u[1]]||[];t[u[1]][u[2]]=s(o[1]);continue}t[o[0]]=null==o[1]?"":s(o[1])}return t};n.stringify=function(e){if(!e)return"";var t=[];for(var n in e){var a=e[n];if("array"==r(a)){for(var i=0;i<a.length;++i){t.push(o(n+"["+i+"]")+"="+o(a[i]))}continue}t.push(o(n)+"="+o(e[n]))}return t.join("&")}},{trim:54,type:47}],29:[function(e,t,n){var a=e("./entity");var r=e("bind");var i=e("./cookie");var o=e("debug")("analytics:user");var s=e("inherit");var l=e("cookie");var u=e("uuid");c.defaults={persist:false,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}};function c(e){this.defaults=c.defaults;this.debug=o;a.call(this,e)}s(c,a);c.prototype.id=function(e){var t=this._getId();var n=a.prototype.id.apply(this,arguments);if(t==null)return n;if(t!=e&&e)this.anonymousId(null);return n};c.prototype.anonymousId=function(e){var t=this.storage();if(arguments.length){t.set("ajs_anonymous_id",e);return this}e=t.get("ajs_anonymous_id");if(e){return e}e=l("_sio");if(e){e=e.split("----")[0];t.set("ajs_anonymous_id",e);t.remove("_sio");return e}e=u();t.set("ajs_anonymous_id",e);return t.get("ajs_anonymous_id")};c.prototype.logout=function(){a.prototype.logout.call(this);this.anonymousId(null)};c.prototype.load=function(){if(this._loadOldCookie())return;a.prototype.load.call(this)};c.prototype._loadOldCookie=function(){var e=i.get(this._options.cookie.oldKey);if(!e)return false;this.id(e.id);this.traits(e.traits);i.remove(this._options.cookie.oldKey);return true};t.exports=r.all(new c);t.exports.User=c},{"./entity":66,bind:11,"./cookie":14,debug:15,inherit:67,cookie:58,uuid:78}],78:[function(e,t,n){t.exports=function e(t){return t?(t^Math.random()*16>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}},{}],7:[function(e,t,n){t.exports={name:"analytics-core",version:"2.10.0",main:"analytics.js",dependencies:{},devDependencies:{}}},{}],3:[function(e,t,n){"use strict";t.exports={amplitude:e("analytics.js-integration-amplitude"),segmentio:e("analytics.js-integration-segmentio")}},{"analytics.js-integration-amplitude":82,"analytics.js-integration-segmentio":149}],166:[function(e,t,n){var a=e("bind");var r=e("clone");var i=e("debug");var o=e("defaults");var s=e("extend");var l=e("slug");var u=e("./protos");var c=e("./statics");function d(e){function t(n){if(n&&n.addIntegration){return n.addIntegration(t)}this.debug=i("analytics:integration:"+l(e));this.options=o(r(n)||{},this.defaults);this._queue=[];this.once("ready",a(this,this.flush));t.emit("construct",this);this.ready=a(this,this.ready);this._wrapInitialize();this._wrapPage();this._wrapTrack()}t.prototype.defaults={};t.prototype.globals=[];t.prototype.templates={};t.prototype.name=e;s(t,c);s(t.prototype,u);return t}t.exports=d},{bind:169,clone:13,debug:170,defaults:16,extend:171,slug:172,"./protos":173,"./statics":174}],169:[function(e,t,n){var a=e("bind"),r=e("bind-all");t.exports=n=a;n.all=r;n.methods=i;function i(e,t){t=[].slice.call(arguments,1);for(var n=0,r;r=t[n];n++){e[r]=a(e,e[r])}return e}},{bind:55,"bind-all":56}],170:[function(e,t,n){if("undefined"==typeof window){t.exports=e("./lib/debug")}else{t.exports=e("./debug")}},{"./lib/debug":175,"./debug":176}],175:[function(e,t,n){var a=e("tty");t.exports=f;var r=[],i=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach((function(e){e=e.replace("*",".*?");if(e[0]==="-"){i.push(new RegExp("^"+e.substr(1)+"$"))}else{r.push(new RegExp("^"+e+"$"))}}));var o=[6,2,3,4,5,1];var s={};var l=0;var u=a.isatty(2);function c(){return o[l++%o.length]}function d(e){var t=1e3,n=60*1e3,a=60*n;if(e>=a)return(e/a).toFixed(1)+"h";if(e>=n)return(e/n).toFixed(1)+"m";if(e>=t)return(e/t|0)+"s";return e+"ms"}function f(e){function t(){}t.enabled=false;var n=i.some((function(t){return t.test(e)}));if(n)return t;n=r.some((function(t){return t.test(e)}));if(!n)return t;var a=c();function o(t){t=p(t);var n=new Date;var r=n-(s[e]||n);s[e]=n;t="  [9"+a+"m"+e+" "+"[3"+a+"m[90m"+t+"[3"+a+"m"+" +"+d(r)+"[0m";console.error.apply(this,arguments)}function l(t){t=p(t);t=(new Date).toUTCString()+" "+e+" "+t;console.error.apply(this,arguments)}o.enabled=l.enabled=true;return u||process.env.DEBUG_COLORS?o:l}function p(e){if(e instanceof Error)return e.stack||e.message;return e}},{}],176:[function(e,t,n){t.exports=a;function a(e){if(!a.enabled(e))return function(){};return function(t){t=r(t);var n=new Date;var i=n-(a[e]||n);a[e]=n;t=e+" "+t+" +"+a.humanize(i);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}}a.names=[];a.skips=[];a.enable=function(e){try{localStorage.debug=e}catch(e){}var t=(e||"").split(/[\s,]+/),n=t.length;for(var r=0;r<n;r++){e=t[r].replace("*",".*?");if(e[0]==="-"){a.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{a.names.push(new RegExp("^"+e+"$"))}}};a.disable=function(){a.enable("")};a.humanize=function(e){var t=1e3,n=60*1e3,a=60*n;if(e>=a)return(e/a).toFixed(1)+"h";if(e>=n)return(e/n).toFixed(1)+"m";if(e>=t)return(e/t|0)+"s";return e+"ms"};a.enabled=function(e){for(var t=0,n=a.skips.length;t<n;t++){if(a.skips[t].test(e)){return false}}for(var t=0,n=a.names.length;t<n;t++){if(a.names[t].test(e)){return true}}return false};function r(e){if(e instanceof Error)return e.stack||e.message;return e}try{if(window.localStorage)a.enable(localStorage.debug)}catch(e){}},{}],171:[function(e,t,n){t.exports=function e(t){var n=Array.prototype.slice.call(arguments,1);for(var a=0,r;r=n[a];a++){if(!r)continue;for(var i in r){t[i]=r[i]}}return t}},{}],172:[function(e,t,n){t.exports=function(e,t){t||(t={});return e.toLowerCase().replace(t.replace||/[^a-z0-9]/g," ").replace(/^ +| +$/g,"").replace(/ +/g,t.separator||"-")}},{}],173:[function(e,t,n){var a=e("emitter");var r=e("after");var i=e("each");var o=e("analytics-events");var s=e("fmt");var l=e("foldl");var u=e("load-iframe");var c=e("load-script");var d=e("to-no-case");var f=e("next-tick");var p=e("type");function v(){}var h=Object.prototype.hasOwnProperty;var m=window.onerror;var g=null;var y=window.setInterval;var _=window.setTimeout;a(n);n.initialize=function(){var e=this.ready;f(e)};n.loaded=function(){return false};n.page=function(e){};n.track=function(e){};n.map=function(e,t){var n=d(t);return l((function(e,t,a,r){if(p(r)==="array"){if(!t.key)return e;a=t.key;t=t.value}if(d(a)===n){e.push(t)}return e}),[],e)};n.invoke=function(e){if(!this[e])return;var t=Array.prototype.slice.call(arguments,1);if(!this._ready)return this.queue(e,t);var n;try{this.debug("%s with %o",e,t);n=this[e].apply(this,t)}catch(n){this.debug("error %o calling %s with %o",n,e,t)}return n};n.queue=function(e,t){if(e==="page"&&this._assumesPageview&&!this._initialized){return this.page.apply(this,t)}this._queue.push({method:e,args:t})};n.flush=function(){this._ready=true;var e=this;i(this._queue,(function(t){e[t.method].apply(e,t.args)}));this._queue.length=0};n.reset=function(){for(var e=0;e<this.globals.length;e++){window[this.globals[e]]=undefined}window.setTimeout=_;window.setInterval=y;window.onerror=m;window.onload=g};n.load=function(e,t,n){if(typeof e==="function"){n=e;t=null;e=null}if(e&&_typeof(e)==="object"){n=t;t=e;e=null}if(typeof t==="function"){n=t;t=null}e=e||"library";t=t||{};t=this.locals(t);var a=this.templates[e];if(!a)throw new Error(s('template "%s" not defined.',e));var r=k(a,t);n=n||v;var o=this;var l;switch(a.type){case"img":r.width=1;r.height=1;l=b(r,n);break;case"script":l=c(r,(function(e){if(!e)return n();o.debug('error loading "%s" error="%s"',o.name,e)}));delete r.src;i(r,(function(e,t){l.setAttribute(e,t)}));break;case"iframe":l=u(r,n);break;default:}return l};n.locals=function(e){e=e||{};var t=Math.floor((new Date).getTime()/36e5);if(!e.hasOwnProperty("cache"))e.cache=t;i(this.options,(function(t,n){if(!e.hasOwnProperty(t))e[t]=n}));return e};n.ready=function(){this.emit("ready")};n._wrapInitialize=function(){var e=this.initialize;this.initialize=function(){this.debug("initialize");this._initialized=true;var t=e.apply(this,arguments);this.emit("initialize");return t};if(this._assumesPageview)this.initialize=r(2,this.initialize)};n._wrapPage=function(){var e=this.page;this.page=function(){if(this._assumesPageview&&!this._initialized){return this.initialize.apply(this,arguments)}return e.apply(this,arguments)}};n._wrapTrack=function(){var e=this.track;this.track=function(t){var n=t.event();var a;var r;for(var i in o){if(h.call(o,i)){var s=o[i];if(!this[i])continue;if(!s.test(n))continue;r=this[i].apply(this,arguments);a=true;break}}if(!a)r=e.apply(this,arguments);return r}};function b(e,t){t=t||function(){};var n=new Image;n.onerror=w(t,"failed to load pixel",n);n.onload=function(){t()};n.src=e.src;n.width=1;n.height=1;return n}function w(e,t,n){return function(a){a=a||window.event;var r=new Error(t);r.event=a;r.source=n;e(r)}}function k(e,t){return l((function(e,n,a){e[a]=n.replace(/\{\{\ *(\w+)\ *\}\}/g,(function(e,n){return t[n]}));return e}),{},e.attrs)}},{emitter:8,after:10,each:177,"analytics-events":178,fmt:179,foldl:180,"load-iframe":181,"load-script":182,"to-no-case":183,"next-tick":57,type:184}],177:[function(e,t,n){try{var a=e("type")}catch(t){var a=e("component-type")}var r=e("to-function");var i=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){t=r(t);n=n||this;switch(a(e)){case"array":return l(e,t,n);case"object":if("number"==typeof e.length)return l(e,t,n);return s(e,t,n);case"string":return o(e,t,n)}};function o(e,t,n){for(var a=0;a<e.length;++a){t.call(n,e.charAt(a),a)}}function s(e,t,n){for(var a in e){if(i.call(e,a)){t.call(n,a,e[a])}}}function l(e,t,n){for(var a=0;a<e.length;++a){t.call(n,e[a],a)}}},{type:184,"component-type":184,"to-function":74}],184:[function(e,t,n){var a=Object.prototype.toString;t.exports=function(e){switch(a.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(e===null)return"null";if(e===undefined)return"undefined";if(e&&e.nodeType===1)return"element";if(e===Object(e))return"object";return _typeof(e)}},{}],178:[function(e,t,n){t.exports={removedProduct:/^[ _]?removed[ _]?product[ _]?$/i,viewedProduct:/^[ _]?viewed[ _]?product[ _]?$/i,viewedProductCategory:/^[ _]?viewed[ _]?product[ _]?category[ _]?$/i,addedProduct:/^[ _]?added[ _]?product[ _]?$/i,completedOrder:/^[ _]?completed[ _]?order[ _]?$/i,startedOrder:/^[ _]?started[ _]?order[ _]?$/i,updatedOrder:/^[ _]?updated[ _]?order[ _]?$/i,refundedOrder:/^[ _]?refunded?[ _]?order[ _]?$/i,viewedProductDetails:/^[ _]?viewed[ _]?product[ _]?details?[ _]?$/i,clickedProduct:/^[ _]?clicked[ _]?product[ _]?$/i,viewedPromotion:/^[ _]?viewed[ _]?promotion?[ _]?$/i,clickedPromotion:/^[ _]?clicked[ _]?promotion?[ _]?$/i,viewedCheckoutStep:/^[ _]?viewed[ _]?checkout[ _]?step[ _]?$/i,completedCheckoutStep:/^[ _]?completed[ _]?checkout[ _]?step[ _]?$/i}},{}],179:[function(e,t,n){var a=window.JSON?JSON.stringify:function(e){return String(e)};t.exports=r;r.o=a;r.s=String;r.d=parseInt;function r(e){var t=[].slice.call(arguments,1);var n=0;return e.replace(/%([a-z])/gi,(function(e,a){return r[a]?r[a](t[n++]):e+a}))}},{}],180:[function(e,t,n){"use strict";var a;try{a=e("@ndhoule/each")}catch(t){a=e("each")}var r=function e(t,n,r){if(typeof t!=="function"){throw new TypeError("Expected a function but received a "+_typeof(t))}a((function(e,a,r){n=t(n,e,a,r)}),r);return n};t.exports=r},{each:72}],181:[function(e,t,n){var a=e("script-onload");var r=e("next-tick");var i=e("type");t.exports=function e(t,n){if(!t)throw new Error("Cant load nothing...");if("string"==i(t))t={src:t};var o=document.location.protocol==="https:"||document.location.protocol==="chrome-extension:";if(t.src&&t.src.indexOf("//")===0){t.src=o?"https:"+t.src:"http:"+t.src}if(o&&t.https)t.src=t.https;else if(!o&&t.http)t.src=t.http;var s=document.createElement("iframe");s.src=t.src;s.width=t.width||1;s.height=t.height||1;s.style.display="none";if("function"==i(n)){a(s,n)}r((function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(s,e)}));return s}},{"script-onload":185,"next-tick":57,type:47}],185:[function(e,t,n){t.exports=function(e,t){return e.addEventListener?a(e,t):r(e,t)};function a(e,t){e.addEventListener("load",(function(e,n){t(null,n)}),false);e.addEventListener("error",(function(n){var a=new Error('script error "'+e.src+'"');a.event=n;t(a)}),false)}function r(e,t){e.attachEvent("onreadystatechange",(function(n){if(!/complete|loaded/.test(e.readyState))return;t(null,n)}));e.attachEvent("onerror",(function(n){var a=new Error('failed to load the script "'+e.src+'"');a.event=n||window.event;t(a)}))}},{}],182:[function(e,t,n){var a=e("script-onload");var r=e("next-tick");var i=e("type");t.exports=function e(t,n){if(!t)throw new Error("Cant load nothing...");if("string"==i(t))t={src:t};var o=document.location.protocol==="https:"||document.location.protocol==="chrome-extension:";if(t.src&&t.src.indexOf("//")===0){t.src=o?"https:"+t.src:"http:"+t.src}if(o&&t.https)t.src=t.https;else if(!o&&t.http)t.src=t.http;var s=document.createElement("script");s.type="text/javascript";s.async=true;s.src=t.src;if("function"==i(n)){a(s,n)}r((function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(s,e)}));return s}},{"script-onload":185,"next-tick":57,type:47}],183:[function(e,t,n){t.exports=i;var a=/\s/;var r=/[\W_]/;function i(e){if(a.test(e))return e.toLowerCase();if(r.test(e))return s(e).toLowerCase();return u(e).toLowerCase()}var o=/[\W_]+(.|$)/g;function s(e){return e.replace(o,(function(e,t){return t?" "+t:""}))}var l=/(.)([A-Z]+)/g;function u(e){return e.replace(l,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}},{}],174:[function(e,t,n){var a=e("emitter");var r=e("domify");var i=e("each");var o=e("includes");a(n);n.option=function(e,t){this.prototype.defaults[e]=t;return this};n.mapping=function(e){this.option(e,[]);this.prototype[e]=function(t){return this.map(this.options[e],t)};return this};n.global=function(e){this.prototype.globals.push(e);return this};n.assumesPageview=function(){this.prototype._assumesPageview=true;return this};n.readyOnLoad=function(){this.prototype._readyOnLoad=true;return this};n.readyOnInitialize=function(){this.prototype._readyOnInitialize=true;return this};n.tag=function(e,t){if(t==null){t=e;e="library"}this.prototype.templates[e]=s(t);return this};function s(e){e=e.replace(' src="',' data-src="');var t=r(e);var n={};i(t.attributes,(function(t){var a=t.name==="data-src"?"src":t.name;if(!o(t.name+"=",e))return;n[a]=t.value}));return{type:t.tagName.toLowerCase(),attrs:n}}},{emitter:8,domify:186,each:177,includes:70}],186:[function(e,t,n){t.exports=o;var a=document.createElement("div");a.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';var r=!a.getElementsByTagName("link").length;a=undefined;var i={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:r?[1,"X<div>","</div>"]:[0,"",""]};i.td=i.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];i.option=i.optgroup=[1,'<select multiple="multiple">',"</select>"];i.thead=i.tbody=i.colgroup=i.caption=i.tfoot=[1,"<table>","</table>"];i.polyline=i.ellipse=i.polygon=i.circle=i.text=i.line=i.path=i.rect=i.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function o(e,t){if("string"!=typeof e)throw new TypeError("String expected");if(!t)t=document;var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var a=n[1];if(a=="body"){var r=t.createElement("html");r.innerHTML=e;return r.removeChild(r.lastChild)}var o=i[a]||i._default;var s=o[0];var l=o[1];var u=o[2];var r=t.createElement("div");r.innerHTML=l+e+u;while(s--){r=r.lastChild}if(r.firstChild==r.lastChild){return r.removeChild(r.firstChild)}var c=t.createDocumentFragment();while(r.firstChild){c.appendChild(r.removeChild(r.firstChild))}return c}},{}],167:[function(e,t,n){var a=e("to-space-case");t.exports=r;function r(e){return a(e).replace(/\s/g,"_")}},{"to-space-case":187}],187:[function(e,t,n){var a=e("to-no-case");t.exports=r;function r(e){return a(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""}))}},{"to-no-case":188}],188:[function(e,t,n){t.exports=o;var a=/\s/;var r=/[a-z][A-Z]/;var i=/[\W_]/;function o(e){if(a.test(e))return e.toLowerCase();if(i.test(e))e=l(e);if(r.test(e))e=c(e);return e.toLowerCase()}var s=/[\W_]+(.|$)/g;function l(e){return e.replace(s,(function(e,t){return t?" "+t:""}))}var u=/(.)([A-Z]+)/g;function c(e){return e.replace(u,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}},{}],168:[function(e,t,n){t.exports=function(e){switch(arguments.length){case 0:return r();case 1:return a(e)}};function a(e){return r()?"https:"+e:"http:"+e}function r(){return location.protocol=="https:"||location.protocol=="chrome-extension:"}},{}],82:[function(e,t,n){var a=e("bind");var r=e("analytics.js-integration");var i=e("top-domain");var o=e("when");var s=e("is");var l=e("each");var u=typeof window.define==="function"&&window.define.amd;var c="https://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-4.1.1-min.js";var d=t.exports=r("Amplitude").global("amplitude").option("apiKey","").option("trackAllPages",false).option("trackNamedPages",true).option("trackCategorizedPages",true).option("trackUtmProperties",true).option("trackReferrer",false).option("batchEvents",false).option("eventUploadThreshold",30).option("eventUploadPeriodMillis",3e4).option("useLogRevenueV2",false).option("forceHttps",false).option("trackGclid",false).option("saveParamsReferrerOncePerSession",true).option("deviceIdFromUrlParam",false).option("mapQueryParams",{}).tag('<script src="'+c+'">');d.prototype.initialize=function(){(function(e,t){var n=e.amplitude||{_q:[]};function a(e,t){e.prototype[t]=function(){this._q.push([t].concat(Array.prototype.slice.call(arguments,0)));return this}}var r=function e(){this._q=[];return this};var i=["add","append","clearAll","prepend","set","setOnce","unset"];for(var o=0;o<i.length;o++){a(r,i[o])}n.Identify=r;var s=function e(){this._q=[];return this};var l=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"];for(var u=0;u<l.length;u++){a(s,l[u])}n.Revenue=s;var c=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId"];function d(e){function t(t){e[t]=function(){e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))}}for(var n=0;n<c.length;n++){t(c[n])}}d(n);e.amplitude=n})(window,document);this.setDomain(window.location.href);window.amplitude.init(this.options.apiKey,null,{includeUtm:this.options.trackUtmProperties,includeReferrer:this.options.trackReferrer,batchEvents:this.options.batchEvents,eventUploadThreshold:this.options.eventUploadThreshold,eventUploadPeriodMillis:this.options.eventUploadPeriodMillis,forceHttps:this.options.forceHttps,includeGclid:this.options.trackGclid,saveParamsReferrerOncePerSession:this.options.saveParamsReferrerOncePerSession,deviceIdFromUrlParam:this.options.deviceIdFromUrlParam});var e=a(this,this.loaded);var t=this.ready;if(u){window.require([c],(function(n){window.amplitude=n;o(e,(function(){window.amplitude.runQueuedFunctions();t()}))}));return}this.load((function(){o(e,(function(){window.amplitude.runQueuedFunctions();t()}))}))};d.prototype.loaded=function(){return!!(window.amplitude&&window.amplitude.options)};d.prototype.page=function(e){var t=e.category();var n=e.fullName();var a=this.options;if(a.trackAllPages){this.track(e.track())}if(t&&a.trackCategorizedPages){this.track(e.track(t))}if(n&&a.trackNamedPages){this.track(e.track(n))}};d.prototype.identify=function(e){var t=e.userId();var n=e.traits();if(t)window.amplitude.setUserId(t);if(n)window.amplitude.setUserProperties(n)};d.prototype.track=function(e){var t=e.properties();var n=e.event();var a=e.revenue();window.amplitude.logEvent(n,t);if(a){window.amplitude.logRevenue(a,t.quantity,t.productId)}};d.prototype.setDomain=function(e){var t=i(e);window.amplitude.setDomain(t)};d.prototype.setDeviceId=function(e){if(e)window.amplitude.setDeviceId(e)}},{each:4,bind:55,"analytics.js-integration":166,is:18,"top-domain":189,when:198}],189:[function(e,t,n){var a=e("url").parse;t.exports=i;var r=/[a-z0-9][a-z0-9\-]*[a-z0-9]\.[a-z\.]{2,6}$/i;function i(e){var t=a(e).hostname;var n=t.match(r);return n?n[0]:""}},{url:64}],190:[function(e,t,n){var a=e("script-onload");var r=e("next-tick");var i=e("type");t.exports=function e(t,n){if(!t)throw new Error("Cant load nothing...");if("string"==i(t))t={src:t};var o=document.location.protocol==="https:"||document.location.protocol==="chrome-extension:";if(t.src&&t.src.indexOf("//")===0){t.src=o?"https:"+t.src:"http:"+t.src}if(o&&t.https)t.src=t.https;else if(!o&&t.http)t.src=t.http;var s=document.createElement("script");s.type="text/javascript";s.async=true;s.src=t.src;if("function"==i(n)){a(s,n)}r((function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(s,e)}));return s}},{"script-onload":185,"next-tick":57,type:47}],191:[function(e,t,n){var a=encodeURIComponent;var r=decodeURIComponent;var i=e("trim");var o=e("type");n.parse=function(e){if("string"!=typeof e)return{};e=i(e);if(""==e)return{};if("?"==e.charAt(0))e=e.slice(1);var t={};var n=e.split("&");for(var a=0;a<n.length;a++){var o=n[a].split("=");var s=r(o[0]);var l;if(l=/(\w+)\[(\d+)\]/.exec(s)){t[l[1]]=t[l[1]]||[];t[l[1]][l[2]]=r(o[1]);continue}t[o[0]]=null==o[1]?"":r(o[1])}return t};n.stringify=function(e){if(!e)return"";var t=[];for(var n in e){var r=e[n];if("array"==o(r)){for(var i=0;i<r.length;++i){t.push(a(n+"["+i+"]")+"="+a(r[i]))}continue}t.push(a(n)+"="+a(e[n]))}return t.join("&")}},{trim:54,type:47}],192:[function(e,t,n){t.exports=a;function a(e,t){for(var n in t){if(!(n in e)){e[n]=t[n]}}return e}},{}],193:[function(e,t,n){var a=e("each");var r=false;var i=[];t.exports=function e(t){if(r){s(t)}else{i.push(t)}};var o=setInterval((function(){if(!document.body)return;r=true;a(i,s);clearInterval(o)}),5);function s(e){e(document.body)}},{each:177}],195:[function(e,t,n){t.exports=a;function a(e){return e.getUTCFullYear()+"-"+r(e.getUTCMonth()+1)+"-"+r(e.getUTCDate())+"T"+r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}function r(e){var t=e.toString();return t.length===1?"0"+t:t}},{}],196:[function(e,t,n){t.exports=a;function a(e,t){t=t||{};return function(n){n=[].slice.call(arguments);window[e]||(window[e]=[]);t.wrap===false?window[e].push.apply(window[e],n):window[e].push(n)}}},{}],197:[function(e,t,n){t.exports=a;function a(e,t){var n;var a=0;return function r(){var i=(new Date).getTime();var o=i-a;if(o>=t){n=e.apply(this,arguments);a=i}return n}}},{}],198:[function(e,t,n){var a=e("callback");t.exports=r;function r(e,t,n){if(e())return a.async(t);var r=setInterval((function(){if(!e())return;a(t);clearInterval(r)}),n||10)}},{callback:12}],199:[function(e,t,n){var a=e("type");try{var r=e("clone")}catch(t){var r=e("clone-component")}t.exports=i;function i(e,t){switch(a(t)){case"object":return o(r(e),t);case"function":return s(r(e),t)}}function o(e,t){for(var n in t){if(undefined===e[n])continue;e[t[n]]=e[n];delete e[n]}return e}function s(e,t){var n={};for(var a in e){n[t(a)]=e[a]}return n}},{type:47,clone:49}],200:[function(e,t,n){var a=e("is");try{var r=e("clone")}catch(t){var r=e("clone-component")}t.exports=i;function i(e,t){e=r(e);for(var n in e){var o=e[n];if(a.date(o))e[n]=t(o);if(a.object(o))e[n]=i(o,t)}return e}},{is:18,clone:13}],202:[function(e,t,n){var a=e("each");t.exports=function e(t,n,r){a(t,(function(e,a){n=r.call(null,n,e,a,t)}));return n}},{each:177}],203:[function(e,t,n){var a=e("to-space-case");t.exports=r;function r(e){return a(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},{"to-space-case":187}],204:[function(e,t,n){var a=e("to-function");t.exports=function(e,t){var n=[];t=a(t);for(var r=0;r<e.length;++r){if(t(e[r],r)){n.push(e[r])}}return n}},{"to-function":74}],205:[function(e,t,n){t.exports=a;function a(e,t){var n={};for(var a in t){n[a]=t[a]}for(var r=0;r<e.length;r++){delete n[e[r]]}return n}},{}],206:[function(e,t,n){t.exports=a;function a(e){var t=[].slice.call(arguments,1);var n={};for(var a=0,r;r=t[a];a++){if(r in e)n[r]=e[r]}return n}},{}],207:[function(e,t,n){var a=[].some;t.exports=function(e,t){if(a)return a.call(e,t);for(var n=0,r=e.length;n<r;++n){if(t(e[n],n))return true}return false}},{}],208:[function(e,t,n){t.exports=function(e,t,n){var a=0;var r=e.length;var i=arguments.length==3?n:e[a++];while(a<r){i=t.call(null,i,e[a],++a,e)}return i}},{}],149:[function(e,t,n){var a=e("ad-params");var r=e("clone");var i=e("cookie");var o=e("extend");var s=e("analytics.js-integration");var l=e("segmentio/json@1.0.0");var u=e("store");var c=e("protocol");var d=e("send-json");var f=e("top-domain");var p=e("utm-params");var v=e("uuid");var h={maxage:31536e6,secure:false,path:"/"};var m=n=t.exports=s("Segment.io").option("segmentUrl","http://blackhole.brilliang.org").option("apiKey","");n.storage=function(){return c()==="file:"||c()==="chrome-extension:"?u:i};n.global=window;m.prototype.initialize=function(){var e=this;this.ready();this.analytics.on("invoke",(function(t){var n=t.action();var a="on"+t.action();e.debug("%s %o",n,t);if(e[a])e[a](t);e.ready()}))};m.prototype.loaded=function(){return true};m.prototype.onpage=function(e){};m.prototype.onidentify=function(e){};m.prototype.ongroup=function(e){};m.prototype.ontrack=function(e){var t=e.json();delete t.traits;this.send("/analytics/track/",t)};m.prototype.onalias=function(e){};m.prototype.normalize=function(e){this.debug("normalize %o",e);var t=this.analytics.user();var a=n.global;var r=a.location.search;var i=e.context=e.context||e.options||{};delete e.options;e.writeKey=this.options.apiKey;i.userAgent=navigator.userAgent;if(!i.library)i.library={name:"analytics.js",version:this.analytics.VERSION};if(r)i.campaign=p(r);this.referrerId(r,i);e.userId=e.userId||t.id();e.anonymousId=t.anonymousId();e.messageId=v();e.sentAt=new Date;this.debug("normalized %o",e);return e};m.prototype.send=function(e,t,n){var a=this.options.segmentUrl+e;var r={"Content-Type":"text/plain"};n=n||y;var i=this;t=this.normalize(t);d(a,t,r,(function(e,r){i.debug("sent %O, received %O",t,arguments);if(e)return n(e);r.url=a;n(null,r)}))};m.prototype.cookie=function(e,t){var a=m.storage();if(arguments.length===1)return a(e);var i=n.global;var o=i.location.href;var s="."+f(o);if(s===".")s="";this.debug("store domain %s -> %s",o,s);var l=r(h);l.domain=s;this.debug("store %s, %s, %o",e,t,l);a(e,t,l);if(a(e))return;delete l.domain;this.debug("fallback store %s, %s, %o",e,t,l);a(e,t,l)};m.prototype.referrerId=function(e,t){var n=this.cookie("s:context.referrer");var r;if(n)n=l.parse(n);if(e)r=a(e);r=r||n;if(!r)return;t.referrer=o(t.referrer||{},r);this.cookie("s:context.referrer",l.stringify(r))};function g(){return c()==="http:"?"http:":"https:"}function y(){}},{"ad-params":209,clone:13,cookie:58,extend:68,"analytics.js-integration":166,"segmentio/json@1.0.0":59,store:210,protocol:211,"send-json":212,"top-domain":189,"utm-params":213,uuid:78}],209:[function(e,t,n){var a=e("querystring").parse;t.exports=i;var r={btid:"dataxu",urid:"millennial-media"};function i(e){var t=a(e);for(var n in t){for(var i in r){if(n===i){return{id:t[n],type:r[i]}}}}}},{querystring:27}],210:[function(e,t,n){var a=e("unserialize");var r=e("each");var i;try{i=window.localStorage}catch(e){i=null}t.exports=o;function o(e,t){var n=arguments.length;if(0==n)return u();if(2<=n)return s(e,t);if(1!=n)return;if(null==e)return i.clear();if("string"==typeof e)return l(e);if("object"==_typeof(e))return r(e,s)}o.supported=!!i;function s(e,t){return null==t?i.removeItem(e):i.setItem(e,JSON.stringify(t))}function l(e){return a(i.getItem(e))}function u(){var e=i.length;var t={};var n;while(0<=--e){n=i.key(e);t[n]=l(n)}return t}},{unserialize:214,each:177}],214:[function(e,t,n){t.exports=function(e){try{return JSON.parse(e)}catch(t){return e||undefined}}},{}],211:[function(e,t,n){var a=Object.defineProperty;var r=window.location.protocol;var i;t.exports=function(e){if(arguments.length===0)return o();else return s(e)};t.exports.http=function(){s("http:")};t.exports.https=function(){s("https:")};t.exports.reset=function(){s(r)};function o(){return i||window.location.protocol}function s(e){try{a(window.location,"protocol",{get:function t(){return e}})}catch(t){i=e}}},{}],212:[function(e,t,n){var a=e("base64-encode");var r=e("has-cors");var i=e("jsonp");var o=e("json");n=t.exports=r?s:l;n.callback="callback";n.prefix="data";n.json=s;n.base64=l;n.type=r?"xhr":"jsonp";function s(e,t,n,a){if(3==arguments.length)a=n,n={};var r=new XMLHttpRequest;r.onerror=a;r.onreadystatechange=s;r.open("POST",e,true);for(var i in n){r.setRequestHeader(i,n[i])}r.send(o.stringify(t));function s(){if(4==r.readyState)return a(null,r)}}function l(e,t,r,s){if(3==arguments.length)s=r;var l=n.prefix;t=a(o.stringify(t));t=encodeURIComponent(t);e+="?"+l+"="+t;i(e,{param:n.callback},(function(t,n){if(t)return s(t);s(null,{url:e,body:n})}))}},{"base64-encode":215,"has-cors":216,jsonp:217,json:59}],215:[function(e,t,n){var a=e("utf8-encode");var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.exports=i;function i(e){var t="";var n,i,o,s,l,u,c;var d=0;e=a(e);while(d<e.length){n=e.charCodeAt(d++);i=e.charCodeAt(d++);o=e.charCodeAt(d++);s=n>>2;l=(n&3)<<4|i>>4;u=(i&15)<<2|o>>6;c=o&63;if(isNaN(i)){u=c=64}else if(isNaN(o)){c=64}t=t+r.charAt(s)+r.charAt(l)+r.charAt(u)+r.charAt(c)}return t}},{"utf8-encode":218}],218:[function(e,t,n){t.exports=a;function a(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var a=e.charCodeAt(n);if(a<128){t+=String.fromCharCode(a)}else if(a>127&&a<2048){t+=String.fromCharCode(a>>6|192);t+=String.fromCharCode(a&63|128)}else{t+=String.fromCharCode(a>>12|224);t+=String.fromCharCode(a>>6&63|128);t+=String.fromCharCode(a&63|128)}}return t}},{}],216:[function(e,t,n){try{t.exports=typeof XMLHttpRequest!=="undefined"&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=false}},{}],217:[function(e,t,n){var a=e("debug")("jsonp");t.exports=o;var r=0;function i(){}function o(e,t,n){if("function"==typeof t){n=t;t={}}if(!t)t={};var o=t.prefix||"__jp";var s=t.param||"callback";var l=null!=t.timeout?t.timeout:6e4;var u=encodeURIComponent;var c=document.getElementsByTagName("script")[0]||document.head;var d;var f;var p=o+r++;if(l){f=setTimeout((function(){v();if(n)n(new Error("Timeout"))}),l)}function v(){d.parentNode.removeChild(d);window[p]=i}window[p]=function(e){a("jsonp got",e);if(f)clearTimeout(f);v();if(n)n(null,e)};e+=(~e.indexOf("?")?"&":"?")+s+"="+u(p);e=e.replace("?&","?");a('jsonp req "%s"',e);d=document.createElement("script");d.src=e;c.parentNode.insertBefore(d,c)}},{debug:15}],213:[function(e,t,n){var a=e("querystring").parse;t.exports=r;function r(e){if("?"==e.charAt(0))e=e.substring(1);var e=e.replace(/\?/g,"&");var t=a(e);var n;var r={};for(var i in t){if(~i.indexOf("utm_")){n=i.substr(4);if("campaign"==n)n="name";r[n]=t[i]}}return r}},{querystring:27}],219:[function(e,t,n){t.exports=a;function a(e){return Math.floor(e.getTime()/1e3)}},{}],5:[function(e,t,n){t.exports={name:"analytics",version:"2.11.0",main:"analytics.js",dependencies:{},devDependencies:{}}},{}]},{},{1:""}))}).call(this,__webpack_require__(15))},57:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getModuleForVisualizationType=w;t.visualizationsPrefetchHandler=k;t.renderVisualization=C;t.interactiveProblemWrapper=x;t.renderVisualizationFromVue=E;var a=o(n(0));var r=n(1);var i=n(8);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return c(e)||u(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(e,t){var n=[];var a=true;var r=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(r)throw i}}return n}function c(e){if(Array.isArray(e))return e}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function p(e,t,n){if(t)f(e.prototype,t);if(n)f(e,n);return e}var v=false;var h={};var m=["potw_problemset","potw_problemset_default","quizzes_problemset","assessment_public_solvable_logged_in","quizzes_interstitial_pane"];var g="stashed";function y(e){return(0,a.default)("<div />").html(e)}function _(e){return(0,a.default)(".dp-mainbody-text .tail [data-visualizationkey=".concat(e,"]"))}var b=function(){function e(t,n,a,r){d(this,e);this.$container=t;this.$content=this.$container.find(".content");this.key=n;this.slug=a;this.data=r;this.isInteractiveSolvable=r.solvableId&&r.solvableId>0;this.stash=this.stash.bind(this);this.initEventKeys();this.bindEvents();if(this.needsImmediateStash()){this.stash()}else{this.waitUntilVisible().then((function(){}))}}p(e,[{key:"initEventKeys",value:function e(){var t="viz".concat(this.key);var n=m.map((function(e){return"".concat(i.EVT_VKEY_BEFORE_UPDATE,".").concat(e,".").concat(t)})).join(" ");var a="".concat(i.EVT_QUIZ_POSITION_LOADING,".").concat(t);var r="".concat(i.EVT_QUIZ_POSITION_WILL_CHANGE,".").concat(t);var o="".concat(i.EVT_DAILYPROBLEM_MAINBODY_EXPANDED,".").concat(t);this.events={quizPositionDidChange:"".concat(i.EVT_QUIZ_POSITION_DID_CHANGE,".").concat(t),stashableEventGroup:[n,a,r].join(" "),dpMainbodyExpanded:o}}},{key:"resume",value:function e(t){this.unstash(t)}},{key:"bindEvents",value:function e(){var t=this;r.$window.on(this.events.dpMainbodyExpanded,(function(){r.$window.off(t.events.dpMainbodyExpanded);var e=_(t.key);if(e.length){t.resume(e)}}));if(!r.userIsAuthenticated){return}r.$window.on(this.events.stashableEventGroup,this.stash)}},{key:"unbindEvents",value:function e(){if(!r.userIsAuthenticated){return}r.$window.off(this.events.stashableEventGroup)}},{key:"stash",value:function e(){var t=this;var n=y("");Object.keys(this.data).filter((function(e){return e.indexOf("v-")!==0})).forEach((function(e){return n.attr("data-".concat(e),t.data[e])}));if(!this.isInteractiveSolvable){n.attr("data-controller","app/visualizations:renderVisualization")}this.$container.after(n);r.$body.append(this.$container);this.$container.addClass(g);this.$container.addClass("course-quiz-content");this.$container.find('script[type="math/tex"]').remove();this.unbindEvents()}},{key:"unstash",value:function e(t){t.replaceWith(this.$container);this.$container.removeClass(g);this.$container.removeClass("course-quiz-content");this.bindEvents()}},{key:"needsImmediateStash",value:function e(){return _(this.key).length>0}},{key:"waitUntilVisible",value:function e(){var t=this;return new Promise((function(e){setTimeout((function(){if(t.$container.is(":visible")){e()}else{r.$window.on(t.events.quizPositionDidChange,(function(){if(t.$container.is(":visible")){e();r.$window.off(t.events.quizPositionDidChange)}}))}}),1)}))}}]);return e}();function w(e){switch(e){case"GRAPH_2D":return Promise.all([n.e(2),n.e(3),n.e(6),n.e(8),n.e(7),n.e(10),n.e(11),n.e(13),n.e(5),n.e(24),n.e(129)]).then(n.t.bind(null,257,7));case"GRAPH_3D":return Promise.all([n.e(2),n.e(3),n.e(6),n.e(8),n.e(7),n.e(10),n.e(11),n.e(12),n.e(13),n.e(118),n.e(5),n.e(24),n.e(128)]).then(n.bind(null,281));case"QUANTUM_CIRCUIT":return Promise.all([n.e(2),n.e(8),n.e(7),n.e(119),n.e(141)]).then(n.t.bind(null,260,7));case"OPERATOR_SEARCH":return Promise.all([n.e(2),n.e(8),n.e(7),n.e(138)]).then(n.t.bind(null,261,7));case"HUYGENS_CLOCK":return Promise.all([n.e(3),n.e(6),n.e(11),n.e(5),n.e(133)]).then(n.t.bind(null,262,7));case"COIN_FLIP":return Promise.all([n.e(3),n.e(117),n.e(124)]).then(n.t.bind(null,263,7));case"CANVAS":return Promise.all([n.e(2),n.e(3),n.e(6),n.e(11),n.e(5),n.e(123)]).then(n.t.bind(null,264,7));case"LOGIC_CIRCUIT":return Promise.all([n.e(0),n.e(135)]).then(n.t.bind(null,265,7));case"FREEFORM_JAVASCRIPT":return Promise.all([n.e(3),n.e(8),n.e(134)]).then(n.t.bind(null,266,7));case"GREEDY_SCHEDULER":return Promise.all([n.e(2),n.e(7),n.e(130)]).then(n.t.bind(null,267,7));case"CS_ONE_OFFS":return Promise.all([n.e(2),n.e(126)]).then(n.t.bind(null,268,7));case"DRONE_GAME":return Promise.all([n.e(2),n.e(3),n.e(0),n.e(127)]).then(n.t.bind(null,269,7));case"GRID_FILL":return Promise.all([n.e(1),n.e(0),n.e(131)]).then(n.bind(null,270));case"ORDER_LOGIC":return Promise.all([n.e(1),n.e(0),n.e(139)]).then(n.bind(null,271));case"NUMBER_BUNCHERS":return Promise.all([n.e(1),n.e(0),n.e(137)]).then(n.bind(null,272));case"CALCDOKU":return Promise.all([n.e(1),n.e(0),n.e(122)]).then(n.bind(null,273));case"SHERLOCK_SEARCH":return Promise.all([n.e(1),n.e(0),n.e(142)]).then(n.bind(null,274));case"NEURAL_NETWORKS":return Promise.all([n.e(1),n.e(0),n.e(136)]).then(n.bind(null,275));case"PARSONS_PROBLEM":return Promise.all([n.e(1),n.e(12),n.e(0),n.e(140)]).then(n.bind(null,276));case"HOT_COLD":return Promise.all([n.e(1),n.e(0),n.e(132)]).then(n.bind(null,277));case"CRYPTO_ONE_OFFS":return Promise.all([n.e(1),n.e(0),n.e(125)]).then(n.bind(null,278));case"TOGGLE_TAGS":return Promise.all([n.e(1),n.e(0),n.e(143)]).then(n.bind(null,279));case"WORLD_MAP_PROBABILITY":return Promise.all([n.e(1),n.e(12),n.e(0),n.e(144)]).then(n.bind(null,280));default:throw new Error("Unknown visualization type '".concat(e,"'"))}}function k(e){var t=/"type": ?"(.*?)"/g;var n;while((n=t.exec(e))!==null){var a=n,r=s(a,2),i=r[1];w(i)}}function C(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var r=e.data();var i=r.visualizationkey;var o=h[i];var s=n?e.parents(".interactive"):e;if(o){o.resume(s);return Promise.resolve()}else{var l=window[i];var u=window["".concat(i,"user_state__")]||{};var c=l.visualization,d=c.slug,f=c.type;if(!t){h[i]=new b(s,i,d,r)}if(!v){document.body.dataset.mediaBaseUrl=r.mediaurl;v=true}return new Promise((function(e){w(f).then((function(t){var r={visualizationKey:i,data:l.data,userState:u.current_state||null,slug:d};if(n){e(t.default.createInteractiveSolvable(r,a))}else{e(t.default.createInteractive(r))}}))}))}}function x(e){var t=e.data("visualizationkey");var n=h[t];if(n){e.empty();var a=y("");e.append(a);n.resume(a)}}function E(e,t,n){Object.assign(e.dataset,t);var r=(0,a.default)(e);return C(r,false,true,n)}},570:function(e,t,n){"use strict";var a=n(1);var r=n(16);n(114);n(13);n(36);n(45);n(311);n(223);n(224);n(364);n(11);n(204);n(108);n(195);n(228);n(225);n(54);n(128);n(227);n(70);n(37);n(130);n(71);n(194);n(139);n(205);n(222);n(23);n(83);n(226);n(57);n(109);n(129);n(229);n(221);n(82);n(232);if(a.isIos&&a.appVersion.isGreaterThanOrEqualTo("0.9.1")){var i=function e(){window.location="loadcomplete://"};if(window.isLoaded){i()}else{(0,r.onLoad)(i)}}},571:function(e,t,n){var a={"./":188,"./account":312,"./account.js":312,"./animations":313,"./animations.js":313,"./codex/codemirror":67,"./codex/codemirror.js":67,"./codex/constants":68,"./codex/constants.js":68,"./codex/controllers":82,"./codex/controllers.js":82,"./codex/deemphasize":98,"./codex/deemphasize.js":98,"./codex/notes":97,"./codex/notes.js":97,"./codex/qsharp":116,"./codex/qsharp.js":116,"./codex/shared_context":99,"./codex/shared_context.js":99,"./codex/utils":69,"./codex/utils.js":69,"./comments":70,"./comments.js":70,"./content_modal":54,"./content_modal.js":54,"./dailyproblems":314,"./dailyproblems.js":314,"./discussions":130,"./discussions.js":130,"./disputes":194,"./disputes.js":194,"./educator_bios":315,"./educator_bios.js":315,"./error_modal":23,"./error_modal.js":23,"./front_chat":195,"./front_chat.js":195,"./generic_controllers":11,"./generic_controllers.js":11,"./glossary":131,"./glossary.js":131,"./groups":316,"./groups.js":316,"./header":204,"./header.js":204,"./image_gallery":132,"./image_gallery.js":132,"./index":188,"./index.js":188,"./instant_response":205,"./instant_response.js":205,"./login":221,"./login.js":221,"./mentions":37,"./mentions.js":37,"./mini_profiles":128,"./mini_profiles.js":128,"./moderators":352,"./moderators.js":352,"./newsfeed":222,"./newsfeed.js":222,"./notifications":225,"./notifications.js":225,"./nux":226,"./nux.js":226,"./paid":108,"./paid.js":108,"./practice":354,"./practice.js":354,"./preloaders":83,"./preloaders.js":83,"./profile":355,"./profile.js":355,"./qanda":356,"./qanda.js":356,"./quiz":357,"./quiz.js":357,"./save_to_group":227,"./save_to_group.js":227,"./search":228,"./search.js":228,"./signup":229,"./signup.js":229,"./solution_discussions":139,"./solution_discussions.js":139,"./solvables":71,"./solvables.js":71,"./sponsorship":359,"./sponsorship.js":359,"./stats/controllers":360,"./stats/controllers.js":360,"./stats/example_data":230,"./stats/example_data.js":230,"./stats/single_topic":231,"./stats/single_topic.js":231,"./surveys":232,"./surveys.js":232,"./testimonials":361,"./testimonials.js":361,"./user_levels":362,"./user_levels.js":362,"./videos":109,"./videos.js":109,"./visualizations":57,"./visualizations.js":57,"./vue":140,"./vue.js":140,"./wiki":363,"./wiki.js":363,"./zoomable":129,"./zoomable.js":129};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return a[e]}r.keys=function e(){return Object.keys(a)};r.resolve=i;e.exports=r;r.id=571},572:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mentionsInput=p;var a=o(n(0));var r=o(n(2));var i=n(1);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){s=function e(t){return typeof t}}else{s=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return s(e)}var l={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188,SPACE:32,HOME:36,END:35};var u={triggerChar:"@",stopTriggerRegex:false,onDataRequest:a.default.noop,mentionsStorage:{get:a.default.noop,set:a.default.noop},minChars:2,allowRepeat:false,showAvatars:true,elastic:true,onCaret:false,classes:{autoCompleteItemActive:"active"},highlightFunction:function e(t){return t},templates:{wrapper:r.default.template('<div class="mentions-input-box"></div>'),autocompleteList:r.default.template('<div class="mentions-autocomplete-list"></div>'),autocompleteListItem:r.default.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><%= content %></li>'),autocompleteListItemAvatar:r.default.template('<img src="<%= avatar %>" />'),autocompleteListItemIcon:r.default.template('<div class="icon <%= icon %>"></div>'),mentionsOverlay:r.default.template('<div class="mentions"><div></div></div>'),mentionItemSyntax:r.default.template("@[<%= value %>](<%= type %>:<%= id %>)"),mentionItemHighlight:r.default.template("<strong><span><%= value %></span></strong>")}};var c={htmlEncode:function e(t){return r.default.escape(t)},regexpEncode:function e(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},highlightTerm:function e(t,n){if(!n&&!n.length){return t}return t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+c.regexpEncode(n)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>")},setCaratPosition:function e(t,n){if(t.createTextRange){var a=t.createTextRange();a.move("character",n);a.select()}else{if(t.selectionStart){t.focus();t.setSelectionRange(n,n)}else{t.focus()}}},rtrim:function e(t){return t.replace(/\s+$/,"")}};var d=function e(t){var n=t.match(/mention\[[\d]+:(.*?)\]/g)||null;if(n!==null){n.forEach((function(e){t=t.replace(e,e.replace(/mention\[[\d]+:/,"").replace(/\]/,""))}))}return t};var f=function e(t){var n,o,s,f,p,v,h,m,g=[],y={},_=[],b="";t=a.default.extend(true,{},u,t);if(t.mentions){t.mentions=a.default.extend(true,{},u,t.mentions)}if(t.wikiLinks){t.wikiLinks=a.default.extend(true,{},u,t.wikiLinks)}var w=t;function k(){o=(0,a.default)(n);s=o.clone();if(s.val()==s.attr("placeholder")){s.val("")}if(o.attr("data-mentions-input")==="true"){return}o.addClass("inited");s.addClass("inited");o.attr("name",o.attr("name")+"__copy");o.attr("id",o.attr("id")+"__copy");s.addClass("clone");if(s.val().trim().length){o.val(d(s.val()));o.val(o.val()+" ")}f=o.parent();v=(0,a.default)(t.templates.wrapper());o.wrapAll(v);v=f.find("> div.mentions-input-box");o.after(s);o.attr("data-mentions-input","true");if(navigator.userAgent.toLowerCase().indexOf("android")>=0){o.on("input",(function(){z.apply(this,arguments);M.apply(this,arguments);N.apply(this,arguments)}))}else{o.on("keydown",z);o.on("keypress",M)}o.on("click",A);o.on("blur",D);if(navigator.userAgent.indexOf("MSIE 8")>-1){o.on("propertychange",N)}else{o.on("input",N)}if(t.elastic){o.elastic()}o.trigger(a.default.Event("mentions.ready"));s.trigger(a.default.Event("mentions.ready"))}function C(){p=(0,a.default)(t.templates.autocompleteList());p.appendTo(v);p.on("mousedown","li",P)}function x(){h=(0,a.default)(t.templates.mentionsOverlay());h.prependTo(v)}function E(){var e=S();r.default.each(g,(function(n){var a;if(n.isUser&&t.mentions){a=t.mentions}else if(n.isWiki&&t.wikiLinks){a=t.wikiLinks}else{a=t}var r=a.templates.mentionItemSyntax(n);var i=n.value?new RegExp(c.regexpEncode(n.value),"g"):n.value;e=e.replace(i,r)}));var n=c.htmlEncode(e);r.default.each(g,(function(e){var a=r.default.extend({},e,{value:c.htmlEncode(e.value)});var i;if(e.isUser&&t.mentions){i=t.mentions}else if(e.isWiki&&t.wikiLinks){i=t.wikiLinks}else{i=t}var o=i.templates.mentionItemSyntax(a);var s=i.templates.mentionItemHighlight(a);n=n.replace(new RegExp(c.regexpEncode(o),"g"),s)}));n=n.replace(/\n/g,"<br />");n=n.replace(/ {2}/g,"&nbsp; ");n=t.highlightFunction(n);o.data("messageText",e);s.val(o.data("messageText"));h.find("div").html(n)}function I(){_=[]}function T(){var e=S();g=r.default.reject(g,(function(t,n){return!t.value||e.indexOf(t.value)==-1}));g=r.default.compact(g);w.mentionsStorage.set(g)}function O(e){var t=S();b=b||"";var n;if(w.triggerChar.indexOf("@")===0){n=new RegExp("[^\\w]"+c.regexpEncode(w.triggerChar)+c.regexpEncode(b),"gi")}else{n=new RegExp(c.regexpEncode(w.triggerChar)+c.regexpEncode(b),"gi")}var a=[];while(n.exec(" "+t)){a.push(n.lastIndex)}var i=a[a.length-1]-1;var l=w.triggerChar.length;var u=i-b.length-l;var d=o.prop("selectionStart")?o.prop("selectionStart"):i;var f=t.substr(0,u);var p=t.substr(d,t.length);var v=(f+e.value).length+1;if(!r.default.find(g,(function(t){return t.id==e.id}))){g.push(e)}I();b="";L();var h=e.value;if(e.isUser){h=w.triggerChar+h}var m=f+h+" "+p;o.val(m);o.trigger("autosave.save");s.val(o.data("messageText"));E();o.focus();c.setCaratPosition(o[0],v)}function S(){return a.default.trim(o.val())}function q(e){var t,n,r,i,o,s,l,u,c,d,f;if(!(c=e[0]))return;if(!(0,a.default)(c).is("textarea"))return;if(c.selectionEnd==null)return;l={position:"absolute",overflow:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word",boxSizing:"content-box",top:0,left:-9999},u=["boxSizing","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","textDecoration","textIndent","textTransform","width","word-spacing"];for(d=0,f=u.length;d<f;d++){o=u[d],l[o]=(0,a.default)(c).css(o)}return r=document.createElement("div"),(0,a.default)(r).css(l),(0,a.default)(c).after(r),n=document.createTextNode(c.value.substring(0,c.selectionEnd)),t=document.createTextNode(c.value.substring(c.selectionEnd)),i=document.createElement("span"),i.innerHTML="&nbsp;",r.appendChild(n),r.appendChild(i),r.appendChild(t),r.scrollTop=c.scrollTop,s=(0,a.default)(i).position(),(0,a.default)(r).remove(),s}function j(){var e=(0,a.default)(o).offset().top;var t=(0,a.default)("body").offset().top;var n=(0,a.default)(window).scrollTop();if(n>e){(0,i.setScrollPosition)(e-t)}}function P(e){var t=(0,a.default)(this);var n=y[t.attr("data-uid")];O(n);return false}function A(e){I()}function D(e){L()}function N(e){E();T();var n=o.val();_=n.split("");var a=n;if(o.prop("selectionStart")){a=n.slice(0,o.prop("selectionStart"))}var i;if(t.mentions&&t.wikiLinks){var s=a.lastIndexOf(t.mentions.triggerChar),l=s>-1,u=a.lastIndexOf(t.wikiLinks.triggerChar),d=u>-1;if(l&&d&&s>u||l&&!d){i=s;w=t.mentions}else if(l&&d&&u>s||d&&!l){i=u;w=t.wikiLinks}else{i=-1}}else if(t.triggerChar.indexOf("@")===0){var f=new RegExp("[^\\w]"+t.triggerChar,"gi");var p=[];while(f.exec(" "+a)){p.push(f.lastIndex)}i=p[p.length-1]-2}else{i=a.lastIndexOf(t.triggerChar)}if(i>-1){var v=w.triggerChar.length;b=n.slice(i+v);b=c.rtrim(b);var h=b;if(o.prop("selectionStart")){h=a.slice(i+v);h=c.rtrim(h)}if(w.stopTriggerRegex){var m=h.search(w.stopTriggerRegex);if(m>-1){return}}r.default.defer(r.default.bind(U,this,h))}}function M(e){if(e.keyCode!==l.BACKSPACE){var t=String.fromCharCode(e.which||e.keyCode);if(t.charCodeAt(0)===0){_.push(o.val().split("").pop())}else{window.typedValue=t;_.push(t)}}}function z(e){if(e.keyCode===l.LEFT||e.keyCode===l.RIGHT||e.keyCode===l.HOME||e.keyCode===l.END){r.default.defer(I);if(navigator.userAgent.indexOf("MSIE 9")>-1){r.default.defer(E)}return}if(e.keyCode===l.BACKSPACE){_=_.slice(0,-1+_.length);return}if(!p.is(":visible")){return true}switch(e.keyCode){case l.UP:case l.DOWN:var t=null;if(e.keyCode===l.DOWN){if(m&&m.length){t=m.next()}else{t=p.find("li").first()}}else{t=(0,a.default)(m).prev()}if(t.length){$(t)}return false;case l.RETURN:case l.TAB:if(m&&m.length){m.trigger("mousedown");return false}break}return true}function L(){m=null;p.empty().hide();var e=a.default.Event("mentions.hide");o.trigger(e);s.trigger(e)}function $(e){e.addClass(t.classes.autoCompleteItemActive);e.siblings().removeClass(t.classes.autoCompleteItemActive);m=e}function B(e,n){p.show();if(!w.allowRepeat){var i=r.default.pluck(g,"value");n=r.default.reject(n,(function(e){return r.default.include(i,e.name)}))}if(!n.length){L();return}p.empty();var l=(0,a.default)("<ul>").appendTo(p).hide();r.default.each(n,(function(t,n){var i=r.default.uniqueId("mention_");y[i]=r.default.extend({},t,{value:t.value||t.name});var o=(0,a.default)(w.templates.autocompleteListItem(r.default.extend({},t,{id:c.htmlEncode(t.id),display:c.htmlEncode(t.name),type:c.htmlEncode(t.type),content:c.highlightTerm(c.htmlEncode(t.name),e)}))).attr("data-uid",i);if(n===0){$(o)}if(w.showAvatars){var s;if(t.avatar){s=(0,a.default)(w.templates.autocompleteListItemAvatar({avatar:t.avatar}))}else{s=(0,a.default)(w.templates.autocompleteListItemIcon({icon:t.icon}))}s.prependTo(o)}o=o.appendTo(l)}));p.show();if(t.onCaret){F(p,o)}l.show();var u=a.default.Event("mentions.show");o.trigger(u);s.trigger(u)}function U(e){if(e&&e.length&&e.length>=w.minChars){w.onDataRequest.call(this,"search",e,(function(t){B(e,t)}))}else{L()}}function F(e,t){var n=q(t);var a=parseInt(t.css("line-height"),10)||18;e.css("top",a+n.top)}function G(){o.val("");g=[];E()}function R(){var e=s.val().trim();var n=t.mentions?t.mentions.mentionRegex:t.mentionRegex;var a=e.match(n);if(a!==null){a.forEach((function(e){var t=e.split(/[\[|\]|:]/g);g.push({id:t[1],user_id:t[1],name:t[2],value:t[2],isUser:true})}));E()}}return{init:function e(r){n=r;if((0,a.default)(n).hasClass("inited")){return}k();C();x();if(t.mentions&&t.mentions.mentionsStorage.get||t.mentionsStorage.get){g=t.mentions?t.mentions.mentionsStorage.get():t.mentionsStorage.get();o.data("messageText",s.val());E()}else if(o.val().trim().length){R()}else{G()}if(t.prefillMention){O(t.prefillMention)}},val:function e(t){if(!r.default.isFunction(t)){return}t.call(this,g.length?o.data("messageText"):S())},reset:function e(){G()},getMentions:function e(t){if(!r.default.isFunction(t)){return}t.call(this,g)}}};function p(e,t,n){var i=arguments;if(s(t)==="object"||!t){n=t}e.each((function(){var e=a.default.data(this,"mentionsInput")||a.default.data(this,"mentionsInput",new f(n));if(r.default.isFunction(e[t])){return e[t].apply(this,Array.prototype.slice.call(i,1))}else if(s(t)==="object"||!t){return e.init.call(this,this)}else{a.default.error("Method "+t+" does not exist")}}))}},575:function(e,t){},577:function(e,t){},6:function(e,t,n){"use strict";var a=f(n(0));var r=f(n(2));var i=n(7);var o=d(n(30));var s=n(1);var l=n(16);var u=n(9);var c=n(9);function d(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return m(e)||h(e,t)||v()}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function h(e,t){var n=[];var a=true;var r=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(r)throw i}}return n}function m(e){if(Array.isArray(e))return e}var g={};g.CustomSelectbox=function(){function e(e){var t=(0,a.default)("select",e),n=(0,a.default)(".dropdown-toggle",e),r=(0,a.default)(".dropdown-menu a",e),i="active",o="."+i;r.on("click",(function(e){var s=(0,a.default)(this);e.preventDefault();if(s.hasClass("disabled")){return}n.find("span:first").html(s.html());t.val(s.data("opt-value"));t.trigger("change");r.filter(o).removeClass(i);s.addClass(i)}));r.filter(o).trigger("click")}return e}();g.Anchors=new function(){var e=this,t={scrollable_container_selector:".nf-feeditem-modal"};e.scrollToTarget=function(e,n){n=n||function(){};var r=e.parents(t.scrollable_container_selector).first();if(r.length&&r[0].scrollHeight==r.outerHeight()){r=(0,a.default)()}if(e.length){var i=e.offset().top;var o;var l=0;if(!r.length){if(s.isMobile){o=(0,a.default)(".m-action-bar")}else if(s.userIsAuthenticated){o=(0,s.jqGetElemById)("header")}}if(!e.hasClass("anchor")&&o){o.each((function(e,t){l+=(0,a.default)(t).outerHeight()}))}if(r.length){var u=i-r.offset().top;(0,s.setScrollPosition)(u+r.scrollTop()-l,{$container:r,animate:true,callback:n})}else{(0,s.setScrollPosition)(i-l,{animate:true,callback:n})}}else{n()}};e.controller=function(t){(0,s.jqOffOn)(t,"click.scrolltotarget",(function(n){n.preventDefault();e.scrollToTarget((0,a.default)(t.data("target")))}))};e.init=function(){var t=window.location.hash;var n=(0,s.jqGetElemById)(t.substr(1));if(t&&t.length&&n.length>0&&!n.hasClass("anchor")){(0,s.setScrollPosition)(0);setTimeout((function(){(0,s.setScrollPosition)(0);e.scrollToTarget(n)}),10)}s.$document.on("click",'a[href^="#"]',(function(t){t.preventDefault();var n=(0,a.default)(t.currentTarget).attr("href").substr(1);if(n&&n.length){var r=(0,s.jqGetElemById)(n);if(r.length){e.scrollToTarget(r);window.location.hash=n}}}))};return e};g.scrollFixedElements=function(){var e=[{$elem:(0,s.jqGetElemById)("header"),shiftProperty:"margin-left"}];var t=0;var n=false;e=e.filter((function(e){return e.$elem.length>0}));if(e.length===0){return}var a=function n(){var a=s.$window.scrollLeft();if(a!==t){e.forEach((function(e){e.offset=e.offset||parseInt(e.$elem.css(e.shiftProperty),10);var n=e.offset-(a-t);e.$elem.css(e.shiftProperty,"".concat(n,"px"));e.offset=n}));t=a}};var r=function t(){var r=document.documentElement,i=r.scrollWidth,o=r.clientWidth;if(!n&&i>o){a();s.$window.on("scroll",a);n=true}if(n&&i===o){e.forEach((function(e){return e.$elem.css(e.shiftProperty,"")}));s.$window.off("scroll",a);n=false}};r();s.$window.on("resize",r)};g.crop=function(e){r.default.defer((function(){if(!s.isMobile||navigator.userAgent.toLowerCase().indexOf("android")>=0){s.$body.toggleClass("cropped",e!==false)}else{var t=s.$body.children(".modal-bg");if(e!==false){t.on("touchstart.crop",(function(e){this.allowUp=this.scrollTop>0;this.allowDown=this.scrollTop<this.scrollHeight-this.clientHeight;this.lastY=e.originalEvent.pageY})).on("touchmove.crop",(function(e){var t=e.originalEvent;var n=t.pageY>this.lastY;var a=!n;this.lastY=t.pageY;if(n&&this.allowUp||a&&this.allowDown){t.stopPropagation()}else{t.preventDefault()}}))}else{t.off(".crop")}}}))};g.sticky=function(e){e.affix({offset:{top:e.offset().top+(e.data("offset-top")||0)}})};g.toggleButtonLoadingState=function(){var e=null;return function(t,n){if(n&&!e){var r=(0,a.default)("<span/>").text(".").addClass("dot").css("visibility","hidden"),i=r.clone(),o=t.find(".b2-flag").clone(),s=1;t.data("original-text",t.text()).text("Loading.").append(r,i).append(o);e=setInterval((function(){s=s==3?1:s+1;r.css("visibility",s>1?"visible":"hidden");i.css("visibility",s==3?"visible":"hidden")}),333)}else if(e){t.html(t.data("original-text"));clearInterval(e);e=null}}}();g.showConfirmationModal=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.title,n=t===void 0?"Are you sure?":t,r=e.text,i=e.cancelBtnText,o=i===void 0?"Cancel":i,l=e.confirmBtnText,u=l===void 0?"Yes":l,c=e.classes,d=c===void 0?"":c;return new Promise((function(e){var t=false;var i=r?"<p>".concat(r,"</p>"):"";(0,s.jqGetElemById)("confirm-modal").remove();var l='<div class="modal hide '.concat(!n?"no-title":""," ").concat(d,'" id="confirm-modal">\n            <div class="modal-header"><h3>').concat(n,'</h3></div>\n            <div class="modal-body">').concat(i,'</div>\n            <div class="modal-footer">\n                <a href="#" class="btn cancel" data-dismiss="modal">').concat(o,'</a>\n                <a href="#" class="btn btn-accent confirm">').concat(u,"</a>\n            </div>\n        </div>");l=l.replace(/>\s+</g,"><");s.$body.append(l);var c=(0,s.jqGetElemById)("confirm-modal");c.find(".confirm").on("click",(function(e){e.preventDefault();t=true;c.modal("hide")}));c.on("hide",(function(){e(t)}));(0,a.default)("body #confirm-modal").modal()}))};g.areYouSure=function(e){var t=false;e.on("click",(function(n){if(!t){n.preventDefault();g.showConfirmationModal({title:e.data("confirm-box-title")}).then((function(n){if(n){t=true;e.trigger("click")}}))}}))};g.modalController=function(e){var t=e.data();e.on("show",(function(){if(t.axId){setTimeout((function(){(0,i.track)("ui",{action:"modal",element_type:"modal",element_id:t.axId})}),1)}if(t.flag){o.update(t.flag,true)}}));e.modal({show:false});var n=true;if(t.trigger){(0,a.default)(t.trigger).on("click",(function(t){t.preventDefault();e.modal("show")}));n=t.autoshow===true}if(n){e.modal("show")}};g.fitDropdownIntoViewport=function(e){var t=e.find(".dropdown-menu"),n=10,a="resize.ddresize scroll.ddresize",i="vertical-scrollbar",o=false,l;function u(){var e=s.$window.height()+s.$document.scrollTop()-n;var a=t.offset().top+t.outerHeight();var r=t.height()-(a-e);if(r>l){if(o){t.css("height","auto").removeClass(i);o=false}}else{if(!o){t.addClass(i);o=true}t.height(r)}}function c(){l=t.height();u()}e.on("opened",(function(){c();s.$window.on(a,r.default.throttle(u,20))})).on("close",(function(){t.css("height","auto");s.$window.off(a)})).on("update",c)};g.fadeOutOnComponentLoad=function(e){e.fadeOut(2e3)};g.autocomplete=function(e){var t=e.find(".autocomplete-field"),n=e.find(".autocomplete-target"),i=e.data();if(i.autocompleteUrl&&t.length&&n.length){var o,s=[];var l=function e(t){var n=t.title||t.name;if(i.showIds){n+=" ["+t.id+"]"}return n};var u=function e(t,n){return a.default.Event("autocomplete."+t,{autocomplete:n})};t.typeahead();t.on("focus",(function(){t.select()}));t.on("keypress",(function(n){clearTimeout(o);o=setTimeout((function(){var n=t.val();if(n.length>=3){var r=e.data("autocomplete-url");var o={};o[i.paramName||"query"]=n;a.default.get(r,o).then((function(e){s=e;t.data("typeahead").source=e.map(l);if(e.length){t.typeahead("lookup")}}))}}),500)}));t.on("ta_select",(function(e){var a=t.val(),r;for(var i in s){r=s[i];if(l(r)===a){n.val(r.id);n.trigger("change");t.trigger(u("select",r));t.data("previous-value",a);return}}}));t.on("blur",(function(){setTimeout((function(){t.typeahead("hide");if(t.val()===""){n.val("");n.trigger("change");t.trigger(u("select",{id:null,title:null}))}else{t.val(t.data("previous-value"))}}),200)}));t.on("autocomplete.reset",(function(){t.data("typeahead").source=[]}));t.data("previous-value",t.val());r.default.defer((function(){t.trigger(u("ready",{id:n.val(),title:t.val()}))}))}};g.hasPlaceholder=function(e){var t=e.data("placeholder");if(t){var n="placeholder",a=function a(){if(e.val().trim()===""){e.val(t).addClass(n)}},r=function t(){if(e.hasClass(n)){e.val("").removeClass(n)}};if(e.val()===t){e.val("")}if(!e.is(":focus")&&!e.is(":selected")){a()}e.on("focus select",r).on("blur",a);e.parents("form").on("submit",r)}};g.quadLimitWarning=function(e){var t=e.find("textarea");var n=null;var i=false;var o=e.data("quad-warning");var s=5;var l=/\\qq?uad/g;var u=function r(){var u=t.val().match(l);if(u&&u.length>=s){i=true;if(n){n.show()}else{n=(0,a.default)('<ul class="errorlist"><li>'+o+"</li></ul>");e.append(n)}}else if(n&&i){i=false;n.hide()}};t.on("keyup input",u);r.default.defer(u)};g.showAndHideContent=function(e){e.find(".btn").on("click",(function(t){t.preventDefault();e.nextAll("blockquote.hidden").first().toggleClass("show")}))};g.preventDoubleClick=function(e){e.find("a,button").on("click",(function(e){var t=(0,a.default)(this);if(t.hasClass("disabled")){e.preventDefault()}else{t.addClass("disabled")}}))};g.genericSignupModal=function(e){var t=(0,s.jqGetElemById)("signup-modal-generic");if(t.length){t.modal({show:false});e.on("click",(function(n){n.preventDefault();t.modal("show");var r=t.find(".public-signup-left");if(r.length&&!r.data("already-opened")){r.data("already-opened",true);r.attr("data-already-opened",true);(0,i.track)("ui",{action:"viewed_prenux_slide",step_position:1,is_first_step:true,is_last_step:false})}var o=t.find(".public-signup-right");if(o.length){var s="show-form";var l="show-signup";var d="show-login";if(e.data("show-login")){o.removeClass(s+" "+l).addClass(d)}else{o.removeClass(s+" "+d).addClass(l)}}var f=e.data("next");if(f){t.find(".btn-email").data("next",f);t.find(".signup-social").each((function(e,t){var n=t.href.split("?")[0];var r="next=".concat(encodeURIComponent(f));(0,a.default)(t).attr("href","".concat(n,"?").concat(r))}))}var v=(0,u.getParamsObject)()["from-course"];if(v){t.find(".btn-email").data("signup_course_slug",v);t.find(".signup-social").each((function(e,t){if(t.href.indexOf("from-course=")<0){var n=t.href.split("next="),r=p(n,2),i=r[0],o=r[1];o=decodeURIComponent(o);o=(0,c.appendGetParam)(o,"from-course",v);var s=o.split("?"),l=p(s,2),u=l[0],d=l[1];d=encodeURIComponent("?".concat(d));var f="".concat(i,"next=").concat(u).concat(d);(0,a.default)(t).attr("href",f)}}))}}))}};g.selectAll=function(e){var t=e.data("parent")||null;var n;if(t){n=e.parents(t)}else{n=e}n.on("click",(function(t){e.select()}))};g.hundredDayButton=function(e){setTimeout((function(){e.removeClass("wiggle-less")}),5e3)};g.interceptClicks=function(e){var t=(0,s.jqCreateElem)("button");t.css({position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,zIndex:100});t.on("click",(function(){window.location=e.data("target")}));e.children().append(t)};g.selectPlaceholder=function(e){if(e[0].tagName!=="SELECT"){return}var t="not-selected";var n=function n(){e.toggleClass(t,e[0].selectedIndex===0)};n();e.on("change",n)};g.keyboardNavigation=function(e){var t=e.key||"";var n=e.guard||r.default.noop;var i=e.left||r.default.noop;var o=e.right||r.default.noop;var l=["input","textarea"];var u=function e(){var t=document.activeElement;if(l.indexOf(t.tagName.toLowerCase())>=0&&(!t.type||t.type!=="button")){return t.value&&t.value.length||(0,a.default)(t).parents(".CodeMirror").length}return false};(0,s.jqOffOn)(s.$body,"keydown.keynav".concat(t),(function(e){if(e.metaKey||u()||n()===false){return}if(e.which===37){e.preventDefault();i()}else if(e.which===39){e.preventDefault();o()}}))};g.isVisibleInContainer=function(e,t){if(!e.is(":visible")){return false}var n=t[0]===window?0:t.offset().top;var a=t.scrollTop();var r=a;var i=r+t.height();var o=(t[0]===window?0:a)+e.offset().top-n;var s=o+e.outerHeight();return o<=i&&s>=r};g.isInViewport=function e(t){return g.isVisibleInContainer(t,s.$window)};g.deferImage=function(e){var t=e.data("src");if(t){(0,l.onLoad)((function(){setTimeout((function(){e.on("load",(function(){e.removeAttr("width");e.removeAttr("height")}));e.prop("src",t)}),1)}))}};g.showGenericModal=function(e,t){var n="";n+='<div class="modal-header">';n+='<button type="button" class="close" data-dismiss="modal">&times;</button>';if(e){n+="<h3>".concat(e,"</h3>")}n+="</div>";n+='<div class="modal-body">';if(t){n+="<p>".concat(t,"</p>")}n+="</div>";n+='<div class="modal-footer">\n            <a href="#" class="btn btn-accent" data-dismiss="modal">Close</a>\n        </div>';(0,a.default)("body #auto-modal").remove();(0,a.default)("body .modal-bg").remove();(0,a.default)(".modal:visible").modal("hide");(0,a.default)("body").append('<div class="modal hide" id="auto-modal">'.concat(n,"</div>"));return(0,a.default)("body #auto-modal").modal()};g.getScrollHeight=function(e){if(!e.length){return null}return e[0].scrollHeight};(0,l.onDOMReady)((function(){if(!s.isMobile){g.scrollFixedElements()}g.Anchors.init()}));g.clickableHover=function(e){var t="hover";e.on("mouseenter",(function(){return e.addClass(t)}));e.on("mouseleave",(function(){return e.removeClass(t)}));e.on("click",(function(){return e.removeClass(t)}))};e.exports=g},609:function(e,t){},610:function(e,t){},65:function(e,t,n){"use strict";var a=o(n(0));var r=n(1);var i=n(6);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){s=function e(t){return typeof t}}else{s=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return s(e)}a.default.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},n;for(n in t){if(e.style[n]!==undefined){return t[n]}}}();return e&&{end:e}}();var l='[data-dismiss="alert"]',u=function e(t){(0,a.default)(t).on("click",l,this.close)};u.prototype.close=function(e){var t=(0,a.default)(this),n=t.attr("data-target"),r;if(!n){n=t.attr("href");n=n&&n.replace(/.*(?=#[^\s]*$)/,"")}if(n!=="#"){r=(0,a.default)(n)}e&&e.preventDefault()(r&&r.length)||(r=t.hasClass("alert")?t:t.parent());r.trigger(e=a.default.Event("close"));if(e.isDefaultPrevented())return;r.removeClass("in");function i(){r.trigger("closed").remove()}a.default.support.transition&&r.hasClass("fade")?r.on(a.default.support.transition.end,i):i()};a.default.fn.alert=function(e){return this.each((function(){var t=(0,a.default)(this),n=t.data("alert");if(!n)t.data("alert",n=new u(this));if(typeof e=="string")n[e].call(t)}))};a.default.fn.alert.Constructor=u;(0,a.default)((function(){(0,a.default)("body").on("click.alert.data-api",l,u.prototype.close)}));var c='[data-toggle="dropdown"]',d=function e(t){var n=(0,a.default)(t).on("click.dropdown.data-api",this.toggle);(0,a.default)("html").on("click.dropdown.data-api",(function(){n.parent().removeClass("open").trigger(a.default.Event("close"))}))};d.prototype={constructor:d,toggle:function e(t){var n=(0,a.default)(this),r,i,o;if(n.is(".disabled, :disabled"))return;i=n.attr("data-target");if(!i){i=n.attr("href");i=i&&i.replace(/.*(?=#[^\s]*$)/,"")}if(i!=="#"){r=(0,a.default)(i)}r&&r.length||(r=n.parent());o=r.hasClass("open");f();if(!o){r.trigger(a.default.Event("open"));r.toggleClass("open");r.trigger(a.default.Event("opened"))}else{if(t){t.stopPropagation()}r.trigger(a.default.Event("close"))}return false}};function f(){(0,a.default)(c).parent().removeClass("open").trigger(a.default.Event("close"))}a.default.fn.dropdown=function(e){return this.each((function(){var t=(0,a.default)(this),n=t.data("dropdown");if(!n)t.data("dropdown",n=new d(this));if(typeof e=="string")n[e].call(t)}))};a.default.fn.dropdown.Constructor=d;(0,a.default)((function(){(0,a.default)("html").on("click.dropdown.data-api",f);(0,a.default)("body").on("click.dropdown",".dropdown form",(function(e){e.stopPropagation()})).on("click.dropdown.data-api",c,d.prototype.toggle)}));var p=function e(t,n){this.options=n;this.$element=(0,a.default)(t).on("click.dismiss.modal",'[data-dismiss="modal"]',a.default.proxy(this.hide,this))};p.prototype={constructor:p,toggle:function e(){return this[!this.isShown?"show":"hide"]()},show:function e(){var t=this,n=a.default.Event("show");this.$element.trigger(n);if(window.ie_version===6){t.$element.css("position","absolute");(0,r.setScrollPosition)(0)}if(this.isShown||n.isDefaultPrevented())return;(0,a.default)("body").addClass("modal-open");this.isShown=true;y.call(this);m.call(this,(function(){var e=a.default.support.transition&&t.$element.hasClass("fade");if(!t.$element.parent().length){t.$element.appendTo(document.body)}t.$element.appendTo(t.$backdrop);(0,i.crop)();t.$element.show();if(e){t.$element[0].offsetWidth}t.$element.addClass("in");e?t.$element.one(a.default.support.transition.end,(function(){t.$element.trigger("shown")})):t.$element.trigger("shown")}))},hide:function e(t){t&&t.preventDefault();var n=this;t=a.default.Event("hide");this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=false;(0,a.default)("body").removeClass("modal-open");(0,i.crop)(false);y.call(this);this.$element.removeClass("in");a.default.support.transition&&this.$element.hasClass("fade")?v.call(this):h.call(this)}};function v(){var e=this,t=setTimeout((function(){e.$element.off(a.default.support.transition.end);h.call(e)}),500);this.$element.one(a.default.support.transition.end,(function(){clearTimeout(t);h.call(e)}))}function h(e){this.$element.hide().trigger("hidden");m.call(this)}function m(e){var t=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=a.default.support.transition&&n;this.$backdrop=(0,a.default)('<div class="modal-bg '+n+'" />').appendTo(document.body);if(window.ie_version===6){this.$backdrop.css({position:"absolute",background:"#666",top:0,left:0,width:"100%",height:1e3});(0,a.default)(".carousel-control.left").css("left",5);(0,a.default)(".carousel-control.right").css("left",750)}if(this.options.backdrop!="static"){this.$backdrop.on("click",(function(e){if((0,a.default)(e.target).is(t.$backdrop)){t.hide()}}))}if(r)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");r?this.$backdrop.one(a.default.support.transition.end,e):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");a.default.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.default.support.transition.end,a.default.proxy(g,this)):g.call(this)}else if(e){e()}}function g(){this.$backdrop.hide();this.$backdrop.detach()}function y(){var e=this;if(this.isShown&&this.options.keyboard){(0,a.default)(document).on("keyup.dismiss.modal",(function(t){t.which==27&&e.hide()}))}else if(!this.isShown){(0,a.default)(document).off("keyup.dismiss.modal")}}a.default.fn.modal=function(e){return this.each((function(){var t=(0,a.default)(this),n=t.data("modal"),r=a.default.extend({},a.default.fn.modal.defaults,t.data(),s(e)=="object"&&e);if(!n)t.data("modal",n=new p(this,r));if(typeof e=="string")n[e]();else if(r.show)n.show()}))};a.default.fn.modal.defaults={backdrop:true,keyboard:true,show:true};a.default.fn.modal.Constructor=p;(0,a.default)((function(){(0,a.default)("body").on("click.modal.data-api",'[data-toggle="modal"]',(function(e){var t=(0,a.default)(this),n,r=(0,a.default)(t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),i=r.data("modal")?"toggle":a.default.extend({},r.data(),t.data());e.preventDefault();r.modal(i)}))}));var _=function e(t,n){this.init("tooltip",t,n)};_.prototype={constructor:_,init:function e(t,n,r){var i,o;this.type=t;this.$element=(0,a.default)(n);this.options=this.getOptions(r);this.enabled=true;if(this.options.trigger!="manual"){if(this.options.trigger=="hover"&&/iphone|ipad/i.test(navigator.userAgent)){i="touchstart";o="touchend"}else{i=this.options.trigger=="hover"?"mouseenter":"focus";o=this.options.trigger=="hover"?"mouseleave":"blur"}this.$element.on(i,this.options.selector,a.default.proxy(this.enter,this));this.$element.on(o,this.options.selector,a.default.proxy(this.leave,this))}this.options.selector?this._options=a.default.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function e(t){t=a.default.extend({},a.default.fn[this.type].defaults,t,this.$element.data());if(t.delay&&typeof t.delay=="number"){t.delay={show:t.delay,hide:t.delay}}return t},enter:function e(t){var n=(0,a.default)(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout);n.hoverState="in";this.timeout=setTimeout((function(){if(n.hoverState=="in")n.show()}),n.options.delay.show)},leave:function e(t){var n=(0,a.default)(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout)clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out";this.timeout=setTimeout((function(){if(n.hoverState=="out")n.hide()}),n.options.delay.hide)},show:function e(){var t,n,r,i,o,s,l;if(this.hasContent()&&this.enabled){t=this.tip();this.setContent();if(this.options.animation){t.addClass("fade")}s=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement;n=/in/.test(s);t.remove().css({top:0,left:0,display:"block"}).appendTo(n?this.$element:document.body);r=this.getPosition(n);i=t[0].offsetWidth;o=t[0].offsetHeight;switch(n?s.split(" ")[1]:s){case"bottom":l={top:r.top+r.height,left:r.left+r.width/2-i/2};break;case"top":l={top:r.top-o,left:r.left+r.width/2-i/2};break;case"left":l={top:r.top+r.height/2-o/2,left:r.left-i};break;case"right":l={top:r.top+r.height/2-o/2,left:r.left+r.width};break}t.css(l).addClass(s).addClass("in");this.$element.trigger(a.default.Event("show"))}},isHTML:function e(t){return typeof t!="string"||t.charAt(0)==="<"&&t.charAt(t.length-1)===">"&&t.length>=3||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(t)},setContent:function e(){var t=this.tip(),n=this.getTitle();t.find(".tooltip-inner")[this.isHTML(n)?"html":"text"](n);t.removeClass("fade in top bottom left right")},hide:function e(){var t=this,n=this.tip();n.removeClass("in");function r(){var e=setTimeout((function(){n.off(a.default.support.transition.end).remove()}),500);n.one(a.default.support.transition.end,(function(){clearTimeout(e);n.remove()}))}a.default.support.transition&&this.$tip.hasClass("fade")?r():n.remove();this.$element.trigger(a.default.Event("hide"))},fixTitle:function e(){var t=this.$element;if(t.attr("title")||typeof t.attr("data-original-title")!="string"){t.attr("data-original-title",t.attr("title")||"").removeAttr("title")}},hasContent:function e(){return this.getTitle()},getPosition:function e(t){return a.default.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function e(){var t,n=this.$element,a=this.options;t=n.attr("data-original-title")||(typeof a.title=="function"?a.title.call(n[0]):a.title);return t},tip:function e(){return this.$tip=this.$tip||(0,a.default)(this.options.template)},validate:function e(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function e(){this.enabled=true},disable:function e(){this.enabled=false},toggleEnabled:function e(){this.enabled=!this.enabled},toggle:function e(){this[this.tip().hasClass("in")?"hide":"show"]()}};a.default.fn.tooltip=function(e){return this.each((function(){var t=(0,a.default)(this),n=t.data("tooltip"),r=s(e)=="object"&&e;if(!n)t.data("tooltip",n=new _(this,r));if(typeof e=="string")n[e]()}))};a.default.fn.tooltip.Constructor=_;a.default.fn.tooltip.defaults={animation:false,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0};var b=function e(t,n){this.$element=(0,a.default)(t);this.options=a.default.extend({},a.default.fn.typeahead.defaults,n);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.$menu=(0,a.default)(this.options.menu).appendTo("body");this.source=this.options.source;this.shown=false;this.listen()};var w=function(){var e=/[àáâãäåæçèéêëìíîïñòóôõöœùúûüýÿ]/g;return function(t){var n={"à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","œ":"oe","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","ÿ":"y"};return t.replace(e,(function(e){return n[e]}))}}();b.prototype={constructor:b,select:function e(){var t=this.$menu.find(".active").attr("data-value");if(t&&t.length>0){this.$element.val(this.updater(t)).change()}else{this.$element.val()}this.$element.trigger("ta_select");return this.hide()},updater:function e(t){return t},show:function e(){var t=a.default.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});var n={top:t.top+t.height,left:t.left};if(this.options.matchWidth){n.width=this.$element.width()}this.$menu.css(n);this.$menu.show();this.shown=true;this.$element.trigger("menued");return this},hide:function e(){this.$menu.hide();this.shown=false;this.$element.trigger("unmenued");return this},lookup:function e(t){var n=this,r,i;this.query=this.$element.val();if(!this.query){return this.shown?this.hide():this}r=a.default.grep(this.source,(function(e){return n.matcher(e)}));r=this.sorter(r);if(!r.length){return this.shown?this.hide():this}return this.render(r.slice(0,this.options.items)).show()},matcher:function e(t){return~w(t.toLowerCase()).indexOf(w(this.query.toLowerCase()))},sorter:function e(t){var n=[],a=[],r=[],i;while(i=t.shift()){if(!i.toLowerCase().indexOf(this.query.toLowerCase()))n.push(i);else if(~i.indexOf(this.query))a.push(i);else r.push(i)}return n.concat(a,r)},highlighter:function e(t){var n=w(t.toLowerCase()),a=w(this.query.toLowerCase());var r=a.replace(/\[|\]|\{|\}/g,(function(e){return"\\"+e}));n=n.replace(new RegExp("("+r+")","ig"),(function(e,t){return"<strong>"+t+"</strong>"}));t=t.split("");var i=new RegExp("<strong>("+r+")</strong>","ig"),o=0,s=0,l=0,u=[];while(u=i.exec(n)){var c=i.lastIndex-u[0].length-o+s;o+=u[0].length;t.splice(l+c,0,"<strong>");l+=1;t.splice(l+c+u[1].length,0,"</strong>");l+=1;s+=1}t=t.join("");return t},render:function e(t){var n=this;t=(0,a.default)(t).map((function(e,t){e=(0,a.default)(n.options.item).attr("data-value",t);e.find("a").html(n.highlighter(t));return e[0]}));this.$menu.html(t);return this},next:function e(t){var n=this.$menu.find(".active").removeClass("active"),e=n.next();if(!e.length){e=(0,a.default)(this.$menu.find("li")[0])}e.addClass("active")},prev:function e(t){var n=this.$menu.find(".active").removeClass("active"),e=n.prev();if(!e.length){e=this.$menu.find("li").last()}e.addClass("active")},listen:function e(){this.$element.on("keypress",a.default.proxy(this.keypress,this)).on("keyup",a.default.proxy(this.keyup,this));if(!this.options.ignore_blur){this.$element.on("blur",a.default.proxy(this.blur,this))}if(this.eventSupported("keydown")){this.$element.on("keydown",a.default.proxy(this.keypress,this))}this.$menu.on("click",a.default.proxy(this.click,this)).on("mouseenter","li",a.default.proxy(this.mouseenter,this))},eventSupported:function e(t){var n=t in this.$element;if(!n){this.$element.setAttribute(t,"return;");n=typeof this.$element[t]==="function"}return n},keyup:function e(t){switch(t.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation();t.preventDefault()},keypress:function e(t){if(!this.shown)return;switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:if(t.type!="keydown")break;t.preventDefault();this.prev();break;case 40:if(t.type!="keydown")break;t.preventDefault();this.next();break}t.stopPropagation()},blur:function e(t){var n=this;setTimeout((function(){n.hide()}),150)},click:function e(t){t.stopPropagation();t.preventDefault();this.$element.data("has_blurred",true);this.select()},mouseenter:function e(t){this.$menu.find(".active").removeClass("active");(0,a.default)(t.currentTarget).addClass("active")}};a.default.fn.typeahead=function(e){return this.each((function(){var t=(0,a.default)(this),n=t.data("typeahead"),r=s(e)=="object"&&e;if(!n)t.data("typeahead",n=new b(this,r));if(typeof e=="string")n[e]()}))};a.default.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',ignore_blur:true,matchWidth:false};a.default.fn.typeahead.Constructor=b;(0,a.default)((function(){(0,a.default)("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',(function(e){var t=(0,a.default)(this);if(t.data("typeahead"))return;t.typeahead(t.data())}))}));var k=function e(t,n){this.options=a.default.extend({},a.default.fn.affix.defaults,n);this.$window=(0,a.default)(window).on("scroll.affix.data-api",a.default.proxy(this.checkPosition,this)).on("click.affix.data-api",a.default.proxy((function(){setTimeout(a.default.proxy(this.checkPosition,this),1)}),this));this.$element=(0,a.default)(t);this.checkPosition()};k.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var e=(0,a.default)(document).height(),t=this.$window.scrollTop(),n=this.$element.offset(),r=this.options.offset,i=r.bottom,o=r.top,l="affix affix-top affix-bottom",u;if(s(r)!="object")i=o=r;if(typeof o=="function")o=r.top();if(typeof i=="function")i=r.bottom();u=this.unpin!=null&&t+this.unpin<=n.top?false:i!=null&&n.top+this.$element.height()>=e-i?"bottom":o!=null&&t<=o?"top":false;if(this.affixed===u)return;this.affixed=u;this.unpin=u=="bottom"?n.top-t:null;this.$element.removeClass(l).addClass("affix"+(u?"-"+u:""))};var C=a.default.fn.affix;a.default.fn.affix=function(e){return this.each((function(){var t=(0,a.default)(this),n=t.data("affix"),r=s(e)=="object"&&e;if(!n)t.data("affix",n=new k(this,r));if(typeof e=="string")n[e]()}))};a.default.fn.affix.Constructor=k;a.default.fn.affix.defaults={offset:0}},658:function(e,t,n){var a={"./ajax.js":13,"./ajax_upload.js":233,"./analytics.js":7,"./app_version.js":50,"./autosave.js":126,"./autosubmit.js":36,"./avo.js":51,"./branch.js":181,"./btooltip.js":100,"./constants.js":8,"./content_type.js":308,"./cookies.js":309,"./creation_modal.js":659,"./csrf.js":35,"./cursor.js":76,"./deferred.js":45,"./email_validator.js":351,"./flags.js":30,"./getFormData.js":81,"./global.js":1,"./katex.js":111,"./latex.js":27,"./mathjax_loader.js":41,"./mobile_native.js":660,"./modal_helpers.js":187,"./onload.js":16,"./pager.js":223,"./popstate.js":224,"./raven.js":28,"./sharing.js":364,"./sticky.js":127,"./text_formatter.js":310,"./ui.js":6,"./urls.js":9,"./vkey.js":311};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return a[e]}r.keys=function e(){return Object.keys(a)};r.resolve=i;e.exports=r;r.id=658},659:function(e,t,n){"use strict";var a=m(n(0));var r=m(n(2));var i=m(n(34));var o=m(n(13));var s=n(1);var l=n(8);var u=h(n(27));var c=n(6);var d=n(9);var f=m(n(54));var p=n(11);var v=n(37);function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function m(e){return e&&e.__esModule?e:{default:e}}var g={};var y=window.vkey||{};var _=null;var b={};var w;g.justAddedViaModal="";var k=null;var C=null;var x="mcq";var E=function e(t,n){var a=t.find(".cmp-deferred");var i=(n.post_to_set_name||"<none>")+"|"+(n.clone_from_problem||"<none>")+"|"+(n.pre_filled_skill||"<none>")+"|"+(n.pre_filled_topic||"<none>")+"|"+(n.wiki||"<none>");if(a.length){a.appendTo(s.$body);t.data("orig-deferred",a)}else{a=t.data("orig-deferred")}if(t.data("last-update")!==i){a=a.clone();t.empty().append(a);var o=r.default.pick(n,"group","post_to_set_name","clone_from_problem","pre_filled_skill","pre_filled_topic","wiki");if(r.default.keys(o).length){var l=a.data("cmp_url");var u=r.default.extend({},o,{is_modal:true});var c=(0,d.appendGetParams)(l,u);a.data("cmp_url",c)}t.data("last-update",i)}};g.clickHandler=function(e){var t=e.data();var n=null;e.on("click",(function(e){if(!e.metaKey){n=b[t.target]||(0,s.jqGetElemByCmpName)(t.target);b[t.target]=n;if(!n.data("modal-loaded")){if(!n.find(".cmp-deferred").length){return true}n.data("modal-loaded",true)}e.preventDefault();E(n,t);if(n.data("modal")){n.modal()}else{n.on("shown",(function(){w=t.target}));n.modal("show")}}return true}))};var I=null;var T=["gif","jpg","jpeg","png"];var O=function e(){var t=(0,a.default)("#attach-image"),n=(0,a.default)("#id_image");if(!t.length){return}var i=(0,a.default)("#preview-img"),o=(0,a.default)("#preview-img-name"),s=r.default.template(t.data("tmpl")),l=r.default.template(t.data("error"));t.data("orig-content",t.html());var u=function e(){var a=n.val().split(/\/|\\/g),u=a.length>0?a.pop():false,c=u?u.split(".").pop():"";if(u&&u.length>0){I=n;var d;if(r.default.contains(T,c.toLowerCase())){t.next(".errorlist").remove();d=s({image:u})}else{d=t.data("orig-content");t.next(".errorlist").remove();t.after(l({extension:c}));n.val("");I=null}t.html(d);if(i.length>0){i.show();o.text(u)}}else{t.html(t.data("orig-content"))}};if(I!==null){n.after(I);n.remove();n=(0,a.default)("#id_image");u()}t.on("click",(function(e){e.preventDefault();n.click()}));n.on("change",u)};g.redirectHandler=function(e,t){window.location=e};function S(e){setTimeout((function(){if(x==="mcq"){e.find("label.multi-select-extra span").html("Correct answer");if(e.find("input:checked").length===0){e.find("input[type=checkbox]:first").prop("checked",true)}}else{e.find("label.multi-select-extra span").html("Required answer")}e.find("input[type=text]").removeClass("correct").attr("placeholder",k);e.find("input:checked").each((function(){(0,a.default)(this).parents(".mcq-field").find("input[type=text]").addClass("correct").attr("placeholder",C)}))}))}g.form=function(e){var t=e.find("textarea");var n=e.find(".type-select");var l=e.find(".numerical-answer-field");var u=l.find("input");var d=e.find(".field-difficulty_level, .field-level");var f=e.find(".fields");var p=e.data("solvable-id")||0;_=e;var h=function t(n){var r="";e.find("[type=file]").each((function(e,t){r+=(0,a.default)(t).val()}));if(r.length){e.submit()}else{if(n){s.$window.trigger(a.default.Event("creationmodal.preview"))}(0,o.default)("").form(e[0])}};(0,i.default)(t);t.each((function(e,t){var n=(0,a.default)(t);var r=n.is("#id_summary");(0,v.wikiLinks)(n,r)}));e.find(".btn-preview-post").on("click",(function(t){t.preventDefault();e.addClass("loading");h(true)}));e.find(".btn-edit").on("click",(function(t){t.preventDefault();e.removeClass("previewing");(0,a.default)(".publish-list, .publish-wiki-container").removeClass("hide");e.find("textarea").trigger("autosize.resize");r.default.defer((function(){c.Anchors.scrollToTarget((0,a.default)(".publish-wiki-form"))}))}));e.find(".btn-confirm").on("click",(function(t){t.preventDefault();e.find(".preview-post-field, .preview-solvable-field, .preview-wiki-field").val("");e.addClass("loading");(0,a.default)(t.currentTarget).addClass("dim");h(false)}));var m=function e(){if(!u.closest(".nf-answer-field").hasClass("number")){return}var t=u.val();var n=/[^-\d.eE+]/;var a=/[.eE]/;var r="invalid";var i="usage";if(n.test(t)){l.removeClass(i).addClass(r)}else if(a.test(t)){l.removeClass(r).addClass(i)}else{l.removeClass("".concat(r," ").concat(i))}d.toggleClass("disabled",t.length===0)};u.on("keyup change",m);if(u.length){d.toggleClass("disabled",u.val().length===0)}var y=function e(t){var a;x=t.val();n.find(".active").removeClass("active");t.parents("label").addClass("active");t.closest(".nf-answer-field").removeClass("number mcq multi_select").addClass(x);switch(x){case"mcq":case"multi_select":S(f);g.variableNumChoices.checkForBlankFields(p);break;case"number":a=parseFloat((0,s.jqGetElemById)("id_mcq_answer_1").val());if(!Number.isNaN(a)){(0,s.jqGetElemById)("id_number_answer").val(a)}m();break;default:}};n.find("input").on("change",(function(e){y((0,a.default)(e.currentTarget))}));var b=n.find("input:checked");if(b.length===0){n.find("input").first().prop("checked","checked")}else{y(b)}};g.variableNumChoices=function(){var e={};var t={};e.checkForBlankFields=function(n){if(!t.hasOwnProperty(n)){s.$window.on("".concat(l.EVT_MCQ_EDIT_FORM_SET_CONTEXT,"_").concat(n),(function(){e.checkForBlankFields(n)}));return}var a=t[n],r=a.choiceData,i=a.$optionalFields;if(r&&r.length&&i&&i.length){var o=i.first().closest(".nf-answer-field");if(o.hasClass("mcq")||o.hasClass("multi_select")){var u=r.filter((function(e){return e!==null&&e.length>0}));i.toggleClass("disabled",u.length===0)}}};e.controller=function(n){var i=n.find(".add-choice");var o=n.find(".fields");var u=r.default.template(n.find(".field-template").text());var c=n.parents("form").find("#id_num_mcq_answers");var d=[];var f=[];var v=[];var h=n.data();var m=h.solvableId||0;var g={};var y=+c.val()||4;var _=false;k=h.dummyText;C=h.correctText;t[m]=g;s.$window.trigger(a.default.Event("".concat(l.EVT_MCQ_EDIT_FORM_SET_CONTEXT,"_").concat(m)));g.choiceData=d;g.$optionalFields=n.parents("form").find(".field-difficulty_level, .field-level");o.find("input[type=text]").each((function(e,t){d.push(t.value)}));o.find("input[type=checkbox]").each((function(e,t){f.push(t.checked)}));for(var b=1;b<=8;b++){var w=o.find("#edit-mcq-message-".concat(b));if(w&&w.val()){v[b-1]=w.val()}}var E=function t(){var n="";d.forEach((function(e,t){var a=e==="null"?null:e;var r="";if(v&&v[t]&&v[t]!=="null"){r=v[t]}if(a===null&&t<y){d[t]=""}else if(a!==null&&a.length===0&&t>=y){d[t]=null}var i=o.children("#mcq-choice-".concat(t+1)).find(".errorlist");var s=d[t]===null;n+=u({fieldNumber:t+1,value:a,message:r,tabindex:t+2,hidden:s,error:i.length&&!s?i[0].outerHTML:"",passive:_,deletable:y>2,multiSelectSelected:f[t],user:h.user})}));o.html(n);i.toggleClass("hide",y===8);var r=function n(){if(_){o.find("input").each((function(e,t){(0,a.default)(t).trigger("autosave.save")}))}else{o.find("input[type=text]").each((function(e,t){var n=t.value;d[e]=n.length===0&&e>3?null:n}));var r=null;var i=d.length-1;for(i;i>=0;i--){if(d[i]!==null&&d[i].length){r=i;break}}_=true;if(r!==null&&r!==y-1){if(r===0){y=2}else{y=r+1}c.val(y);t()}e.checkForBlankFields(m)}};(0,p.initGenericControllers)(o,{callback:r});o.find(".delete").on("click",(function(e){e.preventDefault();var n=(0,a.default)(e.currentTarget);if(n.hasClass("disabled")){return}var r=n.parents(".mcq-field");var i=r.index();d.splice(i,1);d.push(null);f.splice(i,1);f.push(false);y--;c.val(y);t()}));o.find("input[type=text]").on("keyup change input",(function(t){var n=(0,a.default)(t.currentTarget);d[n.parents(".mcq-field").index()]=n.val();e.checkForBlankFields(m)}));o.find("input[type=checkbox]").on("change",(function(e){var t=e.currentTarget;var n=(0,a.default)(t).parents(".mcq-field");if(x==="mcq"&&t.checked){var r=o.find("input[type=checkbox]").not(t);r.prop("checked",false);r.parents(".mcq-field").find("input[type=text]").removeClass("correct").attr("placeholder",k)}f[n.index()]=t.checked;n.find("input[type=text]").toggleClass("correct",t.checked).attr("placeholder",t.checked?C:k)}));S(o)};i.on("click",(function(e){e.preventDefault();y++;c.val(y);E()}));E();e.checkForBlankFields(m)};return e}();g.guidelines=function(e){e.find(".btn-guidelines").on("click",(function(e){e.preventDefault();_.toggleClass("guidelines");r.default.defer((function(){_.toggleClass("in")}))}))};g.notesExamples=function(e){f.default.feeditem_modal(e.parent());e.find(".modal-target").each(f.default.modal_events)};g.progressiveFields=function(e){var t=e.data("fields").split(",").map((function(t){return e.find(t)})).filter((function(e){return e.length>0}));var n=function e(){var n=0;var a=false;for(n;n<t.length;n++){t[n].parents(".field").toggleClass("disabled",a);a=a||t[n].val().trim()===""}};r.default.defer((function(){t.forEach((function(e,t){e.on("change",n);e.siblings("input").on("focus",(function(){if(e.parents(".field").hasClass("disabled")){(0,a.default)(this).blur()}}))}))}));n()};g.filterWikis=function(e){var t=e.find(".btn-filter"),n=e.find(".see-more-btn");t.on("click",(function(n){n.preventDefault();var r=(0,a.default)(this),i=r.data("value"),o="needs-writers needs-feedback needs-examples";e.removeClass(o).addClass(i);t.removeClass("active");r.addClass("active")}));n.on("click",(function(){(0,a.default)(this).parents(".publish-wiki-list").addClass("expanded")}))};var q=function e(t,n){var r=y.handle(t,n);u.updateMathjax(r);if(b[n]){b[n].find("form").data("redirect-handler","util/creation_modal:redirectHandler")}(0,a.default)(".publish-list, .publish-wiki-container").addClass("hide")};y.newsfeed_create_post=q;y.newsfeed_create_solvable=q;y.newsfeed_create_wiki=q;e.exports=g},660:function(e,t,n){"use strict";var a=c(n(0));var r=c(n(2));var i=n(1);var o=u(n(45));var s=n(16);var l=c(n(70));function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function c(e){return e&&e.__esModule?e:{default:e}}var d={};d.loadDeferredComponents=function(e){(0,s.onDOMReady)((function(){i.$window.off("scroll.deferred");var t=0,n=(0,a.default)(".cmp-deferred").toArray();var s=function(){var e=3;return function(){if(!n.length){return}while(t<e){t++;if(n[0]){o.load((0,a.default)(n.shift()))}else{n.shift()}}}}();var u=function(){var e=[],t=5,a=n.length,i=0;return function(n){e.push(n);if(e.length>=t||i+e.length>=a){e.forEach((function(e,t){r.default.defer((function(){l.default.init(e())}));i++}));e=[]}}}();var c=function e(n,a){t--;s();u((function(){return window.vkey.handle(n,a)}))};e.forEach((function(e){window.vkey[e]=c}));s()}))};d.solutionDiscussions=function(e){l.default.init();l.default.add_form();if(!i.isAndroid){d.loadDeferredComponents(["solutiondiscussions_publicsolvablesolutioncomments"])}};d.disputeDiscussions=function(e){l.default.init();l.default.add_form();if(!i.isAndroid){d.loadDeferredComponents(["disputediscussions_publicsolvabledisputelist"])}};d.editProblem=function(){setTimeout((function(){var e=(0,i.jqGetElemByCmpName)("assessment_webview_edit_problem");(0,i.jqGetElemById)("question-text-edit").click();e.addClass("in");window.vkey.assessment_webview_edit_problem=function(t,n){if(t.new_html.indexOf("webview_solvable_saved")!==-1){e.hide();window.location="problem://saved"}else{window.vkey.handle(t,n)}}}),100)};e.exports=d},67:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.init=s;t.isUnchanged=l;t.setReadOnly=u;t.onChange=c;t.getValue=d;t.setValue=f;t.getCursor=p;t.setCursor=v;t.focus=h;t.setLanguage=m;t.initNoteEditor=g;t.initNotes=y;t.initDeemphasizeEditor=_;t.initDeemphasize=b;var a=n(1);var r=n(97);var i=n(98);var o={0:"python",1:"shell",2:"clike",3:"rust",4:"qsharp"};function s(e){return new Promise((function(t){Promise.all([n.e(114),n.e(69)]).then(n.t.bind(null,112,7)).then((function(a){Promise.all([Promise.all([n.e(114),n.e(69)]).then(n.t.bind(null,408,7)),Promise.all([n.e(114),n.e(69)]).then(n.t.bind(null,409,7)),Promise.all([n.e(114),n.e(69)]).then(n.t.bind(null,410,7)),Promise.all([n.e(114),n.e(69)]).then(n.t.bind(null,411,7)),Promise.all([n.e(114),n.e(69)]).then(n.t.bind(null,116,7)),Promise.all([n.e(114),n.e(69)]).then(n.t.bind(null,412,7))]).then((function(){var n=e.$textarea.parents(".codex-textarea");e.$editor.html("");n.find(".CodeMirror").remove();e.$editor.append(n);n.removeClass("hide");var r=e.$editor.parents(".codex-container").data("allow-notes-editor");var i=a.default.fromTextArea(e.$textarea[0],{lineNumbers:true,indentUnit:4,styleActiveLine:r===true,mode:o[e.language],theme:"clouds",extraKeys:{Tab:function e(t){if(t.somethingSelected()){t.indentSelection("add");return}t.execCommand("insertSoftTab")},"Shift-Tab":function e(t){t.indentSelection("subtract")}}});i.brilliant={};t({cm:i,initialCode:e.initialCode,initialLanguage:e.initialLanguage})}))}))}))}function l(e,t){var n=e.cm.getValue()===e.initialCode;var a=parseInt(t,10)===e.initialLanguage;return n&&a}function u(e){e.cm.setOption("readOnly",true)}function c(e,t){e.cm.on("change",t)}function d(e){return e.cm.getValue()}function f(e,t){e.cm.brilliant.isEditing=true;e.cm.setValue(t);e.cm.brilliant.isEditing=false}function p(e){return e.cm.getCursor()}function v(e,t){e.cm.setCursor(t)}function h(e){e.cm.focus()}function m(e,t){e.cm.setOption("mode",o[t])}function g(e,t){return new r.CodexNoteEditor({cm:e.cm,$notesElement:t})}function y(e,t,n){var i={state:e,$container:t};if(n){return new r.CodexNotesDisplayHandlerAndroid(i)}if(a.isMobile||a.isNative){return new r.CodexNotesDisplayHandlerMobile(i)}return new r.CodexNotesDisplayHandlerBase(i)}function _(e){var t=e.state,n=e.$deemphasizeField,a=e.$deemphasizeContainer;return new i.CodexDeemphasizerEditor({cm:t.cm,$deemphasizeField:n,$deemphasizeContainer:a})}function b(e){var t=e.state,n=e.data,a=e.envId,r=e.initialCode;return new i.CodexDeemphasizer({cm:t.cm,data:n,envId:a,initialCode:r})}},68:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CODEX_LINE_HEIGHT=void 0;var a=18;t.CODEX_LINE_HEIGHT=a},69:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.handleOutputGifs=o;var a=i(n(0));var r=n(190);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.find(".codex-output .super-gif canvas");if(t.length){t.each((function(e,t){var n=(0,a.default)(t).parents("li");var r=document.createElement("img");r.src=n.data("gif-source");n.empty().append((0,a.default)(r))}))}var n=e.find('.codex-output img[src*=".gif?t="]');if(n.length){n.each((function(e,t){var n=(0,a.default)(t);var i=function e(){var i=(0,a.default)('\n                    <button class="replay-button">\n                        <span class="btn">Replay</span>\n                    </button>\n                ');var o=new r.SuperGif(t,{autoPlay:false,drawWhileLoading:false,maxWidth:t.width-1,onEnd:function e(){i.prop("disabled",false);o.pause()}});n.parents("li").attr("data-gif-source",t.src);var s="".concat(t.src,"&d=").concat(Date.now());o.loadURL(s,(function(){var e=o.canvas;var t=(0,a.default)(e);i.css({width:e.width,height:e.height});var n=function e(){if(!o.playing){o.moveTo(0);o.play();i.prop("disabled",true)}};t.on("click",n);i.prop("disabled",true);i.on("click",(function(e){e.preventDefault();n()}));t.after(i);o.play()}))};if(t.complete){i()}else{n.on("load",i)}}))}}},7:function(e,t,n){"use strict";var a=d(n(0));var r=d(n(2));var i=d(n(56));var o=d(n(28));var s=c(n(51));var l=n(1);var u=n(9);function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function d(e){return e&&e.__esModule?e:{default:e}}function f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};var a=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))}a.forEach((function(t){p(e,t,n[t])}))}return e}function p(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function v(e,t){return g(e)||m(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function m(e,t){var n=[];var a=true;var r=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(r)throw i}}return n}function g(e){if(Array.isArray(e))return e}var y={};y.useAvo=document.body.classList.contains("use_avo");var _=function e(){};var b=function e(t){y.segmentKey=t.segmentKey;i.default.initialize({Amplitude:{apiKey:t.amplitudeKey,eventUploadThreshold:30,saveParamsReferrerOncePerSession:true,trackCategorizedPages:false,trackGclid:true,trackReferrer:true,eventUploadPeriodMillis:3e4,deviceIdFromUrlParam:false,trackAllPages:false,trackNamedPages:false,trackSessionEvents:false,trackUtmProperties:true,batchEvents:false,mapQueryParams:{},useLogRevenueV2:true,forceHttps:true},"Segment.io":{apiKey:t.segmentKey,segmentUrl:t.segmentUrl,addBundledMetadata:true,unbundledIntegrations:[]}});j()};var w=function e(t){var n="UA-33841253-1";if(!t.isNative||window.location.pathname.indexOf("/wiki/")===0){(function(e,t,n,a,r,i,o){e["GoogleAnalyticsObject"]=r;e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date;i=t.createElement(n),o=t.getElementsByTagName(n)[0];i.async=1;i.src=a;o.parentNode.insertBefore(i,o)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");window.ga("create",n,"auto");window.ga("require","displayfeatures");window.ga("send","pageview")}else{window.ga=function(){}}};function k(){(function(e,t,n,a,r){e[a]=e[a]||[];e[a].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName(n)[0],o=t.createElement(n),s=a!="dataLayer"?"&l="+a:"";o.async=true;o.src="https://www.googletagmanager.com/gtm.js?id="+r+s;i.parentNode.insertBefore(o,i)})(window,document,"script","dataLayer","GTM-5RMLTZ4")}var C=function e(t){if(!t.isNative&&t.isTrackedUser){!function(e,t,n,a,r,i,o){if(e.fbq)return;r=e.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)};if(!e._fbq)e._fbq=r;r.push=r;r.loaded=!0;r.version="2.0";r.queue=[];i=t.createElement(n);i.async=!0;i.src=a;o=t.getElementsByTagName(n)[0];o.parentNode.insertBefore(i,o)}(window,document,"script","//connect.facebook.net/en_US/fbevents.js");window.fbq("init",t.facebookAdPixelId);window.fbq("track","PageView");if(t.signedUp){window.fbq("track","CompleteRegistration")}else if(t.viewedPaywall){window.fbq("trackCustom","BViewPaywall")}else if(t.contentType){window.fbq("track","ViewContent",{type:t.contentType,slug:t.slug,topic:t.topic})}if(t.ltvEventId){var n={value:t.ltvEventLtv,currency:t.ltvEventCurrency};window.fbq("track","Purchase",n,{eventID:"purchase_ltv_".concat(t.ltvEventId)});window.fbq("track","Purchase + Trial conversion",n,{eventID:"combined_ltv_".concat(t.ltvEventId)});r.default.defer((function(){y.track("facebook_pixel_purchase",n)}));a.default.get(t.ltvEventConfirmUrl,(function(e){_("ltvEvent:confirm",e.success)}))}}else{window.fbq=function(){}}};var x=function e(t){if(!t.isNative&&t.isTrackedUser){!function(e,t,n,a,r,i){if(e.qp)return;a=e.qp=function(){a.qp?a.qp.apply(a,arguments):a.queue.push(arguments)};a.queue=[];r=document.createElement(t);r.async=!0;r.src=n;i=document.getElementsByTagName(t)[0];i.parentNode.insertBefore(r,i)}(window,"script","https://a.quora.com/qevents.js");window.qp("init","bf612d420b9640a78c8db62ca253b9cf");window.qp("track","ViewContent");if(t.signedUp){window.qp("track","CompleteRegistration")}else if(t.ltvEventId){window.qp("track","Purchase")}else if(t.quoraTrialSubscription){window.qp("track","GenerateLead")}}};var E=function e(t){if(!t.isNative&&t.isTrackedUser){window._qevents=window._qevents||[];r.default.defer((function(){var e=document.createElement("script");e.src=(document.location.protocol=="https:"?"https://secure":"http://edge")+".quantserve.com/quant.js";e.async=true;e.type="text/javascript";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}));window._qevents.push({qacct:"p-FKUf-aSLZvzn7",labels:"_fp.event.PageView"})}};var I=function e(t){if(t.isNative||!t.isTrackedUser){return}y.googleAdPixelId=t.googleAdPixelId;a.default.getScript("https://www.googleadservices.com/pagead/conversion_async.js").then((function(){var e={google_conversion_label:"MKTlCLCW5mYQlcS-4AM"};if(t.tries){e["google_custom_params"]={tries_made:t.tries,max_level:t.level}}T(e,true);T({google_conversion_label:"aSZbCPfA1G4QlcS-4AM"});if(t.signedUp){T({google_conversion_label:"hB7HCPSF6WYQlcS-4AM"},true);T({google_conversion_label:"V4rMCOzSwG4QlcS-4AM"})}else if(t.viewedPaywall){T({google_conversion_label:"wsH9CLmN5mYQlcS-4AM"},true);T({google_conversion_label:"sXGXCOzVwG4QlcS-4AM"})}else if(t.contentType){T({google_conversion_label:"t-2DCIvQ2GYQlcS-4AM",google_custom_params:{type:t.contentType,slug:t.slug,topic:t.topic}},true);T({google_conversion_label:"1wqUCOeO2m4QlcS-4AM"})}if(t.ltvEventId){T({google_conversion_label:"mpVwCOaK5mYQlcS-4AM",google_conversion_value:t.ltvEventLtv,google_conversion_currency:t.ltvEventCurrency,google_custom_params:{subscription_interval:t.ltvEventInterval}},true);T({google_conversion_label:"ByXkCJSJ2m4QlcS-4AM",google_conversion_value:t.ltvEventLtv,google_conversion_currency:t.ltvEventCurrency,google_custom_params:{subscription_interval:t.ltvEventInterval}})}if(t.sendGaTrialSubscriptionEvent){T({google_conversion_label:"ryunCIHCq7YBEJXEvuAD"})}}))};var T=function(){var e=[];return function(t,n){var a={google_conversion_id:y.googleAdPixelId,google_conversion_language:"en",google_conversion_format:"3",google_conversion_color:"ffffff"};if(n){a["google_remarketing_only"]=true}else{a["google_remarketing_only"]=false}t=r.default.extend({},a,t);if(window.google_trackConversion){if(e.length){e.forEach((function(e){window.google_trackConversion(e)}));e=[]}window.google_trackConversion(t)}else{e.push(t)}}}();var O=function e(){window._cio=window._cio||[];var t,n,a;t=function e(t){return function(){_cio.push([t].concat(Array.prototype.slice.call(arguments,0)))}};n=["load","identify","sidentify","track","page"];for(a=0;a<n.length;a++){_cio[n[a]]=t(n[a])}};var S=r.default.once((function(){_("loadCustomerio",y.cioKey);var e=document.createElement("script");var t=document.getElementsByTagName("script")[0];e.async=true;e.id="cio-tracker";e.setAttribute("data-site-id",y.cioKey);e.src="https://assets.customer.io/assets/track.js";t.parentNode.insertBefore(e,t)}));var q=function e(t){if(t.loggingEnabled){_=function e(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++){a[r-1]=arguments[r]}var i=["[analytics][".concat(t,"]")].concat(a);console.log.apply(console,i)}}};var j=function e(){if(window.location.search.search(/(utm|ga)_/)===-1){return}var t=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","ga_referrer","ga_match"];var n=(0,u.getParamsObject)();var a={};var r={};t.forEach((function(e){a[e+"_latest"]=n[e]||"-";if(e in n){r[e+"_current"]=n[e]}}));y.setSuperProperties(a);y.setTemporaryProperties(r)};var P=function e(t){t.children(".ax-event").each((function(){var e=(0,a.default)(this).data();y.track(e.axName,e.axProperties)}))};function A(e){if(typeof e==="string"){try{e=JSON.parse(e)}catch(t){o.default.captureMessage("Error parsing analytics JSON: "+e);e={}}}for(var t in e){if(typeof e[t]==="string"){e[t]=e[t].replace(/\[QUOTE\]/g,'"');e[t]=e[t].replace(/\[SINGLEQUOTE\]/g,"'")}}return e}y.init=function(e){if(window.nativeAnalyticsDisabled){return}var t;var n=window,a=n.nativeAnalytics;if(a){y.analyticsLive=true;y.mobileNative=true;y.superProperties=A(a.initialSuperProperties);y.userProperties={};y.identity=y.superProperties.indentity;y.cioIdentifyData=a.cioIdentifyData;y.cioKey=a.cioKey;y.displayedContinuePracticingBanner=false;y.displayedRecommendedCourseBanner=false;y.recommendedCourseId=null;y.userIsAuthenticated=a.userIsAuthenticated;y.initTrackingFromData(a,false)}else{t=e.data();y.analyticsLive=t.analyticsLive;y.identity=t.analyticsIdentity;y.cioIdentifyData=A(t.cioIdentifyData);y.cioKey=t.cioKey;y.superProperties=A(t.analyticsSuperProperties);y.userProperties=A(t.analyticsUserProperties);y.displayedContinuePracticingBanner=t.displayedContinuePracticingBanner===true;y.displayedRecommendedCourseBanner=t.displayedRecommendedCourseBanner===true;y.recommendedCourseId=t.recommendedCourseId;y.userIsAuthenticated=l.userIsAuthenticated;y.initTrackingFromData(t,l.thirdPartyCookiesEnabled);P(e)}if(y.useAvo){s.initAvo({env:y.analyticsLive?"prod":"dev",webDebugging:false,strict:true},{},{},N)}};y.remoteInit=function(e,t){y.analyticsLive=e.analytics_live;y.identity=e.analytics_identity;y.cioIdentifyData=e.cio_identify_data;y.cioKey=e.cio_key;y.superProperties=e.analytics_super_properties;y.userProperties=e.analytics_user_properties;y.displayedContinuePracticingBanner=false;y.displayedRecommendedCourseBanner=false;y.recommendedCourseId=null;y.userIsAuthenticated=t.is_authenticated};y.initTrackingFromData=function(e,t){try{if(Object.keys(y.superProperties).length===0){o.default.captureMessage("Missing backend superProperties")}}catch(e){}y.superProperties.user_agent=y.superProperties.user_agent||window.navigator.userAgent;y.temporaryProperties={};if(!y.analyticsLive){return}q(e);b(e);if(t){w(e);C(e);I(e);x(e);E(e)}if(e.ltvEventId){D("gtag__browser_purchased",{gtag_value__conversion_value:e.ltvEventLtv,gtag_value__conversion_currency:e.ltvEventCurrency,gtag_value__subscription_interval:e.ltvEventInterval})}O(e);y.identify()};function D(e,t){if(!window.dataLayer){k()}var n="gtag_value__";var a=e.replace("gtag__","");var r=Object.entries(t).filter((function(e){var t=v(e,1),a=t[0];return a.indexOf(n)===0})).reduce((function(e,t){var a=v(t,2),r=a[0],i=a[1];e[r.replace(n,"")]=i;return e}),{});var i=f({event:a},r);window.dataLayer.push(i);_("track:gtag",i)}y.track=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var a={exclude:[]};n=r.default.extend({},a,n);if(window.nativeAnalyticsDisabled){return}var o=t.action;if(t.suffix!=null&&typeof o!=="undefined"){o+=t.suffix}if(typeof o==="undefined"){o="none"}var s=window.location.pathname;var u={full_path:s+window.location.search,path:s};var c=Object.assign({},u,y.superProperties,y.temporaryProperties,t);if(e==="sign_of_life"){c.displayed_continue_practicing_banner=y.displayedContinuePracticingBanner;c.displayed_recommended_course_banner=y.displayedRecommendedCourseBanner;if(y.displayedContinuePracticingBanner){var d=(0,l.jqGetElemById)("continue-practicing-notif").data();if(d){c.continue_practicing_quiz_id=d.targetQuizId;c.continue_practicing_problems_left=d.problemsLeft}}if(y.displayedRecommendedCourseBanner){c.recommended_course_id=y.recommendedCourseId}Object.assign(c,{window_width:l.$window.width(),window_height:l.$window.height(),screen_width:window.screen.width,screen_height:window.screen.height})}if(e.indexOf("gtag__")>=0){D(e,c);delete t.gtag_value;return}_("track",e,o,c);if(y.analyticsLive){var f={All:true};n.exclude.forEach((function(e){return f[e]=false}));try{i.default.track(e,c,{integrations:f})}catch(e){}if(window.ga&&e!=="sign_of_life"&&e!=="ui"){window.ga("send","event",e,o)}if(y.cioIdentifyData.created_at&&e==="ui"){window._cio.track(e,c);S()}}};var N={make:function e(t){},logEvent:y.track,setUserProperties:function e(t,n){},identify:function e(t){},unidentify:function e(){}};y.setSuperProperties=function(e){_("setSuperProperties",e);if(y.analyticsLive){y.superProperties=r.default.extend({},y.superProperties,e)}};y.setTemporaryProperties=function(e){y.temporaryProperties=r.default.extend({},y.temporaryProperties,e)};y.identify=function(){if(y.analyticsLive){if(y.userIsAuthenticated){i.default.identify(y.identity,y.userProperties);_("identify:segment/all",y.identity,y.userProperties)}else{i.default.identify(null,y.userProperties,{integrations:{All:false,Amplitude:true}});_("identify:segment/amplitude",null,y.userProperties);i.default.identify(y.identity,y.userProperties,{integrations:{All:true,Amplitude:false}});_("identify:segment/all",y.identity,y.userProperties)}if(y.cioIdentifyData.created_at){var e={};for(var t in y.cioIdentifyData){e[t]=y.cioIdentifyData[t]}for(var t in y.superProperties){e[t]=y.superProperties[t]}var n=navigator.userAgent.toLowerCase();if(n.indexOf("android")!==-1){e.ever_visited_with_android=true}if(/iphone|ipad/gi.test(n)!==-1){e.ever_visited_with_ios=true}if(l.isAndroid){e.has_installed_android_app=true}if(l.isIos){e.has_installed_ios_app=true}window._cio.identify(e);_("identify:cio",e)}}};y.trackNativeBtn=function(e){e.on("click",(function(){var t=function e(t){return t.split("?")[0]};var n=e.data();delete n.controller;n.target=t(n.target);n.from=t(n.from);y.track("mobile_native_ui",n)}))};var M=function e(t,n,r,i){var o=(0,a.default)(t);if(!o.data("sent_"+n)){y.track(r,i);o.data("sent_"+n,true)}};y.setAnalyticsEvents=function(e){e=e||(0,a.default)("body");e.find(".ax-click").on("click.axclick",(function(e){var t=(0,a.default)(this),n=t.data(),r=n.axRequire,i=n.axForbid,o=t.hasClass("ax-once");if(n.ax_active===true){return}t.data("ax_active",true);if(!n.axId){return}if(r&&!t.hasClass(r)){return}if(i&&t.hasClass(i)){return}var s={element_type:n.axType,element_id:n.axId,path:window.location.pathname,full_path:window.location.pathname+window.location.search};s.action=n.axAction?n.axAction:"click";if(n.gifUrl){s.gif_content=n.gifContent}if(o){M(this,"click_analytics","ui",s)}else{y.track("ui",s)}}))};y.trackFacebookPixel=function(e,t,n){if(window.fbq){window.fbq(e?"trackCustom":"track",t,n||{})}};y.trackPixelController=function(e){var t=e.data();if(!t.tracked){r.default.defer((function(){if(t.facebookEventName){y.trackFacebookPixel(true,t.facebookEventName,{slug:t.slug})}if(t.googleLabelRemarketing){T({google_conversion_label:t.googleLabelRemarketing},true)}if(t.googleLabelConversions){T({google_conversion_label:t.googleLabelConversions})}}));e.data("tracked","true");e.attr("data-tracked","true")}};y.quantcastTrackStartTrial=function(){window._qevents=window._qevents||[];window._qevents.push({qacct:"p-FKUf-aSLZvzn7",labels:"_fp.event.Start trial",event:"refresh"})};y.quantcastTrackSignup=function(){window._qevents=window._qevents||[];window._qevents.push({qacct:"p-FKUf-aSLZvzn7",labels:"_fp.event.Signup",event:"refresh"})};y.setAnalyticsEvents();window.banalytics=y;e.exports=y},70:function(e,t,n){"use strict";var a=g(n(0));var r=g(n(2));var i=g(n(34));var o=g(n(13));var s=m(n(126));var l=n(36);var u=n(1);var c=m(n(27));var d=n(6);var f=m(n(9));var p=n(23);var v=n(11);var h=n(37);function m(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function g(e){return e&&e.__esModule?e:{default:e}}var y={};y.hitPreviewSolution=false;function _(e){var t=null;var n=null;var i={version:1,commentId:null,formIdParentId:null,parentId:null,topLevelDiscCommentForm:false,paramKey:null,commentText:"",isEditingThis:false,commentFormSuccess:false,errors:"",commentUserIsStaff:false,commentUserName:null};if(!e.length||!e.hasClass("comment-form-placeholder")){e=e.find(".comment-form-placeholder");if(!e.length){return}}var o=(0,u.jqGetElemById)("comment-form-template");t=r.default.template(o.text());var s=f.getParamsObject();if(s.sort){n=s.sort}var c=e.data();if(n&&c.formUrl.indexOf("sort="+n)<0){c.formUrl=f.appendGetParam(c.formUrl,"sort",n)}c.formId="discussion_comment_form_id_";if(c.formIdParentId){c.formId+="parent_id_"+c.formIdParentId}else if(c.commentId){c.formId+="comment_"+c.commentId}else if(c.postId){c.formId+="post_"+c.postId}else{c.formId+="unknown"}if(c.formIdParentId){c.autosaveKey="comment-for-"+c.formIdParentId}else if(c.commentId){c.autosaveKey="comment-"+c.commentId}else{c.autosaveKey="top-comment-for-"+c.postId}var d=e.find(".errorlist").get(0);if(d){c.errors=d.outerHTML}c=r.default.extend({},i,c);var p=(0,a.default)(t(c));var h=e.parent();e.replaceWith(p);y.init();(0,v.initGenericControllers)(h);r.default.defer((function(){h.find("form").off("submit");(0,l.initAutosubmit)(h)}));if(d){p.find("textarea:visible").focus()}}y.editEvents=function(e){var t=".cmmnt, .discsol-post";var n="click.commentediting";e.find(".edit-link .action").on("click",(function(){var e=(0,a.default)(this),t=e.find(".dropdown-menu");var n=t.outerWidth()<e.offset().left+e.outerWidth()+10;t.toggleClass("pull-right",n)}));(0,u.jqOffOn)(e.find(".edit-comment-trigger"),n,(function(e){e.preventDefault();var n=(0,a.default)(e.currentTarget).parents(t);_(n);n.addClass("editing");n.find(".comment-form").removeClass("previewing");var r=n.find("textarea:visible");C(r);r.trigger("focus");(0,h.mentionsAndWikiLinks)(r);(0,i.default)(r);var o=n.find("fieldset");s.setVal(o)}));(0,u.jqOffOn)(e.find(".cancel-edit-trigger"),n,(function(e){e.preventDefault();var n=(0,a.default)(e.currentTarget).parents(t);n.removeClass("editing focused replying")}));(0,u.jqOffOn)(e.find(".delete-trigger"),n,(function(e){e.preventDefault();var n=(0,a.default)(e.currentTarget).parents(t);n.addClass("deleting")}));(0,u.jqOffOn)(e.find(".delete-cancel-trigger"),n,(function(e){e.preventDefault();var n=(0,a.default)(e.currentTarget).parents(t);n.removeClass("deleting")}));e.find(".saved").delay(5e3).fadeOut(200,(function(){(0,a.default)(this).remove()}))};y.expander=function(e){e.find(".discsol-post .desc, .discsol-post .cmmnt .text").each((function(){var e=(0,a.default)(this);if(e.innerWidth()!==e[0].scrollWidth){e.addClass("scrollable")}}))};function b(e){var t=(0,u.jqGetElemById)("voting_div_for_comment_".concat(e));var n=t.find(".vote-up.voted").length>0;var a=t.find(".vote-down.voted").length>0;if(n){return"True"}else if(a){return"False"}return"None"}var w=function e(t,n){var a=t.data("vote-count")+n;t.toggleClass("voted",n>0);t.data("vote-count",a);t.find(".count").html(a);t.blur()};function k(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:u.$body;var t=e.find(".cmmnt");(0,u.jqOffOn)(t.find(".vote"),"click.commentvote",(function(e){var t=(0,a.default)(e.currentTarget),n=t.parents(".voting"),r=n.find(".vote-up"),i=n.find(".vote-down"),o=n.data("action_url"),s=n.data("comment_id"),l=b(s);var u=t.hasClass("vote-up")?"True":"False";if(l==u){u="None"}a.default.ajax({type:"POST",url:o,data:{comment_id:s,vote:u}}).fail(p.errorModalHandler).then((function(e){var t=b(s);if(t==e.vote){return}if(e.vote=="None"){if(t=="True"){w(r,-1)}else{w(i,-1)}}else if(e.vote=="True"){w(r,1);if(t=="False"){w(i,-1)}}else if(e.vote=="False"){w(i,1);if(t=="True"){w(r,-1)}}}))}))}var C=function e(t){(0,u.jqOffOn)(t,"mentions.show",(function(){t.parents(".cmmnt").addClass("mentions-active")}));(0,u.jqOffOn)(t,"mentions.hide",(function(){t.parents(".cmmnt").removeClass("mentions-active")}))};y.events=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:u.$body;var t=e.find(".comment-form").not("#new_post_form_id, #new_solution_form_id, #new_dispute_form_id, #new_wikifeedback_form_id");t.each((function(e,t){var n=(0,a.default)(t);n.find("textarea:visible").each((function(e,t){var r=(0,a.default)(t);C(r);(0,h.mentionsAndWikiLinks)(r);var o=function e(){(0,i.default)(r);n.addClass("focused");setTimeout((function(){r.trigger("autosize.resize")}),100)};if(r.val()){o()}else{r.one("input",(function(){o()}))}}))}));(0,h.mentionsAndWikiLinks)(t.filter(".previewing").find("textarea"));var n=t.find(".comment-form-buttons");(0,u.jqOffOn)(n.find(".preview"),"click.previewlink",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget);var n=t.parents("form");t.parents(".comment-form-buttons").addClass("dim");u.$window.trigger(a.default.Event("comment.preview.".concat(n.prop("id"))));(0,o.default)("discussions_comments").form(n.get(0),{preview_comment:true})}));(0,u.jqOffOn)(n.find(".edit"),"click.editlink",(function(t){t.preventDefault();(0,a.default)(t.currentTarget).parents(".comment-form").removeClass("previewing");y.events(e)}));n.find("[type=submit]").on("click",(function(){(0,a.default)(this).parents(".comment-form-buttons").addClass("dim")}));e.find(".cmmnt").each((function(){var e=(0,a.default)(this);var t=e.next(".cmmnt-container");var n=t.find(".reply-form-wrapper");var r=e.find(".show-replies");var i=e.find(".hide-replies");var o=e.find(".reply-unhide-link");r.on("click",(function(){e.addClass("expanded");t.removeClass("hide");if(!n.hasClass("replying")){o.removeClass("hide")}if(r.data("show-all-replies")===true){e.parents(".cmmnt-container").addClass("show-all-replies")}}));i.on("click",(function(){e.removeClass("expanded");t.addClass("hide");o.addClass("hide")}))}));e.find(".cmmnt:not(.solution)").each((function(e,t){var n=(0,a.default)(t);(0,u.jqOffOn)(n.find(".reply-unhide-link"),"click.unhidereply",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget);var r=n.data("comment");var i=(0,a.default)("div.unhide_new_reply_".concat(r));_(i);i.toggleClass("replying");if(i.hasClass("replying")){t.addClass("hide");var o=i.find("textarea");C(o);(0,h.mentionsAndWikiLinks)(o);var l=i.find("fieldset");s.setVal(l);o.trigger("focus");i.find(".cancel-edit-trigger").one("click",(function(){t.removeClass("hide")}));var u=t.closest(".qanda-comments").length>0;if(u){t.closest(".comment-content").find(".show-replies").trigger("click")}}}))}));var r=e.find(".discsol-post").find(".reply-unhide-link");(0,u.jqOffOn)(r,"click.comments",(function(e){var t=(0,a.default)(e.currentTarget);var n=t.parents(".discsol-post").next(".discsol-comments");n.toggleClass("hide-form");if(!n.hasClass("hide-form")){(0,h.mentionsAndWikiLinks)(n.find(".top-level-comment-form textarea"))}}));e.find(".cmmnt .text").each((function(){var e=(0,a.default)(this),t="preface-html",n=e.data(t);if(n){(0,a.default)("p:first",e).prepend((0,a.default)(n));e.removeAttr("data-"+t).removeData(t)}}));(0,u.jqOffOn)(t.find("textarea"),"focus.commentform",(function(e){var t=(0,a.default)(e.currentTarget).parents(".comment-form");t.addClass("focused");(0,i.default)(t.find("textarea:visible"))}));k();this.editEvents(e.find(".disc-comments"));e.find(".top-level-comment-form,.cmmnt.editing,.reply-form-wrapper.replying").each((function(){_((0,a.default)(this))}))};y.subscribe=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:u.$body;(0,u.jqOffOn)(e.find("a.discussions_subscribe"),"click.dscsubscr",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget);var n=t.parents("form");var r=n.find("input[type=checkbox]");var i=!t.hasClass("subscribed");var o=n.data();var s=n.parents(".disc-post");t.parents(".wiggle").removeClass("wiggle");if(s.length===0){s=(0,a.default)(".disc-comments-list")}r.prop("checked",i);n.trigger("submit");if(!i){var l=s.find(".comment-subscr[data-subscribed=true]");if(l.length>0){(0,d.showConfirmationModal)({title:o.confirmModalTitle,text:o.confirmModalText,cancelBtnText:o.confirmModalCancel,confirmBtnText:o.confirmModalOk}).then((function(e){if(e){l.each((function(e,t){(0,a.default)(t).trigger("submit")}))}}))}}}))};y.expandThreadsFor=function(e){e.parents(".cmmnt-container").prev(".cmmnt").find(".show-replies").trigger("click")};y.formattingGuideLink=function(e){var t,n;e.on("click",(function(r){r.preventDefault();t=t||e.data();n=n||(0,a.default)(t.target);n.fadeToggle(100,(function(){if(n.is(":visible")){d.Anchors.scrollToTarget(n)}}))}))};y.init=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:u.$body;this.events(e);this.votes(e);this.subscribe(e);this.expander(e);c.scaleSVG(e.find(".latexprocessor-block, .latexprocessor-inline"))};y.votes=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:u.$body;var t=e.find(".discsol-vote").not(".inited").not(".disabled");t.addClass("inited");t.on("click",(function(){var e=(0,a.default)(this),t=e.data(),n=t.currentVote==="True"?"None":"True";if(e.hasClass("disabled")){return}e.addClass("disabled");a.default.ajax({type:"POST",url:t.actionUrl,data:{post_id:t.postId,vote:n}}).fail(p.errorModalHandler).then((function(n){e.removeClass("disabled");if(n.success){if(n.vote==="True"){e.addClass("voted");t.count++}else{e.removeClass("voted");t.count--}e.data("current-vote",n.vote);var a=e.find(".vote-count");if(a.length){a.find(".count").html(t.count)}else{e.find(".count").html(t.count)}}}))}))};y.add_form=function(){var e=(0,u.jqGetElemById)("new_post_form_id").add("#new_solution_form_id").add("#new_dispute_form_id").add("#new_wikifeedback_form_id");var t="click.dsc";e.each((function(e,n){var r=(0,a.default)(n);var i=r.find(".comment-form-buttons");var s=i.find(".preview");var l=i.find(".edit");(0,u.jqOffOn)(s,t,(function(e){e.preventDefault();i.addClass("dim");var t;if(r.hasClass("edit-solution-form")){t={preview_comment:true};y.hitPreviewSolution=true}else{t={preview_post:true}}u.$window.trigger(a.default.Event("discussion.preview.".concat(r.prop("id"))));(0,o.default)("discussions").form((0,u.jqGetElemById)((0,a.default)(e.currentTarget).data("preview_form_id")),t)}));(0,u.jqOffOn)(l,t,(function(e){e.preventDefault();r.removeClass("previewing");(0,h.mentionsAndWikiLinks)((0,a.default)("textarea:visible"))}))}))};e.exports=y},71:function(e,t,n){"use strict";var a=q(n(0));var r=q(n(2));var i=q(n(34));var o=q(n(95));var s=q(n(13));var l=q(n(7));var u=n(36);var c=n(8);var d=S(n(45));var f=q(n(30));var p=n(1);var v=S(n(27));var h=S(n(41));var m=q(n(187));var g=q(n(28));var y=q(n(127));var _=S(n(9));var b=n(6);var w=n(82);var k=q(n(70));var C=q(n(54));var x=n(23);var E=n(11);var I=n(37);var T=q(n(83));var O=n(129);function S(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function q(e){return e&&e.__esModule?e:{default:e}}var j={};var P={};var A=false;var D=null;var N=false;var M;var z=function e(t){return P[t.data("solvable")]||{}};var L=function e(t){k.default.add_form();k.default.votes()};var $=function e(t){if(t.$solversList){var n=t.$solversList;j.recentSolvers(n)}if(t.$solversContainer){d.load(t.$solversContainer.children(".cmp-deferred"))}};var B=function(){var e=["solutions","disputes"];return function(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;t=t||"default";n.previousState=n.previousState||null;n.currentState=n.currentState||null;if(t==="back"){B(n.previousState,n);return}n.$solvable.removeClass(e.join(" "));m.default.removeBackButton();if(t&&e.indexOf(t)>=0){n.$solvable.addClass(t)}if(t==="solutions"||t==="disputes"){F(n,t,r);if(t==="disputes"){var i=(0,a.default)(".solv-disputes");if(p.isMobile){i.removeClass("hide")}if(r){b.Anchors.scrollToTarget(i)}}}else if(r&&t==="default"&&n.currentState==="solutions"&&!p.isMobile){b.Anchors.scrollToTarget(p.$body)}G(n);R(n);v.updateMathjax(n.$solvable);n.previousState=n.currentState;n.currentState=t;p.$body.trigger(a.default.Event("solvable.statechange",n))}}();j.setStateForSolvable=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;t=t||null;B(t,z(e),n)};function U(e,t){r.default.defer(d.addCmpsInContainer,e,t);e.on("scroll.deferred",r.default.throttle((function(e){d.addCmpsInContainer((0,a.default)(e.target)||null,t)}),50))}var F=function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;t.$solvable=t.$solvable||(0,a.default)(".solv-main");var o=t.$solvable.find(n==="solutions"?".solv-solutions":".solv-disputes"),s=t.$solvable.find("#solv-simple-solution-target"),l=o.find(".cmp-deferred");t.$solvable.find(".btn-solution.wiggle-less").removeClass("wiggle-less active-green").blur();t.$solvable.find(".btn-solution.wiggle").removeClass("wiggle").blur();if(p.isMobile&&s.length>0){if(r){b.Anchors.scrollToTarget(s)}return}else if(n==="solutions"&&p.isMobile&&s.length===0){var u=(0,p.jqGetElemByCmpName)("solutiondiscussions_publicsolvableaddsolutionpost");if(!u.length){u=(0,p.jqGetElemByCmpName)("solutiondiscussions_publicsolvablesolutionlist")}if(r&&u.length){b.Anchors.scrollToTarget(u)}}if(o.length>0){l.each((function(e,t){d.add((0,a.default)(t))}));var c=t.$solvable.parents("#nf-feeditem-modal");if(c.length>0){U(c,l.length)}(0,i.default)(o.find("textarea:visible"))}if(r){b.Anchors.scrollToTarget((0,a.default)("#solutions-scrollable-container,#disputes-scrollable-container,#solv-simple-solution,#b2-solution").filter(":visible"))}};var G=function e(t){var n=t.$solvable;v.scaleSVG(n,p.isMobile?.4:undefined)};function R(e){v.scaleSVG(e.$solvable.find(".btn-mcqs"))}var H=function e(t,n){t=t||(0,a.default)("[data-controller].dim");if(t.length){t.removeClass("dim disabled").removeAttr("disabled");t.data("solutions-loaded",n);var r=p.isMobile?t.find(".main"):t;(0,b.toggleButtonLoadingState)(r,false)}};var V=function e(t){if(t.currentState==="solutions"){t.$solvable.find(".solv-details .btn-solution").removeClass("active");B("",t);p.$window.trigger(a.default.Event("solution.hide"))}else{t.$solvable.find(".solv-details .btn-solution").removeClass("btn-accent").addClass("active");t.$solvable.find(".esr-problem").addClass("btn-accent active");B("solutions",t);p.$window.trigger(a.default.Event("solution.show"))}};var W=function e(t){var n=P[t.solvable];if(!n.solutionsLoading){n.solutionsJustLoaded=true;n.solutionsLoading=true;(0,s.default)(t.page_key).post(t.postLink,t)}};j.solvable=function(e){var t=e,n=t.data("solvable"),r=P[n]||{};r.$solvable=t;r.data=(0,p.jqGetElemById)("solvable-data").data();r.solvableDidOnload=r.solvable===true;r.currentState=null;r.previousState=null;P[n]=r;(0,p.jqGetElemById)("direct-link-input").on("click",(function(e){e.stopPropagation();(0,a.default)(e.currentTarget).select()}));G(r);if(r.solutionsJustLoaded){P[n].solutionsJustLoaded=false;r.solutionsJustLoaded=false;B("solutions",r)}else if(r.disputesJustLoaded){(0,a.default)(".dispute-disc-modal, .reveal-disputes-modal").modal("hide");P[n].disputesJustLoaded=false;r.disputesJustLoaded=false;B("disputes",r)}else if(p.isMobile&&p.userIsAuthenticated&&r.$solvable.find("#solv-simple-solution").length){B("solutions",r)}v.updateMathjax(t.find(".uses-latex, .latex"));if(r.solvableDidOnload!==true){P[n].solvableDidOnload=true;L(r)}var i=t.data("ir-verification");if(i&&!i.preventUpdate){var o=t.find(".solv-details"),s=i.canStillAnswer===!o.hasClass("endstate"),u=i.answerIsCorrect===o.hasClass("correct"),c=i.attemptNumber===t.find("#attempt-number").data("attempt-number");if(!s||!u||!c){l.default.track("instant response mismatch",{solvable:n,answer:encodeURIComponent(i.answer),url:window.location.href,"endstate mismatch":!s,"correct/incorrect state mismatch":!u,"attempt number mismatch":!c})}t.removeData("ir-verification")}};j.solvableRedesign=function(e){var t=e.data("solvable");var n=P[t]||{};n.$solvable=e;n.data=(0,p.jqGetElemById)("solvable-data").data();n.solvableDidOnload=n.solvable===true;n.currentState=null;n.previousState=null;P[t]=n;k.default.add_form();k.default.votes();e.find(".sharing-dd .dropdown-menu").on("click",(function(e){e.stopPropagation()}));e.find(".bsharing-link").on("click",(function(){(0,a.default)(this).parents(".dropup").removeClass("open")}));e.find(".direct-link").on("click",(function(){(0,a.default)(this).find("input").select()}));if(n.currentState==="solutions"||n.$solvable.hasClass("solutions")){n.currentState="solutions";n.$solvable.find(".solv-details .btn-solution").first().addClass("active")}(0,O.images)(e);j.cropActionsMenu(e);var r=(0,a.default)(".solv-signed-up");if(r.length){var i=r.offset().top+r.outerHeight();var o=n.$solvable.find(".solv-details").offset().top;(0,p.setScrollPosition)(o-i-p.mediumPadding*2)}};function K(){var e=(0,a.default)(".mcq-edit-form");var t=(0,a.default)(".question-text");var n=(0,p.jqGetElemById)("solvable_title_editor_container");return e.is(":visible")||t.hasClass("previewing")||t.hasClass("editing")||n.hasClass("editing")}j.editableTitle=function(e){var t=e.find(".edit-title-link");if(e!==null&&e.length&&t!==null&&t.length){var n=e.find(".cancel-edit-link");t.on("click",(function(){if(K()){var t=e.data(),n=t.errorTitle,a=t.errorContent;(0,b.showGenericModal)(n,a)}else{e.addClass("editing")}}));n.on("click",(function(){e.removeClass("editing")}))}};j.solversInit=function(e){P[e.data("solvable")].$solversContainer=e;if(e.find(".cmp-deferred").length){$(z(e))}else{e.appendTo((0,p.jqGetElemByCmpName)(e.data("cmp-target"))).removeClass("hide")}};j.answerFormWrapper=function(e){var t=e.find("input#id_answer");if(t.length){var n=function n(){var a=t.val().trim()==="";e.find(".btn-submit").prop("disabled",a).toggleClass("disabled",a)};t.on("input",n);n()}r.default.defer((function(){var t=z(e);e.find("form").on("submit",(function(){t.$solvable.find(".spinner").addClass("active")}));if(!p.isMobile){if(!e.data("disable-auto-focus")){e.find("#id_answer").select()}}else if(navigator.userAgent.indexOf("Android 4.0")!==-1){e.find("#id_answer").on("focus",(function(){var e=(0,a.default)(this);setTimeout((function(){var t=e.offset().top;var n=t-20;if(n>0){(0,p.setScrollPosition)(n)}}),500)}))}R(t)}))};j.loggedOutForm=function(e){var t=e.find(".logged-out-answer");var n=e.parents(".solv-details,.solv-details-loggedout").find(".logged-out-solution");var r=(0,p.jqGetElemById)("solv-public-signup");var i=r.find(".public-signup-right");var o=r.find("#signup-fb");var s=r.find("#login-fb");var u=r.find("#signup-google");var d=r.find("#login-google");var f=r.find("#signup-email, #problem-signup-link-alternative");var m=r.find("#problem-login-link, #problem-login-link-alternative");var g=r.find("#public-answer");var y=e.find(".btn-mcq");var w=e.find("[name=logged-out-mcq]");var k=e.hasClass("mcq-form");var C=e.hasClass("multi-select");var x="|";var E=e.data();var I=o.attr("href");var T=s.attr("href");var O=u.attr("href");var S=d.attr("href");var q=f.attr("href");var j=m.attr("href");var P=E.delayedSignup===true;var A=1e4;var D=function e(){var n="";if(C){var r=[];w.each((function(e){if((0,a.default)(this).is(":checked")){r.push(e+1)}}));n=r.join(x)}else if(!k&&t.length){n=t.val()}else if(w.length){var i=w.filter(":checked");n=i.length?i.val():""}return n.trim()};var N=function e(t,n){if(!t){return}var a=t.indexOf("%3F")===-1?"?":"&";return t+encodeURIComponent(a+n)};var M=function e(t,n){t.preventDefault();var a=D();var r={};var c={};var p=I;var v=T;var y=O;var b=S;var C=q;var P=j;l.default.track("ui",{action:"click",element_type:"button",element_id:"logged_out_solvables_"+n});var A=isNaN(parseFloat(a));i.removeClass("text-answer alt show-form");if(a.length){if(a.indexOf(x)>=0){g.text("Those choices")}else{if(k&&h.textContainsUnrenderedMath(a)){var M=w.filter((function(){return this.value===a}));var z=M.parents(".btn-mcq").children("span").html();g.html(z)}else{g.text(a.replace(/__replace_plus__/g,"+").replace(/__rep_perc__/g,"%").replace(/__rep_ques__/g,"?").replace(/__rep_quot__/g,'"'))}}r["attempt"]=encodeURIComponent(a);c["attempt"]=encodeURIComponent(a);f.add(m).data("attempt",a);f.add(m).attr("data-attempt",a);if(A){i.addClass("text-answer")}}else{if(!E.interactive){i.addClass("alt")}a="no-input"}if(p){p=p.replace("try-value-value",encodeURIComponent(a))}if(v){v=v.replace("try-value-value",encodeURIComponent(a))}if(y){y=y.replace("try-value-value",encodeURIComponent(a))}if(b){b=b.replace("try-value-value",encodeURIComponent(a))}if(C){C=C.replace("try-value-value",encodeURIComponent(a))}if(P){P=P.replace("try-value-value",encodeURIComponent(a))}if(E.isQuiz||E.isDailyProblem){var L=E.solvableSlug?"problem=".concat(E.solvableSlug):null;var $="attempt=".concat(a);var B=L?"".concat(L,"&").concat($):$;p=N(p,B);v=N(v,B);y=N(y,B);b=N(b,B);C=N(C,B);var U="";if(P.indexOf("problem=")==-1){U+="problem="+E.solvableSlug;if(P.indexOf("attempt=")==-1){U+="&"}}if(P.indexOf("attempt=")==-1){U+="attempt="+encodeURIComponent(a)}P=N(P,U)}if(E.topicTag){r["topic_tag"]=E.topicTag;c["topic_tag"]=E.topicTag;p=N(p,"topic_tag="+E.topicTag);v=N(v,"topic_tag="+E.topicTag);y=N(y,"topic_tag="+E.topicTag);b=N(b,"topic_tag="+E.topicTag);f.add(m).data("topic_tag",E.topicTag);f.add(m).attr("data-topic_tag",E.topicTag)}if(C){var F=C.match(/next=(.*)/);if(F.length){f.data("next",F[1]);f.attr("data-next",F[1]);f.data("already_escaped",true);f.attr("data-already_escaped",true)}}if(P){var G=P.match(/next=(.*)/);if(G.length){var R=decodeURIComponent(G[1]);m.data("next",R);m.attr("data-next",R)}}o.attr("href",_.appendGetParams(p,r));s.attr("href",_.appendGetParams(v,r));u.attr("href",_.appendGetParams(y,r));d.attr("href",_.appendGetParams(b,r));f.attr("href",_.appendGetParams(C,c));m.attr("href",_.appendGetParams(P,c))};var z=function e(n,a,i){if(p.$body.hasClass("hundredday-page")){var o=(0,p.jqGetElemById)("solv-main");o.css({height:o.outerHeight()});r.appendTo(p.$body);(0,p.jqOffOn)(r.find(".modal-bg"),"click.modalhack",(function(){o.css("height","auto");r.insertAfter(".solv-problem")}))}M(n,a);(0,p.jqGetElemById)("nf-modal-close").hide();r.addClass("open");v.scaleSVG(g);t.blur();var s=r.find("#public-signup-tour");if(s.length&&!s.data("already-opened")){s.data("already-opened",true);s.attr("data-already-opened",true);l.default.track("ui",{action:"viewed_prenux_slide",step_position:1,is_first_step:true,is_last_step:false})}if(i){r.on("click",(function(){r.removeClass("open")}))}};var L=false;var $=function e(){if(P&&!L){L=true;l.default.track("ui",{element_id:"viewed_logged_out_answer_sponsored"})}};var B=function e(t,n){if(P){setTimeout((function(){z(t,n,false)}),A)}else{z(t,n,true)}};var U=function t(n){if(P){var a=e.parents(".solv-main").find("#solv-simple-solution");a.show();if(n){b.Anchors.scrollToTarget(a)}}};e.on("submit",(function(e){e.preventDefault();B(e,"submitted_form");U();if(D()){$()}}));(0,p.jqOffOn)(n,"click",(function(a){t.val("");y.removeClass("active dim");w.filter(":checked").prop("checked",false);B(a,"clicked_solution_btn");if(P){a.preventDefault();U(true);e.data("viewed-solution",true);e.submit();l.default.track("ui",{element_id:"viewed_logged_out_solution_sponsored"});n.fadeOut(100)}}));p.$body.on(c.EVT_QUIZ_POSITION_DID_CHANGE,(function(){(0,a.default)(".logged-out-solution").removeClass("dim disabled").removeAttr("disabled")}))};j.preventSocialButtonDoubleClick=function(e){e.find(".signup-social").on("click",(function(e){var t=(0,a.default)(this);if(t.hasClass("disabled")){e.preventDefault()}else{t.addClass("disabled")}}))};j.mcqForm=function(e){var t=e.find("label");var n=function t(){var n=e.find("input:checked").length<=0;e.find(".btn-submit").prop("disabled",n).toggleClass("disabled",n)};t.on("click",(function(){var e=(0,a.default)(this);var r=e.find("input");var i=r.val()||null;if(i!==null){r.prop("checked",true);t.removeClass("active dim");e.addClass("active");M=i.replace(/__replace_plus__/g,"+")}n()}));n()};j.multiSelectForm=function(e){var t=function t(){var n=e.find("input:checked").length<=0;e.find(".btn-submit").prop("disabled",n).toggleClass("disabled",n)};e.find("label").on("click",(function(e){e.preventDefault();var n=(0,a.default)(this);setTimeout((function(){var e=n.find("input");var a=e.val()||null;var r=e.is(":checked");if(a!==null){if(r){e.prop("checked",false);n.removeClass("active")}else{e.prop("checked",true);n.addClass("active")}t()}}))}));t()};j.answerForm=function(e){var t=e.find("#id_answer");e.on("submit",(function(n){n.preventDefault();var a=e.attr("id"),i=a==="mcq-form",o=a==="text_answer_entry_form",u=t.val(),c=t.data("placeholder");if(A&&D===0&&(i||o&&u!==""&&u!==c)){(0,p.jqGetElemById)("solv-public-form").addClass("open");return}var d=(0,s.default)(e.find("#id_page_key").val());var f=e.parents(".solv-main"),v=e.parents(".solv-details").clone(),h=false,m=0,g=500,y=120;var _=function e(t){if(m&&!h){h=true;l.default.track("ui",{element_id:"solvable_answer_resend",resend_count:m,resend_successful:t,resend_total_time:m*g})}};var w=function t(n){if(m<y){m++;setTimeout((function(){d.post(n.url,n)}),g)}else{(0,b.showGenericModal)("Error",e.data("max-resend-error"));k();_(false)}};var k=function e(){var t=f.find(".solv-details");t.replaceWith(v);f.find(".b2-solution").hide();f.removeClass("solutions");v.find(".spinner").removeClass("active");v.find(":disabled,.dim").removeClass("dim disabled").removeAttr("disabled");(0,E.initGenericControllers)(v)};var C=d.success;d.success=function(){C.apply(d,arguments);_(true)};d.error=function(e,t){if(e.status===0){w(t)}else if(e.statusText==="timeout"){(0,x.showTimeoutErrorModal)();k()}else if(e.status>0){(0,x.errorModalHandler)(e);k()}};r.default.defer((function(e){var t=f.data("ir-verification"),n={};try{if(t["preventUpdate"]){n["instant_response_check"]="cant_tell"}else{n["instant_response_check"]=t["answerIsCorrect"]?"correct":"incorrect"}n["instant_response_problem_completed"]=t["canStillAnswer"]?"no":"yes";n["instant_response_tries_left"]=t["triesLeft"]}catch(e){}d.form(e,n)}),e.clone())}))};j.interactiveSolvable=function(e){var t="InteractiveProblem.".concat(e.data("solvable"));var n=function t(){return p.userIsAuthenticated?e.find("#solv-interactive-form"):e.find(".solv-form-logged-out")};(0,p.jqOffOn)(p.$window,"".concat(t,".export-state"),(function(t,n){e.find("[name=current_state]").val(JSON.stringify(n.state))}));(0,p.jqOffOn)(p.$window,"".concat(t,".check-answer"),(function(t,a){var r=a.isSolved;if(p.userIsAuthenticated){e.find("[name=mark_correct]").prop("checked",r===true);n().submit()}}));(0,p.jqOffOn)(p.$window,"".concat(t,".show-signup-modal"),(function(e,t){var a=t.solvableType;if(!p.userIsAuthenticated){var r=n();r.find("[name=answered]").prop("checked",true);var i=(0,p.jqGetElemById)("solv-public-signup").find(".public-signup-right");if(a==="auto-check"){i.addClass("autochecked-interactive")}else{i.addClass("alt")}r.submit()}}));(0,p.jqOffOn)(p.$window,"".concat(t,".show-explanation"),(function(){if(p.userIsAuthenticated){(0,a.default)(".btn-solution-full").trigger(a.default.Event("click"))}else{var e=n();e.find("[name=answered]").prop("checked",false);e.submit()}}));(0,p.jqOffOn)(p.$window,"".concat(t,".continue"),(function(){var t=p.userIsAuthenticated?".solv-done-btn":".next-marker-btn";e.find(t).trigger(a.default.Event("click"))}))};j.edit=function(e){var t=e.find("form");var n=e.find(".btn-edit");var r=(0,a.default)(".solv-edit-trigger").not(".btn-edit");var o=e.closest(".course-quiz-flex");if(o.length===0){o=e.closest(".solv-main")}var u=o.find(".solvable-mcq-options-btn");var d=o.find(".mcq-edit-form");var f=o.find(".edit-mcq-cancel");var v=e.find(".question-text-preview");var h=e.find(".btn-save");var m=e.find(".cancel-edit");var g=e.find(".question-text-preview-field");var y=e.find(".show-solution");var _=t.find("textarea").not(".codex-textarea textarea");var w="editing";var k="previewing";var C=e.hasClass(k);if(!u.length){u=(0,p.jqGetElemById)("answer-edit-trigger")}var x=function t(n){g.val(n.toString());e.data("previewing",!n)};var E=function n(r){var o=r?(0,a.default)(r.currentTarget):null;if(r){r.preventDefault()}if(o&&o.is(":not(.is-reedit-trigger)")&&K()){var s=e.data(),l=s.errorTitle,u=s.errorContent;(0,b.showGenericModal)(l,u)}else{if(o){o.addClass(c.CLASS_NAME_ACTIVE)}e.removeClass(k);e.addClass(w);(0,a.default)(window).scrollTop(t.offset().top-150);(0,i.default)(_);(0,I.wikiLinks)(_);x(true)}};m.on("click",(function(t){if(t){t.preventDefault()}if(C){var a=e.data();(0,b.showConfirmationModal)({title:a.cancelConfirmText}).then((function(e){if(e){var t=a.cmpUrl,n=a.cmpKey,r=a.pageKey,i=a.paramKey;(0,s.default)(r).get(t,{component_key:n,param_key:i})}}))}else{e.removeClass(w);x(false);n.add(r).removeClass(c.CLASS_NAME_ACTIVE)}}));n.on("click",E);(0,p.jqOffOn)(r,"click",E);e.on("edit",E);if(e.hasClass(w)){E()}h.on("click",(function(t){var n=g.val()==="false";if(!n){var a=e.data();t.preventDefault();(0,b.showConfirmationModal)({title:a.saveConfirmText}).then((function(e){if(e){x(false);h.parents("form").trigger("submit")}}))}}));u.on("click",(function(t){t.preventDefault();if(K()){var n=e.data(),a=n.errorTitle,r=n.errorContent;(0,b.showGenericModal)(a,r)}else{d.siblings().hide();d.show()}}));f.on("click",(function(e){e.preventDefault();d.siblings(":not(script)").show();d.hide()}));v.on("click",(function(e){e.preventDefault();t.submit()}));t.on("submit",(function(){var t=e.data();if(t.suspended&&t.previewing){(0,b.showGenericModal)(t.suspendedTitle,t.suspendedText)}}));y.on("click",(function(e){var t=(0,a.default)(e.target);e.preventDefault();t.next().toggleClass("hide");var n=_[0].classList[0].replace("solvable_question-","");var r={action:"staff_only_action",solvable:n};if(t.html()==="Show Solution"){t.html("Hide Solution");r.element_id="clicked_show_solution"}else{t.html("Show Solution");r.element_id="clicked_hide_solution"}l.default.track("ui",r)}));t.find(".viz-wrapper").on("click","button:not([type]), button[type=submit], input[type=submit]",(function(e){return e.preventDefault()}))};j.solutionButton=function(e){var t=e.data(),n=z(e);(0,p.jqOffOn)(e,"click.showSolution",r.default.debounce((function(i){i.preventDefault();if(e.hasClass("disabled")){return}var o=(0,a.default)(".solv-solutions");if(p.isMobile&&o.hasClass("expanded")){(0,p.setScrollPosition)(o.offset().top-(0,a.default)(".m-action-bar").height())}if(e.data("solutions-loaded")){V(n)}else{var s=function n(){var a=p.isMobile?e.find(".main"):e;e.addClass("dim").blur();(0,b.toggleButtonLoadingState)(a,true);W(t)};var l=(0,p.jqGetElemById)("solv-confirm-box");if(l.length){if(p.isMobile){var u="active";p.$body.append(l);l.show();r.default.defer((function(){l.addClass(u)}));(0,p.jqOffOn)(l.find(".btn"),"click",(function(e){l.removeClass(u);setTimeout((function(){l.hide()}),210);if((0,a.default)(e.currentTarget).hasClass("btn-confirm")){s()}}))}else{s()}}else{s()}}}),300));if(window.location.href.indexOf("/solution-comments/")!==-1&&n.currentState!=="solutions"){if(e.data("solutions-loaded")){V(n)}else if(n.$solvable.find(".solv-details.endstate").length){W(e.data())}}};j.disputeDiscTrigger=function(e){var t=e.data(),n=z(e),r=false,i=(0,a.default)(".dispute-disc-modal");e.on("click",(function(e){e.preventDefault();if(t["disputesLoaded"]){B("disputes",n);if(r===false){r=true;(0,a.default)("#solvable-resend-verification-form").submit()}}else{i.modal("show");if(r===false){r=true;i.find("#solvable-resend-verification-form").submit()}}}))};j.staffDisputeDiscForm=function(e){e.on("submit",(function(){P[e.data("solvable")].disputesJustLoaded=true}))};j.disputeModalForm=function(e){var t=e.find(".explanation");e.find('input[type="radio"]').on("change",(function(){if(!t.hasClass("visible")){t.addClass("visible");(0,i.default)(t.find("textarea"))}}))};j.disputeModalFormEndState=function(e){e.find(".view").on("click",(function(){e.find(".view-reports").addClass("loading");(0,p.jqGetElemById)("enter-dispute-discussions-form").trigger("submit")}))};j.revealDisputesModal=function(e){e.on("click",(function(){(0,a.default)(".reveal-disputes-modal").clone(true).modal("show")}))};j.revealDisputes=function(e){e.on("click",(function(e){(0,a.default)(e.currentTarget).addClass("".concat(c.CLASS_NAME_DISABLED," ").concat(c.CLASS_NAME_LOADING));(0,p.jqGetElemById)("enter-dispute-discussions-form").trigger("submit")}))};j.enterDisputeDiscussionsForm=function(e){e.on("submit",(function(){P[e.data("solvable-id")].disputesJustLoaded=true}))};j.deleteForm=function(e){var t=(0,p.jqGetElemById)("stats-delete-btn");t.on("click",(function(){var n=e.find("form");e.modal();t.addClass("hide");n.on("submit",(function(){e.modal("hide")}))}))};j.reviewedForm=function(e){var t=(0,p.jqGetElemById)("stats-reviewed-btn");t.on("click",(function(){var n=e.find("form");e.modal();t.addClass("hide");n.on("submit",(function(){e.modal("hide")}))}))};j.mostPopularRecommendedProblem=function(e){var t=(0,a.default)(".recommended-problems .most-popular-recommended-problem");if(t.length){t.clone(true,true).appendTo(e.empty())}};var J=false;j.NotifyAboutGoodSolution=new function(){var e=this,t=null,n=null,r=null,i=null,o={HIDE_TIMEOUT:1e3,FADE_TIME:500};e.exists=false;e.controller=function(s){e.exists=true;t=s;n=t.find(".dropdown-toggle");r=t.find(".dropdown-menu");if(p.isMobile){(0,p.jqOffOn)((0,a.default)(".btn-solution"),"click.notifyAboutGoodSolution",(function(e){e.preventDefault();var n=t.modal();n.find("button").on("click",(function(){n.modal("hide")}))}))}else{n.on("mouseenter",e.show).on("click",(function(e){e.preventDefault()}));t.on("mouseleave",(function(){i=setTimeout(e.hide,o.HIDE_TIMEOUT)})).on("mouseenter",(function(){clearTimeout(i)}))}r.on("click",(function(e){e.stopPropagation()}));t.find("form").on("submit",(function(){J=true;t.addClass("loading")}));if(J){J=false;e.show()}};e.show=function(e){if(!t.hasClass("open")){t.addClass("open");r.addClass("open").fadeIn(e||o.FADE_TIME)}};e.hide=function(e){if(t.hasClass("open")){var n=function e(){t.removeClass("open");r.removeClass("open")};if(r.is(":visible")){r.fadeOut({duration:e||o.FADE_TIME,complete:n})}else{r.hide();n()}}};e.toggle=function(n){if(t.hasClass("open")){e.hide(n)}else{e.show(n)}};e.toggleIcon=function(e){if(t){if(e){t.show()}else{t.hide()}}};return e};j.cropActionsMenu=function(e){var t=e.find(".solv-actions-dropdown");t.find(".dropdown-toggle").on("click",(function(){var n=e.outerHeight(true)-e.find(".solv-footer").outerHeight(true);if(p.isMobile){n-=e.find(".solv-details").outerHeight(true)}t.find(".dropdown-menu").css("max-height",n)}))};j.showChapterIntro=function(e){var t=e;if(!e.hasClass("quiz-wrapper")){t=e.parents(".quiz-wrapper");e.find(".btn-link").on("click",(function(){t.toggleClass("chapter-intro-view")}))}var n=t.find(".chapter-intro-wrapper"),r=n.find(".btn-tabs .btn");r.on("click",(function(){var e=(0,a.default)(this);if(!e.hasClass("active")){r.removeClass("active");e.addClass("active");n.removeClass("intro quizzes wikis").addClass(e.data("value"))}}))};j.practiceAnonWrapper=function(e){A=true;D=e.data("signup_after_n_problems");var t=".prev-marker-btn";var n=".next-marker-btn";var r=e.find(".prac-anon-item");var i=e.find("".concat(t,", ").concat(n));var o=e.find(".prac-markers");var s=o.find(".prac-marker");var l="visible";var u="current";var d=o.length>1;var f=r.length;function v(e){i.filter(t).toggleClass("disabled",e===0);i.filter(n).toggleClass("disabled",e===f-1)}function h(e){if(e<0||e>=f){return}v(e);r.removeClass(l).eq(e).addClass(l);if(d){s.removeClass(u);(0,a.default)(o[e]).find(".prac-marker").eq(e).addClass(u)}else{s.removeClass(u).eq(e).addClass(u)}p.$body.trigger(c.EVT_QUIZ_POSITION_DID_CHANGE);var t=(0,a.default)(".prac-anon-item.visible .codex-container");if(t.length){(0,w.controller)(t)}}i.on("click",(function(e){e.preventDefault();var t=(0,a.default)(this);var n=r.filter("."+l);var i=r.index(n);if(t.hasClass("prev-marker-btn")){i--}else if(t.hasClass("next-marker-btn")){i++}h(i)}));s.on("click",(function(){var e=(0,a.default)(this);h(e.index())}));if(d){var m=r.length;var g=function e(t){return function(){var e=s.filter(".current").index();h(e+t)}};(0,b.keyboardNavigation)({left:g(-1),right:g(1)})}v(s.filter(".current").index())};j.practiceAnon=function(e){if(e.hasClass("prac-anon-item")){var t=e.find(".solv-details").not(".course-quiz-solv-details");var n=e.outerHeight();t.css({overflow:"auto"});var a=(0,b.getScrollHeight)(t)+2;t.css({overflow:"hidden"});if(n<a){r.default.defer((function(){t.css({position:"static"})}))}}};j.nextSkillB2Modal=function(){var e=null;return function(t){t.on("click",(function(t){t.preventDefault();if(e===null){e=(0,p.jqGetElemById)("prac-next-skill-b2").modal()}else{e.modal("show")}}))}}();j.checkAnswerButton=function(e){var t=z(e).$solvable;var n=function t(n){n=n===true;if(p.isIos&&p.appVersion.isGreaterThanOrEqualTo("0.9.7")){if(n){window.location="disableanswerbutton://"}else{window.location="enableanswerbutton://"}}var a="btn-outline disabled",r="btn-accent";e.removeClass(n?r:a);e.addClass(n?a:r)};r.default.defer((function(){var e=t.find(".btn-mcq");t.find(".mcq-form").removeClass("disable-for-mobile");e.one("click",n)}));e.on("click",(function(){if(!e.hasClass("disabled")){t.find("#mcq-form").submit()}}))};j.recentSolvers=function(e){P[e.data("solvable")].$solversList=e;var t=e.parents(".solv-author").find(".likes-container");var n=e.find(".btn-expand").width();t.css("padding-left",n+14);e.removeClass("hidden");(0,p.jqOffOn)(e.find("button"),"click",(function(){e.toggleClass("expanded");var n=e.find("button:visible").width();t.css("padding-left",n+14)}))};vkey.assessment_modal_public_solvable_component=function(e){var t=e.find(".solv-main"),n=t.data("solvable");P[n]=P[n]||{};P[n].solvableDidOnload=false;(0,E.initGenericControllers)(e);k.default.add_form();k.default.votes();k.default.events();e.find(".modal-target").each(C.default.modal_events);(0,u.initAutosubmit)(e)};j.assessment_modal_public_solvable_component=vkey.assessment_modal_public_solvable_component;j.levelUpModal=function(e){var t=function t(){e.appendTo(p.$body);e.removeClass("hide");r.default.defer((function(){e.addClass("in")}));e.find(".close").on("click",(function(){e.removeClass("in");setTimeout((function(){e.addClass("hide")}),300)}));(0,p.jqGetElemById)("sidebar-leveled-up-msg").show();l.default.track("ui",{element_id:e.data("ax-id"),element_type:"modal",action:"displayed"})};t()};j.staffBios=function(e){var t=e.data("delay")!=null?e.data("delay"):200;var n=(0,p.jqGetElemById)("prac-staff-bios");var a=false;var i=function t(n){if(!e.data("flag")){e.toggleClass("bios-hover")}};var o=function i(o){if(p.isMobile){n.modal()}else{o.stopPropagation();var s=e.data("flag");if(s){f.default.update(s,true);e.removeData("flag");e.removeAttr("data-flag")}a=!a;e.toggleClass("bios-visible",a);if(a){n.show();r.default.defer((function(){n.addClass("in")}))}else{n.removeClass("in");setTimeout((function(){n.hide()}),t)}}};e.find(".bios-hover-trigger").on("mouseenter mouseleave",i).on("click",o);e.find(".btn-bios").on("click",o)};j.pracSolutionToggle=function(){var e={};return function(t){t.on("click",(function(){V(z(t));t.blur();var n=t.data();if(n.axUrl&&n.targetObjectId&&!e[n.targetObjectId]){var r={element_id:n.axId,source_attempt_id:n.sourceAttemptId,target_object_id:n.targetObjectId,target_object_type:"solution",target_object_referrer:encodeURIComponent(n.targetObjectReferrer)};a.default.get(n.axUrl,r);e[n.targetObjectId]=true}}))}}();j.endstate=function(e){var t=e.closest(".solv-main");var n=t.find(".solv-author");var a=t.find(".solv-problem");if(!n.length){return}r.default.defer((function(){var r=n.offset().top;var i=a.outerHeight(true);var o=t.find(".solv-details").outerHeight(true);if(i<o){var s=parseInt(a.css("margin-top"),10);i=o;if(s<0){i-=s}a.css("min-height",i)}var l="height";if(e.find(".potw-solutions-activity").length){l="outerHeight"}y.default.stick(e,{bottom:r,handler:function e(t){if(t.hasClass("stuck-bottom")){var n=Math.max(i,o)-t[l]();t.css("top",n)}else{t.css("top","")}},namespace:"sticky-solv-details-endstate"})}))};j.autoshowSolutions=function(e){var t=z(e);r.default.defer((function(){t.$solvable.find(".btn-solution[data-controller*=solutionButton]").click();if("replaceState"in window.history){window.history.replaceState({},"",window.location.href.replace(/[\?|&]just_created=true/,""))}}))};j.wikiContribModal=function(e){(0,p.jqGetElemById)("wiki-contrib-btn").on("click",(function(){e.modal()}))};j.previewCustomEndstateText=function(e){e.on("click",(function(){(0,p.jqGetElemById)("solv-custom-endstate-preview").toggle()}))};j.wikiModalProblem=function(e){C.default.feeditem_modal();e.find(".load-modal").each((function(){if(p.isNative){var e=(0,a.default)(this).find(".modal-link");var t=e.attr("href");t+=t.indexOf("?")===-1?"?":"&";t+="newwindow=true";e.attr("href",t).attr("target","")}else{C.default.modal_events.apply(this,arguments);v.checkOverflow((0,a.default)(this))}}))};j.wikiExpandableProblem=function(e){var t=e.find(".problem-container");e.on("click",(function(n){if(n.pageY<t.offset().top){e.toggleClass("expanded")}}))};j.sendFeedback=function(e){var t=e.find("textarea");var n=e.find(".btn-accent");var r=e.find(".btn-feedback");var i=e.closest(".no-stars");var o=i.find("#quiz_stats_hider");var l=i.parent().find(".btn-accent.btn.next");var u;var c=function e(){if(o.length>0&&i.find(".feedback-smiley").length>0){o.removeClass("hide");l.html("Next quiz")}};(0,p.jqOffOn)(t,"keyup",(function(e){if(t.val()){n.removeClass("disabled")}else{n.addClass("disabled")}}));(0,p.jqOffOn)(r,"click",(function(e){(0,a.default)(e.currentTarget).toggleClass("active");u=e.currentTarget.value}));var d=(0,s.default)(e.find("#id_page_key").val());var f=d.success;d.success=function(e,t,n){if(u==="up"){setTimeout((function(){f.apply(d,[e,t,n]);c()}),200)}else{f.apply(d,[e,t,n]);c()}};(0,p.jqOffOn)(e,"submit",(function(t){t.preventDefault();d.form(e,{version:e.find("#id_version").val(),component_key:e.data()["cmpKey"],thumbs:u})}));if(l.length>0){(0,p.jqOffOn)(l,"click",(function(n){if(e.find("textarea").length>0){n.preventDefault();if(!t.val()){t.val(" ")}d.form(e,{version:e.find("#id_version").val(),component_key:e.data()["cmpKey"]})}}))}};var Y=function e(t,n){var r=vkey.handle(t,n),i=r.parents(".solv-main"),o=z(i),l=i.find(".endstate"),u=l.length>0;p.$body.toggleClass("endstate",u);o.$solvable=r.parents(".solv-main");o.solvableDidOnload=false;P[i.data("solvable")]=o;j.solvable(i);j.solvableRedesign(i);if(p.isMobile){if(j.NotifyAboutGoodSolution.exists){j.NotifyAboutGoodSolution.toggleIcon(o.data.answerIsCorrect||o.data.attemptNumber===0)}}H((0,a.default)(".btn-solution.dim,.btn-solution.disabled"),(0,a.default)(".solv-simple-solution,.solv-solutions").length>0);$(o);v.updateMathjax(r);if(p.isMobile&&!p.$body.hasClass("prac-solvable")){var c=i.find(".btn-solution");if((0,a.default)(".solv-details.endstate.correct").length){c.data("solutions-loaded",true)}if(c.data("originally-disabled")===false){c.removeClass("disabled")}}else if(p.isMobile){j.solutionButton(i.find(".btn-solution").not(".btn-b2-flag"))}if(p.instantTryItYourself&&u){var d=(0,p.jqGetElemById)("cmp_wiki_canonical_page_id");if(d.length){var f=d.find(".summary").data();(0,s.default)(f["pageKey"]).post(f["cmpUrl"],{page_key:f["pageKey"],component_key:f["cmpKey"]})}}var h=r.find(".mcq.endstate .mcq");if(h.length&&M&&!o.data.canStillAnswer){var m=h.data("registered-choice").toString();if(m&&M!==m){g.default.captureMessage("Registered choice does not match the corresponding clicked one",{tags:{"____Clicked.Choice":M,"___Registered.Choice":m,"__Answer.Is.Correct":o.data.answerIsCorrect,"_Problem.Url":window.location.href}})}}M=null;if(p.$body.hasClass("portal-page")||p.$body.hasClass("portal-feed-page")){var y;var _;if(o.data.answerIsCorrect){y="correct";_="Correct"}else if(o.currentState==="solutions"){y="viewed-solution";_="Viewed solution"}else if(!o.data.canStillAnswer){y="incorrect";_="Incorrect"}else if(o.data.attemptNumber>0){y="incomplete";_="Not finished"}if(y||_){var b=o.$solvable.data("solvable");var w=(0,a.default)('.problems-section .feed-section-row[data-solvable-id="'+b+'"] .icon');if(y){w.removeClass("correct viewed-solution incorrect incomplete").addClass(y)}if(_){w.attr("title",_)}}}return r};vkey.assessment_public_solvable_logged_in=vkey.hundred_day_challenge_solvable_logged_in=Y;vkey.quizzes_remove_solvable_from_quiz=vkey.quizzes_remove_pane_from_quiz=function(e,t){var n=(0,a.default)(e.new_html).find(".target_content_id").val();var r=(0,a.default)(".target_content_id.".concat(n)).closest(".cmp_".concat(t,"_id"));if(r.length===0){window.vkey.handle(e,t)}else{var i="".concat(t,"_").concat(n);r.addClass("cmp_".concat(i,"_id"));window.vkey.handle(e,i)}};vkey.quizzes_problemset=function(){var e=Y.apply(vkey,arguments);j.cropActionsMenu(e);var t=e.parents(".prac-preload-wrapper");if(t.length){T.default.practice(t,{reloaded:true})}if(p.isMobile){var n=e.find(".b2-solution");if(n.length&&n.is(":visible")&&(0,p.jqGetElemById)("solv-simple-solution").length===0){b.Anchors.scrollToTarget(n)}}else{var a=(0,p.jqGetElemById)("b2-solution");var r=e.find(".solv-details").hasClass("endstate");if(a.length&&r){var i="auto_scrolled_to_free_solution";if(o.default.get(i)!==true){b.Anchors.scrollToTarget(a);o.default.set(i,true)}}}N=false};vkey.potw_problemset=vkey.potw_problemset_default=vkey.quizzes_problemset;var X=function e(t,n,a){var r=window.vkey.handle(t,n);v.updateMathjax(r.find(".latex"));k.default.votes();k.default.add_form();k.default.subscribe();r.find(".vote-trigger.with-tooltip").tooltip();k.default.events();v.scaleSVG(r.find(".latexprocessor-block, .latexprocessor-inline"));var i=z(r.parents(".solv-main"));F(i,a)};vkey.quizzes_challengesolvablesolutionlist=vkey.potw_solvablesolutionlist=vkey.solutiondiscussions_publicsolvablesolutionlist=function(e,t){X(e,t,"solutions")};vkey.potw_solvabledisputelist=vkey.quizzes_solvabledisputelist=vkey.disputediscussions_publicsolvabledisputelist=function(e,t){X(e,t,"disputes")};var Q=function e(t,n){var a=window.vkey.handle(t,n);v.updateMathjax(a.find(".latex"));k.default.add_form();return a};vkey.quizzes_challengesolvableaddsolutionpost=vkey.potw_addsolvabledisputepost=vkey.potw_solvableaddsolutionpost=vkey.quizzes_addsolvabledisputepost=vkey.groups_groupsolvableaddsolutionpost=vkey.solutiondiscussions_publicsolvableaddsolutionpost=vkey.disputediscussions_publicsolvableadddisputepost=Q;vkey.disputediscussions_publicsolvableadddisputepostmodal=vkey.potw_addsolvabledisputepostmodal=vkey.quizzes_addsolvabledisputepostmodal=function(){var e=Q.apply(vkey,arguments);(0,E.initGenericControllers)(e)};vkey.quizzes_solvabledisputesubscribe=vkey.quizzes_challengesolvablesolutionsubscribe=vkey.disputediscussions_publicsolvabledisputesubscribe=vkey.solutiondiscussions_publicsolvablesolutionsubscribe=function(e,t){vkey.handle(e,t);k.default.subscribe()};vkey.quizzes_interstitial_pane=vkey.admin_edit_interstitial_pane_component=function(e,t){var n=p.$body.data(c.QUIZ_CHAPTER_INTRO_STATE);if(n&&n.active===true){p.$body.data(c.QUIZ_CHAPTER_INTRO_STATE,{active:true,numContinuingPanes:n.numContinuingPanes-1});return}var a=vkey.handle(e,t);var r=a.parents(".prac-preload-wrapper");if(r.length){var i;Object.values(c.CMP_RELOADING_FLAGS).forEach((function(e){if(p.$body.data(e)===true){i=false;p.$body.data(e,false)}}));if(i===undefined){i=!a.find(".solv-pane.is-editing-pane").length&&!(0,p.jqGetElemById)("sales-card").length}T.default.practice(r,{reloaded:true,useTargetPosition:i})}N=true};e.exports=j},76:function(e,t,n){"use strict";var a=n(0);var r={};r.get=function(e){var t=e[0];if(!t){return}if(t.selectionStart){return t.selectionStart}else if(!document.selection){return 0}var n=Global.octalCursorChar,a=document.selection.createRange(),r=a.duplicate(),i=0;r.moveToElementText(t);a.text=n;i=r.text.indexOf(n);a.moveStart("character",-1);a.text="";return i};r.set=function(e,t,n){var a=e[0];n=n||t;if(!a){return}if(a.createTextRange){var r=a.createTextRange();r.move("character",t);r.select()}else{if(a.selectionStart){a.focus();a.setSelectionRange(t,n)}else{a.focus()}}};r.insert=function(e,t,n){var a=e[0];if(!a){return}if(document.selection){a.focus();sel=document.selection.createRange();sel.text=t}else if(a.selectionStart||a.selectionStart=="0"){a.value=a.value.substring(0,n)+t+a.value.substring(n,a.value.length)}else{a.value+=t}a.dispatchEvent(new Event("input"))};e.exports=r},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CMP_RELOADING_FLAGS=t.QUIZ_CHAPTER_INTRO_STATE=t.FUNC_NOOP=t.TRANSITION_SPEED_SLOW=t.TRANSITION_SPEED_MEDIUM=t.TRANSITION_SPEED_FAST=t.EVT_VKEY_AFTER_UPDATE=t.EVT_VKEY_BEFORE_UPDATE=t.EVT_VKEY_BASE=t.EVT_MCQ_EDIT_FORM_SET_CONTEXT=t.EVT_DAILYPROBLEM_MAINBODY_EXPANDED=t.EVT_QUIZ_POSITION_LOADING=t.EVT_QUIZ_POSITION_DID_CHANGE=t.EVT_QUIZ_POSITION_WILL_CHANGE=t.INTERACTION_TYPES=t.CLASS_NAME_LOADING=t.CLASS_NAME_HIDE=t.CLASS_NAME_EXPANDED=t.CLASS_NAME_DISABLED=t.CLASS_NAME_COLLAPSED=t.CLASS_NAME_CHECKED=t.CLASS_NAME_ANIM_IN=t.CLASS_NAME_ACTIVE=void 0;var a="active";t.CLASS_NAME_ACTIVE=a;var r="in";t.CLASS_NAME_ANIM_IN=r;var i="checked";t.CLASS_NAME_CHECKED=i;var o="collapsed";t.CLASS_NAME_COLLAPSED=o;var s="disabled";t.CLASS_NAME_DISABLED=s;var l="expanded";t.CLASS_NAME_EXPANDED=l;var u="hide";t.CLASS_NAME_HIDE=u;var c="loading";t.CLASS_NAME_LOADING=c;var d={STATUS_DOT:"status_dot",CONTINUE_BUTTON:"continue_button",PREV_NEXT_BUTTON:"prev_next_button",ARROW_KEY:"arrow_key",URL_CHANGE:"url_change"};t.INTERACTION_TYPES=d;var f="quizPositionWillChange";t.EVT_QUIZ_POSITION_WILL_CHANGE=f;var p="quizPositionDidChange";t.EVT_QUIZ_POSITION_DID_CHANGE=p;var v="quizPositionLoading";t.EVT_QUIZ_POSITION_LOADING=v;var h="dailyproblemMainbodyExpanded";t.EVT_DAILYPROBLEM_MAINBODY_EXPANDED=h;var m="MCQEditFormContextSet";t.EVT_MCQ_EDIT_FORM_SET_CONTEXT=m;var g="vkey";t.EVT_VKEY_BASE=g;var y="".concat(g,".beforeupdate");t.EVT_VKEY_BEFORE_UPDATE=y;var _="".concat(g,".afterupdate");t.EVT_VKEY_AFTER_UPDATE=_;var b=100;t.TRANSITION_SPEED_FAST=b;var w=200;t.TRANSITION_SPEED_MEDIUM=w;var k=500;t.TRANSITION_SPEED_SLOW=k;var C=function e(){};t.FUNC_NOOP=C;var x="QUIZ_CHAPTER_INTRO_STATE";t.QUIZ_CHAPTER_INTRO_STATE=x;var E={DISPUTES:"reloading-disputes",PANE:"reloading-pane"};t.CMP_RELOADING_FLAGS=E},81:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getFormData=i;var a=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t={};var n=["input:not([type=radio], [type=checkbox])","input[type=checkbox]:checked","input[type=radio]:checked","input[type=checkbox]:selected","select, textarea, button"];var r=n.reduce((function(t,n){return t.add(e.find(n))}),(0,a.default)());r.each((function(e,n){var a=n.name||"";if(a.length>0){if(t[a]&&t[a]!==n.value){if(t[a]instanceof Array){t[a].push(n.value)}else{t[a]=[t[a],n.value]}}else{t[a]=n.value}}}));return t}},82:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.controller=E;t.expandableCode=T;var a=h(n(0));var r=v(n(67));var i=n(99);var o=n(69);var s=h(n(13));var l=n(35);var u=n(6);var c=n(8);var d=n(1);var f=n(81);var p=n(9);function v(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var m="codex_page";var g="cmp_".concat(m,"_id");var y=200;var _=810;var b=30;function w(e,t,n,r){var i=(0,a.default)("#confirm-modal");if(i.length>0){i.remove()}var o=false;var s=(0,a.default)('\n        <div class="modal hide codex-confirm" id="confirm-modal">\n            <div class="modal-body"><p>'.concat(t,'</p></div>\n            <div class="modal-footer">\n                <a href="#" class="btn cancel" data-dismiss="modal">').concat(n.cancel_text,'</a>\n                <a href="#" class="btn btn-accent confirm">').concat(n.ok_text,"</a>\n            </div>\n        </div>\n    "));s.find(".confirm").on("click",(function(e){e.preventDefault();o=true;s.modal("hide");s.trigger(a.default.Event("codex.hide"))}));s.on("hide",(function(){return r(o)}));e.find("div:first").after().append(s);s.modal()}function k(e,t,n){var a=parseInt(t.display.sizer.style.minHeight,10);if(d.isNative){t.setSize(null,"".concat(a+b,"px"))}else if(a<y){t.setSize(null,"".concat(y,"px"))}else if(a-b>_){t.setSize(null,"".concat(_,"px"))}else{t.setSize(null,"".concat(a+b,"px"))}if(e.length>0){var r;var i;var o=function e(n){t.setSize(null,"".concat(Math.max(y,i+n.pageY-r),"px"))};var s=function e(){d.$body.off("mousemove",o);d.$window.off("mouseup",e)};e.on("mousedown",(function(e){r=e.pageY;i=n.height();d.$body.on("mousemove",o);d.$window.on("mouseup",s)}))}}var C=d.isIos&&d.appVersion.isGreaterThanOrEqualTo("3.4.3")||d.isAndroid&&d.appVersion.isGreaterThanOrEqualTo("4.7.0");function x(e,t){var n=t.url;var a=[e];if(e==="POST"){a.push(n);a.push(JSON.stringify(t))}else{delete t.url;t.page_key=m;a.push((0,p.appendGetParams)(n,t))}if(d.isAndroid){try{var r;(r=window.Android).codexAjaxRequest.apply(r,a)}catch(e){console.error("Unhandled native request",a)}}else{try{window.webkit.messageHandlers.main.postMessage(["codexAjaxRequest"].concat(a))}catch(e){console.error("Unhandled native request",a)}}window.codexAjaxResponse=function(e){var t=typeof e==="string"?JSON.parse(e):e;var n=t.actions&&t.actions[m];if(n){try{window.vkey.handle(n,m)}catch(e){}}}}function E(e){var t=e.data();var n=e.parents(".solv-container,#solv-main");var u=e.closest(".".concat(g));var p=e.parents(".dp-problem-main").length>0;if(p&&!u.is(":visible")){d.$window.one(c.EVT_DAILYPROBLEM_MAINBODY_EXPANDED,(function(){return E(e)}));return}var v=e.find(".codex-form");var h=e.find(".codex-btn-run");var y=e.find(".codex-view-original");var _=e.find(".codex-textarea textarea");var b=e.find(".codex-editor > div");var I=e.find("[name=language]");var T=e.find(".codex-orig").text();var O=t.codexLanguage;var S;var q=function e(){var t=r.isUnchanged(S,I.val());var n=y.data("user-code");if(!t&&n){y.removeData("user-code").removeData("user-code");y.removeClass(c.CLASS_NAME_ACTIVE)}else{y.prop("disabled",t&&!n)}};var j=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;n.each((function(e,n){var r=(0,a.default)(n);r.css({height:t===true?"auto":r.outerHeight()})}))};var P=function e(t){var n=".".concat(g);var r="".concat(g,"_ignore");var i=".".concat(r);if(t){(0,a.default)(n).not(u).addClass(r).removeClass(g)}else{(0,a.default)(i).addClass(g).removeClass(r)}};(0,o.handleOutputGifs)(e);r.init({$editor:b,$textarea:_,initialCode:T,initialLanguage:O,language:I.val()}).then((function(n){S=n;k(e.find(".resize"),S.cm,b);var o=t.shareContext?(0,i.getSharedContext)(t.codexEnvId):null;setTimeout((function(){return j(true)}));if(t.autoRefresh){r.setReadOnly(S);e.find(".CodeMirror-scroll").addClass("disabled");setTimeout((function(){j();var e={solvable_id:t.solvableId,note_id:t.noteId,pane_id:t.paneId,previous_solvable_ids:t.previousSolvableIds,pane_url:t.paneUrl,codex_env_id:t.codexEnvId};if(C){e.url=t.cmpUrl.replace("/codex/","/codex/_native/");e.native_component=true;x("GET",e)}else{(0,s.default)(m).get(t.cmpUrl,e)}}),1e3);return}P(false);if(o){o.applyContext(e,S)}var u=/[\u2018\u2019]/g;var p=/[\u201C\u201D]/g;r.onChange(S,(function(){var e=r.getValue(S);if(u.test(e)||p.test(e)){e=e.replace(u,"'").replace(p,'"');var t=r.getCursor(S);setTimeout((function(){r.setValue(S,e);r.setCursor(S,t)}))}if(o){o.setValue(e)}_.val(r.getValue(S));q()}));if(d.isNative){var g=function t(n){if(n){e.find(".offline-error").removeClass(c.CLASS_NAME_ACTIVE);e.find(".codex-email").removeClass(c.CLASS_NAME_HIDE);e.find(".codex-btn-run").removeClass(c.CLASS_NAME_DISABLED).prop("disabled",false)}else{e.find(".offline-error").addClass(c.CLASS_NAME_ACTIVE);e.find(".codex-email").addClass(c.CLASS_NAME_HIDE);e.find(".codex-btn-run").addClass(c.CLASS_NAME_DISABLED).prop("disabled",true)}};window.addEventListener("online",(function(){return g(true)}));window.addEventListener("offline",(function(){return g(false)}));if(!window.navigator.onLine){g(false)}}h.on("click",(function(){if(o){o.clearOutput()}P(true);j();var e={url:t.formAction,page_key:m,cluster:t.formField__cluster,param_key:t.formField__param_key||"",version:t.formField__version,csrfmiddlewaretoken:(0,l.getToken)()};if(d.isNative){e.url=e.url.replace("/codex/","/codex/_native/");e.native_component=true}if(C){var n=Object.assign({},(0,f.getFormData)(v),e);x("POST",n)}else{(0,s.default)(m).form(v[0],e)}}));y.on("click",(function(e){e.preventDefault();if(!y.is(":disabled")){y.toggleClass(c.CLASS_NAME_ACTIVE);if(y.hasClass(c.CLASS_NAME_ACTIVE)){y.data("user-code",r.getValue(S));y.data("user-language",I.val());r.setValue(S,T);I.val(O)}else{var t=y.data();r.setValue(S,t.userCode);I.val(t.userLanguage)}q()}}));I.on("change",(function(){r.setLanguage(S,I.val());r.focus(S);q()}));e.find("header label").show();var E=d.isAndroid&&d.appVersion&&d.appVersion.isGreaterThanOrEqualTo("4.2.0")&&!d.appVersion.isGreaterThanOrEqualTo("4.7.0");e.find(".codex-notes").children().addClass(E?"note-placeholder":"note");if(t.allowNotesEditor){r.initNoteEditor(S,(0,d.jqGetElemById)("id_notes"))}else if(t.hasNotes){var A=r.initNotes(n,e,E);A.run()}if(t.allowDeemphasizeEditor){r.initDeemphasizeEditor({state:S,$deemphasizeField:(0,d.jqGetElemById)("id_deemphasize"),$deemphasizeContainer:(0,d.jqGetElemById)("codex-deemphasize-container")})}else if(t.deemphasizeData){r.initDeemphasize({state:S,data:t.deemphasizeData,envId:t.codexEnvId,initialCode:T})}q();var D=e.find(".codex-email");if(D.length){D.find("button").on("click",(function(e){e.stopPropagation();e.preventDefault();var t=D.data();w(D.parents("header"),t.confirmText,{ok_text:t.confirmOkText,cancel_text:t.confirmCancelText},(function(e){if(e){D.removeClass("error");var n={target_url:t.targetUrl,target_title:t.targetTitle};setTimeout((function(){a.default.post("".concat(t.baseUrl,"/codex/_native/email_me/"),n).fail((function(){return D.addClass("error")})).then((function(e){if(e.success){D.addClass("success")}else{D.addClass("error")}}))}),100)}}))}))}}))}var I={};function T(e){var t=e.data("codex-env-id")||null;var n=e.find(".codex-expand-toggle");var a=function a(r,i){if(r){r.preventDefault()}if(i!==undefined){if(t){I[t]=i}n.toggleClass("active",i);e.toggleClass("expanded",i)}else{if(t){I[t]=!I[t]}n.toggleClass("active");e.toggleClass("expanded")}var o="";var s=e.hasClass("expanded");var l=e.parents(".course-quiz-wrapper,.dp-problem-main").length>0;if(s&&!l){var u=(0,d.jqGetElemById)("wrapper").offset().left;var c=parseInt((0,d.jqGetElemById)("wrapper").css("padding-left"),10);var f=e.offset().left;o="".concat(u+c-f,"px")}e.css("margin-left",o)};n.show();if(t){I[t]=I[t]||false;if(I[t]===true){a(null,true)}}n.on("click",a)}if(!window.VERSIONS&&!window.vkey){window.VERSIONS=window.VERSIONS||{};window.vkey=window.vkey||{handle:function e(t,n){var r=(0,a.default)("#cmp_".concat(n,"_id"));if(r.length===0){r=(0,a.default)(".cmp_".concat(n,"_id"))}r.html(t.new_html);var i=r.find(".codex-container");i.attr("data-controller-inited",true);E(i)}}}else{window.vkey=window.vkey||{};window.vkey.codex_page=function(e,t){var n=window.vkey.handle(e,t);var a=n.find(".codex-output");if(a.find(".running").length===0){u.Anchors.scrollToTarget(a)}}}},83:function(e,t,n){"use strict";var a=h(n(0));var r=h(n(2));var i=n(36);var o=n(7);var s=n(1);var l=v(n(27));var u=v(n(41));var c=n(6);var d=n(8);var f=n(11);var p=n(57);function v(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){return _(e)||y(e,t)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function y(e,t){var n=[];var a=true;var r=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(r)throw i}}return n}function _(e){if(Array.isArray(e))return e}var b="notloaded";var w="error";var k={};function C(){return(0,s.jqGetElemById)("course-quiz-endstate").is(":visible")}var x={solvableList:[],currentPosition:null,$markers:null,inited:false,solvablesLoaded:0,submitted:false,noHistory:false,enableKeyboardNav:false,targetPosition:null};var E={};var I={reloaded:false,instantResponse:false};var T={};function O(e){if(!T[e]){var t=new Image;t.src=e;T[e]=true}}var S=[];function q(e){S.push(e)}function j(e){var t=/img.*src="(.*?)"/g;var n=/src="(.*?)"/;var a=e.match(t);if(a){a.forEach((function(e){var t=e.match(n);if(t){var a=t[1];O(a)}}))}}q(j);q(p.visualizationsPrefetchHandler);k.practice=function e(t,n){var p=Object.assign({},I,n);var v=t.data("id");if(p.reset===true){E[v]={solvableList:x.solvableList.slice(0),currentPosition:x.currentPosition,$markers:x.$markers,inited:x.inited,solvablesLoaded:x.solvablesLoaded,submitted:x.submitted,noHistory:x.noHistory,targetPosition:x.targetPosition}}else{E[v]=E[v]||Object.assign({},x,{solvableList:x.solvableList.slice(0)})}E[v].currentPosition=E[v].currentPosition===null?t.data("current")-1:E[v].currentPosition;var h=t.data();E[v].noHistory=h.noHistory;E[v].enableKeyboardNav=h.enableKeyboardNav===true;var m=function e(n){var r=n.data("position");a.default.get(n.attr("href"),{web_preloading:true,is_preloading:true,force_full_page:true}).then((function(e){E[v].solvableList[r].content=e;t.trigger(a.default.Event("preloaded.p".concat(r)));E[v].solvablesLoaded++;S.forEach((function(t){return t(e)}))})).fail((function(){E[v].solvableList[r].content=w;t.trigger(a.default.Event("preloaded.p".concat(r)))}))};var g=function e(){E[v].$markers.each((function(e,n){var i=(0,a.default)(n);var o=E[v].currentPosition===e;var s=i.data();E[v].solvableList.push({url:i.attr("href"),data:s,viewed:o,content:o?t.find("#solv-main"):b});if(!o||s.isDummy){r.default.defer((function(){m(i)}))}}))};var y=function e(n){s.$body.trigger(d.EVT_QUIZ_POSITION_LOADING);t.addClass("loading");t.one("preloaded.p".concat(n),(function(){T(n);if(E[v].solvableList[n].content!==w){t.removeClass("loading")}}))};var _=function e(t){if(E[v].noHistory){window.location.reload()}else{window.location=E[v].solvableList[t].url}};var k=function e(n,l,c){s.$body.trigger(d.EVT_QUIZ_POSITION_WILL_CHANGE);var p=t.find("#solv-main").add((0,s.jqGetElemById)("admin-sidebar"));var h=(0,a.default)(l);var m=h.find("#interstitial-pane-continue-form");if(m.length&&E[v].$markers.filter(":not(.correct,.incorrect)").length===1){m.find('input[name="form_name"]').val("continue_and_finish");m.find("button").html("Finish quiz")}var g=(0,s.jqGetElemById)("endstate-trigger-btn");if(g.length&&g.data("show-immediately")){return}E[v].solvableList[E[v].currentPosition].content=p;E[v].currentPosition=n;p.remove();t.append(h);var y=t.find(".endstate").length>0;s.$body.toggleClass("endstate",y);if(!u.useKatex()){u.loadForElement(h)}(0,f.initGenericControllers)(t,{force:true});(0,i.initAutosubmit)(t);(0,o.setAnalyticsEvents)(t);P();(0,s.setScrollPosition)(0);if(!c){O(E[v].currentPosition)}var _=E[v].solvableList[E[v].currentPosition];if(!_.viewed){E[v].solvableList[E[v].currentPosition].viewed=true;r.default.defer((function(e,t){var n=window.location;var r=n.pathname;(0,o.track)("sign_of_life",{from_request:true,is_android:s.isAndroid,ajax:false,path:r,method:"GET",full_path:r+n.search});var i=null;switch(e.data.contentType){case"solvable":i={position:t+1};break;case"interstitial_pane":i={action:e.data.paneAction,ipconn_id:e.data.paneConnection,quiz_id:e.data.paneQuiz};break;default:throw Error("Unknown quiz item content type")}if(i){a.default.ajax({method:"POST",url:e.data.statusUrl,data:JSON.stringify(i),headers:{"Content-type":"application/json"}})}}),_,E[v].currentPosition)}s.$body.trigger(d.EVT_QUIZ_POSITION_DID_CHANGE)};var T=function e(t,n){var a=n===true;var r=(0,s.jqGetElemById)("interstitial-pane-continue-form");if(r.length){var i="is-continuing";if(r.data(i)!==true){r.data(i,true);E[v].targetPosition=t;r.submit()}var o=s.$body.data(d.QUIZ_CHAPTER_INTRO_STATE);if(o&&o.active===true){s.$body.data(d.QUIZ_CHAPTER_INTRO_STATE,{active:true,numContinuingPanes:o.numContinuingPanes+1})}else{return}}E[v].targetPosition=null;if(t!==E[v].currentPosition&&E[v].solvableList[t]){var l=E[v].solvableList[t].content;switch(l){case b:y(t);break;case w:_(t);break;default:k(t,l,a)}}};var O=function(){if(window.history.pushState&&!E[v].noHistory){return function(e){r.default.defer((function(){var t={position:e};window.history.pushState(t,"",E[v].solvableList[e].url)}))}}return d.FUNC_NOOP}();function q(e){var t=(0,a.default)(this);var n=t.data("position");if(n===undefined){if(t.hasClass("btn-prev")){var r=E[v].$markers.filter(":not(.correct, .incorrect, .completed)");if(t.hasClass("solv-done-btn")&&r.length){n=r.first().data("position")}else{n=E[v].currentPosition-1}}else{n=E[v].currentPosition+1}}if(e.preventDefault){e.preventDefault()}if(!t.hasClass("disabled")){T(n)}}var j=function e(){if(E[v].submitted||C()){window.history.forward()}else{var t;try{t=parseInt(window.location.href.match(/p=(\d)/)[1],10)-1}catch(e){var n=window.history.state&&"position"in window.history.state;t=n?window.history.state.position:0}T(t,true)}};var P=function e(){var n=function e(){return(0,s.jqGetElemById)("prac-markers-".concat(v))};if(E[v].$markers===null||p.reloaded){E[v].$markers=n().find(".prac-marker");E[v].currentPosition=E[v].currentPosition<0?E[v].$markers.filter(".current").data("position"):E[v].currentPosition;if(s.isMobile&&!p.instantResponse){var a=E[v].solvablesLoaded<E[v].solvableList.length-1;r.default.defer((function(){t.find(".btn-prev:not(.solv-done-btn)").toggleClass("disabled",E[v].currentPosition===0);t.find(".btn-next:not(.solv-done-btn)").toggleClass("disabled",E[v].currentPosition===E[v].solvableList.length-1)}));E[v].$markers.toggleClass("disabled",a);t.find(".actions-container").toggleClass("disabled",a)}}else{E[v].$markers.removeClass("current");E[v].$markers.eq(E[v].currentPosition).addClass("current");n().empty().append(E[v].$markers)}(0,s.jqOffOn)(E[v].$markers,"click.quiznav",q);var i=t.find(".btn-next, .btn-prev").not(".btn-continue");(0,s.jqOffOn)(i,"click.quiznav",q);t.find("#text_answer_entry_form,#mcq-form,#start-over-btn").on("submit",(function(){E[v].submitted=true;if(E[v].solvablesLoaded!==E[v].solvableList.length){t.find(".btn-next,.btn-prev").add(E[v].$markers).addClass("disabled");t.find(".actions-container").addClass("disabled")}}));if(!u.useKatex()){l.updateMathjax(t)}};var A=function e(){(0,c.keyboardNavigation)({eventKey:"preloader",guard:function e(){return!(s.$body.hasClass("modal-open")||E[v].$markers.filter(".disabled").length>0||C())},left:function e(){T(E[v].currentPosition-1)},right:function e(){T(E[v].currentPosition+1)}})};P();if(!E[v].inited){E[v].inited=true;g();if(!E[v].noHistory){s.$window.on("popstate",j)}if(E[v].enableKeyboardNav){A()}}if(!p.instantResponse){E[v].submitted=false}p.reloaded=false;p.instantResponse=false;if(p.useTargetPosition){if(E[v].targetPosition===null){E[v].targetPosition=E[v].currentPosition+1;if(E[v].targetPosition<E[v].solvableList.length){T(E[v].targetPosition)}}else{T(E[v].targetPosition)}E[v].targetPosition=null}};k.convertDummyPreloader=function(e,t){var n=b;var r=function e(){return window.location.reload()};try{var l=m(E[t].solvableList,1);n=l[0].content}catch(e){n=w}if(n===b||n===w){r();return}var c=(0,a.default)(n);e.empty().append(c);(0,s.jqGetElemById)("admin-sidebar").remove();e.data("enable-keyboard-nav",true);E={};k.practice(e);(0,i.initAutosubmit)(c);(0,f.initGenericControllers)(c);(0,o.setAnalyticsEvents)(c);if(!u.useKatex()){u.loadForElement(c)}};k.backgroundImages=function(e){var t=function e(t,n){var a=window.getComputedStyle(t,n).backgroundImage;if(a==="none")return;var r=a.match(/url\(['"]?(.*?)['"]?\)/);if(r){var i=m(r,2),o=i[1];O(o)}};e.find("*").add(e).each((function(e,n){t(n);t(n,":before");t(n,":after")}))};e.exports=k},9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.appendGetParam=s;t.appendGetParams=l;t.getParamsObject=u;function a(e,t){return o(e)||i(e,t)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){var n=[];var a=true;var r=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(r)throw i}}return n}function o(e){if(Array.isArray(e))return e}function s(e,t,n){var a=e.split("#");var r=a[0].indexOf("?")!==-1?"&":"?";a[0]+="".concat(r).concat(t,"=").concat(n);return a.length>1?a.join("#"):a[0]}function l(e,t){if(!e){return null}var n=e.split("#");var a=n[0].indexOf("?")!==-1?"&":"?";Object.keys(t).forEach((function(e){if(Object.prototype.hasOwnProperty.call(t,e)){n[0]+="".concat(a).concat(e,"=").concat(t[e]);a="&"}}));return n.length>1?n.join("#"):n[0]}function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:window.location.search;var t=e.replace("?","").split("&");var n={};t.forEach((function(e){if(e.length>0){var t=e.split("="),r=a(t,2),i=r[0],o=r[1];n[i]=o}}));return n}},95:function(e,t,n){"use strict";var a;try{a="localStorage"in window&&window["localStorage"]!==null;var r="wafer-test";var i="wafer-test-value";window.localStorage.setItem(r,i);if(window.localStorage.getItem(r)!==i){a=false}window.localStorage.removeItem(r)}catch(e){a=false}if(!a){var o={setItem:function e(t,n,a){var r=a===true?-1:30,i=new Date;i.setDate(i.getDate()+r);document.cookie=t+"="+escape(n)+"; expires="+i.toUTCString()},getItem:function e(t){if(document.cookie.indexOf(t+"=")!==-1){return unescape(document.cookie.split(t+"=")[1].split(";")[0].replace("=",""))}else{return false}},removeItem:function e(t){this.setItem(t,"",true)}}}var s={_s:a?window.localStorage:o,get:function e(t){var n=this._s.getItem(t);try{return JSON.parse(n)}catch(e){return n}},set:function e(t,n){try{JSON.parse(n)}catch(e){n=JSON.stringify(n)}try{return this._s.setItem(t,n)}catch(e){return false}},remove:function e(t){return this._s.removeItem(t)}};e.exports=s},97:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CodexNotesDisplayHandlerAndroid=t.CodexNotesDisplayHandlerMobile=t.CodexNotesDisplayHandlerBase=t.CodexNoteEditor=void 0;var a=u(n(0));var r=u(n(2));var i=n(1);var o=n(7);var s=n(8);var l=n(68);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){c=function e(t){return typeof t}}else{c=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return c(e)}function d(e,t){if(t&&(c(t)==="object"||typeof t==="function")){return t}return f(e)}function f(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return p(e)}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return h(e,t)}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function y(e,t,n){if(t)g(e.prototype,t);if(n)g(e,n);return e}var _=18;var b=l.CODEX_LINE_HEIGHT;var w=4;var k=-1;function C(e){return"btn codex-note-btn codex-note-".concat(e)}var x=function(){function e(t){var n=t.cm,a=t.$notesElement;m(this,e);this.cm=n;this.$notesElement=a;this.existingNoteButtons=[];this.readData();this.renderNoteButtons();this.bindEvents();this.handleSecondaryInputs()}y(e,[{key:"readData",value:function e(){var t;try{t=JSON.parse(this.$notesElement.val())}catch(e){t={}}this.notes=t.notes||[];this.showIntro=t.show_intro||false}},{key:"saveData",value:function e(){var t={notes:this.notes};if(this.showIntro){t.show_intro=true}this.$notesElement.val(JSON.stringify(t,null,2))}},{key:"saveNote",value:function e(t,n){var a=[];var r=[parseInt(n.startLine,10),parseInt(n.endLine,10)].sort();var i=r[0];do{a.push(i-1);i++}while(i<=r[1]);var o={expect_user_to_edit:n.expect_user_to_edit,content:n.content,lines:a};if(n.show_on_solvable_id){o.show_on_solvable_id=parseInt(n.show_on_solvable_id,10)}var s=parseInt(n.noteNumber,10);if(t!==s){this.notes.splice(t-1,1);this.notes.splice(s-1,0,o)}else{this.notes.splice(n.noteNumber-1,1,o)}this.saveData();this.renderNoteButtons()}},{key:"deleteNote",value:function e(t){this.notes.splice(t-1,1);this.saveData();this.renderNoteButtons()}},{key:"renderNoteButtons",value:function e(){var t=this;var n=false;var r=(0,a.default)(document.createElement("button"));r.addClass(C("edit"));r.css({width:_});this.existingNoteButtons.forEach((function(e){return e.remove()}));this.existingNoteButtons=[];this.notesPerLine={};this.notes.forEach((function(e,a){var i=r.clone();i.text("".concat(a+1));i.on("click",(function(n){n.preventDefault();t.showNoteEditModal(e,a+1)}));t.cm.addWidget({line:e.lines[0],ch:0},i[0],n);var o=_+w;i.css(t.getButtonStylesForLineSet(e.lines,o));t.existingNoteButtons.push(i);e.lines.forEach((function(e){t.notesPerLine[e]=t.notesPerLine[e]||0;t.notesPerLine[e]++}))}))}},{key:"bindEvents",value:function e(){var t=this;var n=(0,a.default)(document.createElement("button"));n.addClass("".concat(C("add")," btn-accent"));n.text("+");this.cm.on("cursorActivity",(function(){var e=t.cm.doc.listSelections()[0];var a=[e.anchor.line,e.head.line].sort();var r=[];var o=a[0];do{r.push(o);o++}while(o<=a[1]);(0,i.jqOffOn)(n,"click",(function(e){e.preventDefault();t.showNoteEditModal({lines:r})}));n.css(t.getButtonStylesForLineSet(r));var s=true;t.cm.addWidget({line:r[0],ch:0},n[0],s)}))}},{key:"handleSecondaryInputs",value:function e(){var t=this;var n=(0,i.jqGetElemById)("codex-notes-show-intro");n.on("change",(function(){t.showIntro=n.prop("checked");t.saveData()}));n.prop("checked",this.showIntro)}},{key:"showNoteEditModal",value:function e(t,n){var o=this;this.template=this.template||r.default.template((0,i.jqGetElemById)("codex-note-edit-modal").text());var s=this.notes.length+1;var l=n||s;var u={show_on_solvable_id:"",expect_user_to_edit:false,content:"",isEditing:t.content&&t.content.length>0,startLine:t.lines[0]+1,endLine:t.lines[t.lines.length-1]+1,maxLineNumber:this.cm.getValue().split("\n").length,editorId:Math.floor(Math.random()*1e3),noteNumber:l,maxNoteNumber:s};var c=Object.assign({},u,t);c.content=c.content.replace(/\\n/g,"\n");var d=(0,a.default)(document.createElement("div"));d.html(this.template(c));var f=d.children(".modal");f.find(".btn-delete").on("click",(function(e){e.preventDefault();o.deleteNote(l);f.modal("hide")}));var p=f.find("form");p.on("submit",(function(e){e.preventDefault();var t={};p.find("input,textarea").each((function(e,n){var a=n.name;var r=n.value;if(n.type==="checkbox"){r=n.checked}t[a]=r}));o.saveNote(l,t);f.modal("hide")}));f.appendTo(document.body);f.modal();p.find(":input:first").focus()}},{key:"getButtonStylesForLineSet",value:function e(t){var n=this;var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=t.reduce((function(e,t){var a=n.notesPerLine[t];return a>e?a:e}),0);var i=t.length*b;return{right:r*_+r*w+a,width:_,height:i}}}]);return e}();t.CodexNoteEditor=x;var E="codex-notes-active";var I=".codex-notes-next";var T="codex_viewed_intro";var O="codex_viewed_notes";var S="codex_viewed_note_item";var q="codex_hid_notes";var j=function(){function e(t){var n=t.state,a=t.$container;m(this,e);this.cm=n.cm;this.initialValues={code:n.initialCode,language:n.initialLanguage};this.$container=a;this.$notesWrapper=a.find(".codex-notes");if(!this.$notesWrapper.length){return}this.$notes=this.$notesWrapper.find(".note,.note-placeholder");this.$language=a.find("[name=language]");this.$disableElements=a.find(".disable-during-notes");this.$showNotesButton=this.$container.find(".codex-show-notes");this.$toggleButton=this.$container.find(".codex-expand-toggle");this.currentNote=k;this.numNotes=this.$notes.length;this.existingHighlights=[];this.isShowingNotes=false;this.isAnimated=true;this.readNoteData();this.bindEvents()}y(e,[{key:"run",value:function e(){if(!this.userHidNotes){if(this.userNeedsIntro){this.showIntro()}else{this.$notesIntro=null;this.showNotes()}}}},{key:"trackNoteAction",value:function e(t){var n={action:t};if(t===S){n=Object.assign({},n,{step_position:this.currentNote+1,is_first_step:this.currentNote===0,is_last_step:this.currentNote===this.numNotes-1,triggered_by:s.INTERACTION_TYPES.PREV_NEXT_BUTTON})}(0,o.track)("ui",n)}},{key:"readNoteData",value:function e(){var t=this;var n=this.$container.data();var r={};if(window.__brilliantData__){r=window.__brilliantData__.codex_records.find((function(e){return e.codex_env_id===n.codexEnvId}))}this.userNeedsIntro=n.showNotesIntro;this.codexUpdateUrl=r.codex_update_url||n.codexUpdateUrl;this.userHidNotes=r.user_hid_notes||n.notesUserHid;this.largestViewedNoteNumber=r.largest_viewed_note_number||n.notesLargestViewed;this.notes=[];this.$notes.each((function(e,n){var r=(0,a.default)(n);var i=r.data();t.notes.push(Object.assign({$note:r},i));if(i.currentNote&&!t.userHidNotes){t.currentNote=e-1}}))}},{key:"bindEvents",value:function e(){var t=this;this.$notesWrapper.find(I).on("click",(function(e){e.preventDefault();t.nextNote()}));this.$showNotesButton.on("click",(function(e){e.preventDefault();e.stopPropagation();t.$showNotesButton.blur();if(t.isShowingNotes){t.currentNote--;t.hideNotes()}else{t.showNotes()}}))}},{key:"showNotes",value:function e(){this.userValues={code:this.cm.getValue(),language:this.$language.val()};(0,a.default)(document.body).addClass(E);this.$container.removeClass("expanded");this.$toggleButton.removeClass("active");this.cm.setValue(this.initialValues.code);this.$language.val(this.initialValues.language);this.$disableElements.prop("disabled",true);this.$showNotesButton.addClass(s.CLASS_NAME_ACTIVE);this.cm.setOption("readOnly",true);this.$notesWrapper.removeClass(s.CLASS_NAME_HIDE);this.isShowingNotes=true;this.trackNoteAction(O);this.nextNote()}},{key:"showIntro",value:function e(){var t=this;(0,a.default)(document.body).addClass(E);this.$container.removeClass("expanded");var n=this.$container.find(".codex-notes-intro");n.removeClass(s.CLASS_NAME_HIDE).addClass(s.CLASS_NAME_ANIM_IN);n.find(I).on("click",(function(e){e.preventDefault();e.stopPropagation();n.on("transitionend",(function(){n.remove();t.showNotes()}));n.removeClass(s.CLASS_NAME_ANIM_IN)}));this.userNeedsIntro=false;this.isShowingNotes=true;this.trackNoteAction(T)}},{key:"baseHideNotes",value:function e(){var t=this;this.clearHighlights();this.cm.setOption("readOnly",false);this.$disableElements.prop("disabled",false);this.$showNotesButton.removeClass(s.CLASS_NAME_ACTIVE);this.cm.setValue(this.userValues.code);this.$language.val(this.userValues.language);this.userValues={};this.updateCodexRecord({user_hid_notes:true});this.userHidNotes=true;this.isShowingNotes=false;this.trackNoteAction(q);var n=function e(){t.$notesWrapper.addClass(s.CLASS_NAME_HIDE);(0,a.default)(document.body).removeClass(E)};if(this.isAnimated){this.$notesWrapper.one("transitionend",n);this.$notesWrapper.removeClass(s.CLASS_NAME_ANIM_IN)}else{n()}}},{key:"hideNotes",value:function e(){this.baseHideNotes()}},{key:"baseNextNote",value:function e(){var t=this;this.currentNote++;if(this.currentNote===this.numNotes){this.currentNote=k;this.hideNotes()}else{var n=function e(){var n=t.$notes.eq(t.currentNote);t.$notes.removeClass(s.CLASS_NAME_ACTIVE);n.addClass(s.CLASS_NAME_ACTIVE);t.highlightLines(n.data("lines"));t.positionNote(n);t.$notesWrapper.addClass(s.CLASS_NAME_ANIM_IN);var a=t.currentNote+1;t.updateCodexRecord({largest_viewed_note_number:a});t.largestViewedNoteNumber=Math.max(t.largestViewedNoteNumber,a)};if(this.isAnimated&&this.$notesWrapper.hasClass(s.CLASS_NAME_ANIM_IN)){this.$notesWrapper.one("transitionend",n);this.$notesWrapper.removeClass(s.CLASS_NAME_ANIM_IN)}else{n()}this.trackNoteAction(S)}}},{key:"nextNote",value:function e(){this.baseNextNote()}},{key:"updateCodexRecord",value:function e(t){if(this.codexUpdateUrl&&this.validateCodexRecordAttrs(t)){a.default.ajax({url:this.codexUpdateUrl,type:"POST",data:JSON.stringify(t),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}})}}},{key:"validateCodexRecordAttrs",value:function e(t){if(t.largest_viewed_note_number){if(t.largest_viewed_note_number<=this.largestViewedNoteNumber){return false}}if(t.user_hid_notes===true&&this.userHidNotes===true){return false}return true}},{key:"clearHighlights",value:function e(){this.existingHighlights.forEach((function(e){return e.remove()}));this.existingHighlights=[]}},{key:"highlightLines",value:function e(t){var n=this;var r=(0,a.default)(document.createElement("span"));r.addClass("codex-line-highlight");r.css({height:l.CODEX_LINE_HEIGHT});this.clearHighlights();t.forEach((function(e,a){var i=r.clone();if(a===0){i.addClass("top")}if(a===t.length-1){i.addClass("bottom")}var o=true;n.cm.addWidget({line:e,ch:0},i[0],o);i.css({top:parseInt(i.css("top"),10)-l.CODEX_LINE_HEIGHT});n.existingHighlights.push(i)}))}},{key:"positionNote",value:function e(t){if(i.isMobile){return}var n=parseInt(this.existingHighlights[0].css("top"),10);var a=l.CODEX_LINE_HEIGHT*this.existingHighlights.length;var r=n+a/2;var o=t.outerHeight();var s=this.$container.find("header").outerHeight();var u=this.$container.find(".codex-form").outerHeight();var c=this.$container.find(".CodeMirror-scroll").scrollTop();var d=4;var f=0+d;var p=u-o-d;var v=r-o/2+s-c;v=Math.min(Math.max(f,v),p);this.$notesWrapper.css({top:v})}}]);return e}();t.CodexNotesDisplayHandlerBase=j;var P=function(e){v(t,e);function t(){m(this,t);return d(this,p(t).apply(this,arguments))}y(t,[{key:"nextNote",value:function e(){var t=this;this.baseNextNote();if(this.isShowingNotes){setTimeout((function(){var e=(0,a.default)(t.$notes[t.currentNote]);var n=t.$container.offset().top-e.outerHeight();var r=i.$window.scrollTop();var o=n<r;var s=t.$container.offset().top-r;var l=t.$container.find(".codex-form").outerHeight();var u=i.$window.height();var c=s+l-u;var d=c>0;if(o||d){(0,i.setScrollPosition)(n)}}),1)}}}]);return t}(j);t.CodexNotesDisplayHandlerMobile=P;var A={};function D(){if(!window.Android){window.Android={}}if(!window.Android.codexTappedNext){window.Android.codexTappedNext=function(e){var t=A[e];if(t){t.nextNote()}}}}var N=function(e){v(t,e);function t(e){var n;var a=e.state,r=e.$container;m(this,t);n=d(this,p(t).call(this,{state:a,$container:r}));n.isAnimated=false;n.envId=r.data("codex-env-id");A[n.envId]=f(n);D();return n}y(t,[{key:"hideNotes",value:function e(){this.baseHideNotes();try{window.Android.codexHideNotes(this.envId)}catch(e){throw new Error("Bridge function unavailable: codexHideNotes")}}},{key:"nextNote",value:function e(){this.baseNextNote();try{window.Android.codexShowNote(this.envId,this.currentNote)}catch(e){throw new Error("Bridge function unavailable: codexShowNote")}}}]);return t}(j);t.CodexNotesDisplayHandlerAndroid=N},98:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CodexDeemphasizer=t.CodexDeemphasizerEditor=void 0;var a=o(n(0));var r=n(189);var i=n(68);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function u(e,t,n){if(t)l(e.prototype,t);if(n)l(e,n);return e}function c(e){return e.map((function(e){return Object.assign({},e)}))}function d(e){var t=e.deemphasizeInfo,n=e.initial,a=e.current;var i=c(t);var o=0;var s=0;var l=(0,r.diffLines)(n,a);l.forEach((function(e,t){var n=e.value.split("\n").length-1;if(e.removed){n*=-1}if(e.added){n+=s}else if(e.removed){if(l[t+1]&&l[t+1].added){s=n;return}}if(e.added||e.removed){i.forEach((function(e){if(e.start>=o){e.start+=n}if(e.end>=o){e.end+=n}}))}o+=n-s;s=0}));return i}function f(e){var t=e.cm,n=e.existingSections,r=e.deemphasizeInfo,o=e.className;var s=n.slice(0,n.length);s.forEach((function(e){return e.remove()}));s=[];if(r.length){var l=false;var u=(0,a.default)("<div/>");u.addClass(o);u.css({height:i.CODEX_LINE_HEIGHT});r.forEach((function(e,n){var a=e.start;while(a<=e.end){var r=u.clone();r.attr("data-index",n);r.css({marginTop:-i.CODEX_LINE_HEIGHT});t.addWidget({line:a,ch:0},r[0],l);if(e.prevent_click){r.addClass("prevent-click")}s.push(r);a++}}))}return s}var p="&#128077;";var v="&#128577;";var h={tableHeader:function e(){return"\n        <thead>\n            <tr>\n                <th>Line start</th>\n                <th>Line end</th>\n                <th>Prevent click?</th>\n                <th>Valid?</th>\n                <th>&nbsp;</th>\n            </tr>\n        </thead>\n    "},field:function e(t){var n=t.index,a=t.data,r=t.numLines;return'\n        <tr data-index="'.concat(n,'">\n            <td class="number">\n                <input type="number"\n                    min="1"\n                    max="').concat(r,'"\n                    value="').concat(a.start,'"\n                    data-name="start">\n            </td>\n            <td class="number">\n                <input type="number"\n                    min="1"\n                    max="').concat(r,'"\n                    value="').concat(a.end,'"\n                    data-name="end">\n            </td>\n            <td class="checkbox">\n                <input type="checkbox"\n                    ').concat(a.prevent_click?"checked":"",'\n                    data-name="prevent_click">\n            </td>\n            <td class="error">\n                ').concat(a.start>0&&a.end>0?p:"&hellip;",'\n            </td>\n            <td class="remove">\n                <span class="remove-row css-sprite-global" data-index="').concat(n,'"></span>\n            </td>\n        </tr>\n    ')},addButton:function e(){return'<span class="btn add-row">Add de-emphasized section</span>'}};var m=function(){function e(t){var n=t.cm,a=t.$deemphasizeField,r=t.$deemphasizeContainer;s(this,e);this.cm=n;this.$deemphasizeField=a;this.$deemphasizeContainer=r;this.initialCode=this.cm.getValue();this.existingSections=[];this.readData();this.renderFields();this.renderCodexAnnotations();this.bindCodeMirrorEvents()}u(e,[{key:"readData",value:function e(){try{this.data=JSON.parse(this.$deemphasizeField.val())}catch(e){this.data={}}this.deemphasizeInfo=this.data.deemphasizeInfo||[]}},{key:"saveData",value:function e(){var t=this;var n=this.deemphasizeInfo.filter((function(e){return t.validateInfoItem(e).success})).map((function(e){return Object.assign({prevent_click:e.prevent_click===true},e)}));var a={};if(n.length){a.deemphasizeInfo=n}this.$deemphasizeField.val(JSON.stringify(a,null,2))}},{key:"renderFields",value:function e(){var t=this;this.$deemphasizeContainer.empty();if(this.deemphasizeInfo.length){var n=(0,a.default)("<table/>");var r=(0,a.default)("<tbody/>");n.append(h.tableHeader());n.append(r);this.deemphasizeInfo.forEach((function(e,n){r.append(h.field({index:n,data:{start:e.start===""?"":e.start+1,end:e.end===""?"":e.end+1,prevent_click:e.prevent_click},numLines:t.getNumLines()}))}));this.$deemphasizeContainer.append(n)}this.$deemphasizeContainer.append(h.addButton());this.bindFieldsEvents()}},{key:"renderCodexAnnotations",value:function e(){this.existingSections=f({cm:this.cm,existingSections:this.existingSections,deemphasizeInfo:this.deemphasizeInfo,className:"codex-deemphasize-highlight-admin"})}},{key:"bindFieldsEvents",value:function e(){var t=this;this.$deemphasizeContainer.find(".add-row").on("click",(function(){t.deemphasizeInfo.push({start:"",end:"",prevent_click:false});t.renderFields()}));this.$deemphasizeContainer.find(".remove-row").on("click",(function(e){t.deemphasizeInfo.splice((0,a.default)(e.target).data("index"),1);t.renderFields();t.renderCodexAnnotations();t.saveData()}));this.$deemphasizeContainer.find("input").on("input",(function(e){var n=(0,a.default)(e.target);var r=n.parents("tr");var i=r.find("input");var o=r.data("index");var s={};i.each((function(e,t){var n=(0,a.default)(t);var r=n.prop("type");var i;switch(r){case"number":i=parseInt(n.val(),10)-1;if(Number.isNaN(i)){i=null}break;case"checkbox":i=n.prop("checked");break;default:throw new Error("Unexpected input type: ".concat(r))}s[n.data("name")]=i}));var l=t.validateInfoItem(s);var u=r.find(".error");if(l.success){u.html(p);t.deemphasizeInfo[o]=s;t.renderCodexAnnotations();t.saveData()}else{u.html("".concat(v," ").concat(l.error))}}))}},{key:"bindCodeMirrorEvents",value:function e(){var t=this;this.cm.on("change",(function(){var e=t.cm.getValue();t.deemphasizeInfo=d({deemphasizeInfo:t.deemphasizeInfo,initial:t.initialCode,current:e});t.initialCode=e;t.renderFields();t.renderCodexAnnotations();t.saveData()}))}},{key:"getNumLines",value:function e(){return this.cm.getValue().split("\n").length}},{key:"validateInfoItem",value:function e(t){var n=this.getNumLines();var a=false;var r=null;if(typeof t.start!=="number"){r="Start is not a number"}else if(typeof t.end!=="number"){r="End is not a number"}else if(t.start<0||t.end<0){r="Start and end must be greater than 0"}else if(t.start>=n||t.end>=n){r="Start and end must be less than ".concat(n)}else if(t.start>t.end){r="Start is greater than end"}else{a=true}return{success:a,error:r}}}]);return e}();t.CodexDeemphasizerEditor=m;var g={};var y=function(){function e(t){var n=t.cm,a=t.data,r=t.envId,i=t.initialCode;s(this,e);this.cm=n;this.envId=r;var o=g[r]||{};this.deemphasizeInfo=o.current||a.deemphasizeInfo||[];this.initialDeemphasizeInfo=o.initial||c(this.deemphasizeInfo);this.initialCode=i;this.existingSections=[];this.deemphasizeClassName="codex-deemphasize-highlight";this.updateData();this.render();this.bindCodeMirrorEvents();this.bindDeemphasizeEvents()}u(e,[{key:"render",value:function e(){this.existingSections=f({cm:this.cm,existingSections:this.existingSections,deemphasizeInfo:this.deemphasizeInfo,className:this.deemphasizeClassName})}},{key:"bindCodeMirrorEvents",value:function e(){var t=this;this.cm.on("change",(function(){t.updateData();t.render();t.bindDeemphasizeEvents()}));this.cm.on("beforeChange",(function(e,n){if(t.cm.brilliant.isEditing){return}for(var a=0;a<t.deemphasizeInfo.length;a++){var r=t.deemphasizeInfo[a];if(n.from.line>=r.start&&n.from.line<=r.end){n.cancel();break}}}))}},{key:"bindDeemphasizeEvents",value:function e(){var t=this;if(this.existingSections.length){var n="hover";var r=this.existingSections[0];var i=r.add(r.siblings(".".concat(this.deemphasizeClassName)));i.on("mouseenter",(function(e){var t=(0,a.default)(e.target);i.removeClass(n);i.filter("[data-index=".concat(t.data("index"),"]")).addClass(n)}));i.on("mouseleave",(function(){return i.removeClass(n)}));i.filter(":not(.prevent-click)").on("click",(function(e){t.removeInfoItem((0,a.default)(e.target).data("index"));t.render();t.bindDeemphasizeEvents()}))}}},{key:"removeInfoItem",value:function e(t){this.deemphasizeInfo.splice(t,1);this.initialDeemphasizeInfo.splice(t,1);g[this.envId]={initial:c(this.initialDeemphasizeInfo),current:c(this.deemphasizeInfo)}}},{key:"updateData",value:function e(){this.deemphasizeInfo=d({deemphasizeInfo:c(this.initialDeemphasizeInfo),initial:this.initialCode,current:this.cm.getValue()})}}]);return e}();t.CodexDeemphasizer=y},99:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getSharedContext=d;var a=i(n(67));var r=n(69);function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function l(e,t,n){if(t)s(e.prototype,t);if(n)s(e,n);return e}var u={};var c=function(){function e(){o(this,e);this.value=null;this.$output=null}l(e,[{key:"applyContext",value:function e(t,n){if(this.value){a.setValue(n,this.value);t.find(".codex-textarea textarea").val(this.value)}if(this.$output){var i=t.find(".codex-output");if(i.length){i.replaceWith(this.$output)}else{t.append(this.$output)}(0,r.handleOutputGifs)(t)}else{var o=t.find(".codex-output");if(o.length){this.$output=o.clone()}}}},{key:"setValue",value:function e(t){this.value=t}},{key:"clearOutput",value:function e(){this.$output=null}}]);return e}();function d(e){if(!u[e]){u[e]=new c}return u[e]}}});
//# sourceMappingURL=brilliant_entry.f4ac67920563f1a14f3a.js.map